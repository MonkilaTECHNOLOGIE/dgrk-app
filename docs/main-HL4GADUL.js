var VS=Object.defineProperty,US=Object.defineProperties;var jS=Object.getOwnPropertyDescriptors;var Ha=Object.getOwnPropertySymbols,BS=Object.getPrototypeOf,Uv=Object.prototype.hasOwnProperty,jv=Object.prototype.propertyIsEnumerable,$S=Reflect.get;var Vv=(e,t,n)=>t in e?VS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C=(e,t)=>{for(var n in t||={})Uv.call(t,n)&&Vv(e,n,t[n]);if(Ha)for(var n of Ha(t))jv.call(t,n)&&Vv(e,n,t[n]);return e},W=(e,t)=>US(e,jS(t));var Bv=(e,t)=>{var n={};for(var r in e)Uv.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ha)for(var r of Ha(e))t.indexOf(r)<0&&jv.call(e,r)&&(n[r]=e[r]);return n};var Ir=(e,t,n)=>$S(BS(e),n,t);var v=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});function $v(e,t){return Object.is(e,t)}var Ce=null,Wa=!1,za=1,Ln=Symbol("SIGNAL");function z(e){let t=Ce;return Ce=e,t}function Hv(){return Ce}var Qo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Sd(e){if(Wa)throw new Error("");if(Ce===null)return;Ce.consumerOnSignalRead(e);let t=Ce.nextProducerIndex++;if(Ka(Ce),t<Ce.producerNode.length&&Ce.producerNode[t]!==e&&Zo(Ce)){let n=Ce.producerNode[t];Ya(n,Ce.producerIndexOfThis[t])}Ce.producerNode[t]!==e&&(Ce.producerNode[t]=e,Ce.producerIndexOfThis[t]=Zo(Ce)?qv(e,Ce,t):0),Ce.producerLastReadVersion[t]=e.version}function HS(){za++}function Wv(e){if(!(Zo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===za)){if(!e.producerMustRecompute(e)&&!Ad(e)){e.dirty=!1,e.lastCleanEpoch=za;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=za}}function zv(e){if(e.liveConsumerNode===void 0)return;let t=Wa;Wa=!0;try{for(let n of e.liveConsumerNode)n.dirty||WS(n)}finally{Wa=t}}function Gv(){return Ce?.consumerAllowSignalWrites!==!1}function WS(e){e.dirty=!0,zv(e),e.consumerMarkedDirty?.(e)}function qa(e){return e&&(e.nextProducerIndex=0),z(e)}function Td(e,t){if(z(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Zo(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ya(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ad(e){Ka(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Wv(n),r!==n.version))return!0}return!1}function Md(e){if(Ka(e),Zo(e))for(let t=0;t<e.producerNode.length;t++)Ya(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function qv(e,t,n){if(Yv(e),e.liveConsumerNode.length===0&&Kv(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=qv(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Ya(e,t){if(Yv(e),e.liveConsumerNode.length===1&&Kv(e))for(let r=0;r<e.producerNode.length;r++)Ya(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Ka(i),i.producerIndexOfThis[r]=t}}function Zo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ka(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Yv(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Kv(e){return e.producerNode!==void 0}function Zv(e){let t=Object.create(zS);t.computation=e;let n=()=>{if(Wv(t),Sd(t),t.value===Ga)throw t.error;return t.value};return n[Ln]=t,n}var bd=Symbol("UNSET"),Dd=Symbol("COMPUTING"),Ga=Symbol("ERRORED"),zS=W(C({},Qo),{value:bd,dirty:!0,error:null,equal:$v,producerMustRecompute(e){return e.value===bd||e.value===Dd},producerRecomputeValue(e){if(e.value===Dd)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Dd;let n=qa(e),r;try{r=e.computation()}catch(i){r=Ga,e.error=i}finally{Td(e,n)}if(t!==bd&&t!==Ga&&r!==Ga&&e.equal(t,r)){e.value=t;return}e.value=r,e.version++}});function GS(){throw new Error}var Qv=GS;function Jv(){Qv()}function Xv(e){Qv=e}var qS=null;function ey(e){let t=Object.create(ny);t.value=e;let n=()=>(Sd(t),t.value);return n[Ln]=t,n}function Nd(e,t){Gv()||Jv(),e.equal(e.value,t)||(e.value=t,YS(e))}function ty(e,t){Gv()||Jv(),Nd(e,t(e.value))}var ny=W(C({},Qo),{equal:$v,value:void 0});function YS(e){e.version++,HS(),zv(e),qS?.()}function k(e){return typeof e=="function"}function gi(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Za=gi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Cr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var me=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(k(r))try{r()}catch(o){t=o instanceof Za?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ry(o)}catch(s){t=t??[],s instanceof Za?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Za(t)}}add(t){var n;if(t&&t!==this)if(this.closed)ry(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Cr(n,t)}remove(t){let{_finalizers:n}=this;n&&Cr(n,t),t instanceof e&&t._removeParent(this)}};me.EMPTY=(()=>{let e=new me;return e.closed=!0,e})();var Rd=me.EMPTY;function Qa(e){return e instanceof me||e&&"closed"in e&&k(e.remove)&&k(e.add)&&k(e.unsubscribe)}function ry(e){k(e)?e():e.unsubscribe()}var Ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var vi={setTimeout(e,t,...n){let{delegate:r}=vi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=vi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ja(e){vi.setTimeout(()=>{let{onUnhandledError:t}=Ct;if(t)t(e);else throw e})}function Jo(){}var iy=xd("C",void 0,void 0);function oy(e){return xd("E",void 0,e)}function sy(e){return xd("N",e,void 0)}function xd(e,t,n){return{kind:e,value:t,error:n}}var br=null;function yi(e){if(Ct.useDeprecatedSynchronousErrorHandling){let t=!br;if(t&&(br={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=br;if(br=null,n)throw r}}else e()}function ay(e){Ct.useDeprecatedSynchronousErrorHandling&&br&&(br.errorThrown=!0,br.error=e)}var Dr=class extends me{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Qa(t)&&t.add(this)):this.destination=QS}static create(t,n,r){return new _i(t,n,r)}next(t){this.isStopped?Pd(sy(t),this):this._next(t)}error(t){this.isStopped?Pd(oy(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Pd(iy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KS=Function.prototype.bind;function Od(e,t){return KS.call(e,t)}var kd=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Xa(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Xa(r)}else Xa(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Xa(n)}}},_i=class extends Dr{constructor(t,n,r){super();let i;if(k(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ct.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Od(t.next,o),error:t.error&&Od(t.error,o),complete:t.complete&&Od(t.complete,o)}):i=t}this.destination=new kd(i)}};function Xa(e){Ct.useDeprecatedSynchronousErrorHandling?ay(e):Ja(e)}function ZS(e){throw e}function Pd(e,t){let{onStoppedNotification:n}=Ct;n&&vi.setTimeout(()=>n(e,t))}var QS={closed:!0,next:Jo,error:ZS,complete:Jo};var Ei=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Qe(e){return e}function Fd(...e){return Ld(e)}function Ld(e){return e.length===0?Qe:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var G=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=XS(n)?n:new _i(n,r,i);return yi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=cy(r),new r((i,o)=>{let s=new _i({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ei](){return this}pipe(...n){return Ld(n)(this)}toPromise(n){return n=cy(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function cy(e){var t;return(t=e??Ct.Promise)!==null&&t!==void 0?t:Promise}function JS(e){return e&&k(e.next)&&k(e.error)&&k(e.complete)}function XS(e){return e&&e instanceof Dr||JS(e)&&Qa(e)}function Vd(e){return k(e?.lift)}function K(e){return t=>{if(Vd(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function q(e,t,n,r,i){return new Ud(e,t,n,r,i)}var Ud=class extends Dr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function wi(){return K((e,t)=>{let n=null;e._refCount++;let r=q(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Ii=class extends G{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Vd(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new me;let n=this.getSubject();t.add(this.source.subscribe(q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=me.EMPTY)}return t}refCount(){return wi()(this)}};var ly=gi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=(()=>{class e extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ec(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ly}next(n){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Rd:(this.currentObservers=null,o.push(n),new me(()=>{this.currentObservers=null,Cr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return e.create=(t,n)=>new ec(t,n),e})(),ec=class extends Se{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Rd}};var Re=class extends Se{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var jd={now(){return(jd.delegate||Date).now()},delegate:void 0};var tc=class extends me{constructor(t,n){super()}schedule(t,n=0){return this}};var Xo={setInterval(e,t,...n){let{delegate:r}=Xo;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Xo;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Ci=class extends tc{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return Xo.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Xo.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Cr(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var bi=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};bi.now=jd.now;var Di=class extends bi{constructor(t,n=bi.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Bd=new Di(Ci);var nc=class extends Ci{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var rc=class extends Di{};var $d=new rc(nc);var Je=new G(e=>e.complete());function uy(e){return e&&k(e.schedule)}function dy(e){return e[e.length-1]}function ic(e){return k(dy(e))?e.pop():void 0}function Vn(e){return uy(dy(e))?e.pop():void 0}function Hd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function fy(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function hy(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sr(e){return this instanceof Sr?(this.v=e,this):new Sr(e)}function py(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(y){return Promise.resolve(y).then(g,d)}}function a(g,y){r[g]&&(i[g]=function(w){return new Promise(function(I,S){o.push([g,w,I,S])>1||c(g,w)})},y&&(i[g]=y(i[g])))}function c(g,y){try{l(r[g](y))}catch(w){p(o[0][3],w)}}function l(g){g.value instanceof Sr?Promise.resolve(g.value.v).then(u,d):p(o[0][2],g)}function u(g){c("next",g)}function d(g){c("throw",g)}function p(g,y){g(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function my(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof hy=="function"?hy(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var oc=e=>e&&typeof e.length=="number"&&typeof e!="function";function sc(e){return k(e?.then)}function ac(e){return k(e[Ei])}function cc(e){return Symbol.asyncIterator&&k(e?.[Symbol.asyncIterator])}function lc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function eT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var uc=eT();function dc(e){return k(e?.[uc])}function hc(e){return py(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Sr(n.read());if(i)return yield Sr(void 0);yield yield Sr(r)}}finally{n.releaseLock()}})}function fc(e){return k(e?.getReader)}function _e(e){if(e instanceof G)return e;if(e!=null){if(ac(e))return tT(e);if(oc(e))return nT(e);if(sc(e))return rT(e);if(cc(e))return gy(e);if(dc(e))return iT(e);if(fc(e))return oT(e)}throw lc(e)}function tT(e){return new G(t=>{let n=e[Ei]();if(k(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nT(e){return new G(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function rT(e){return new G(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ja)})}function iT(e){return new G(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function gy(e){return new G(t=>{sT(e,t).catch(n=>t.error(n))})}function oT(e){return gy(hc(e))}function sT(e,t){var n,r,i,o;return fy(this,void 0,void 0,function*(){try{for(n=my(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function He(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Un(e,t=0){return K((n,r)=>{n.subscribe(q(r,i=>He(r,e,()=>r.next(i),t),()=>He(r,e,()=>r.complete(),t),i=>He(r,e,()=>r.error(i),t)))})}function jn(e,t=0){return K((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function vy(e,t){return _e(e).pipe(jn(t),Un(t))}function yy(e,t){return _e(e).pipe(jn(t),Un(t))}function _y(e,t){return new G(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Ey(e,t){return new G(n=>{let r;return He(n,t,()=>{r=e[uc](),He(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>k(r?.return)&&r.return()})}function pc(e,t){if(!e)throw new Error("Iterable cannot be null");return new G(n=>{He(n,t,()=>{let r=e[Symbol.asyncIterator]();He(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function wy(e,t){return pc(hc(e),t)}function Iy(e,t){if(e!=null){if(ac(e))return vy(e,t);if(oc(e))return _y(e,t);if(sc(e))return yy(e,t);if(cc(e))return pc(e,t);if(dc(e))return Ey(e,t);if(fc(e))return wy(e,t)}throw lc(e)}function fe(e,t){return t?Iy(e,t):_e(e)}function O(...e){let t=Vn(e);return fe(e,t)}function Si(e,t){let n=k(e)?e:()=>e,r=i=>i.error(n());return new G(t?i=>t.schedule(r,0,i):r)}function Wd(e){return!!e&&(e instanceof G||k(e.lift)&&k(e.subscribe))}var un=gi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function L(e,t){return K((n,r)=>{let i=0;n.subscribe(q(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:aT}=Array;function cT(e,t){return aT(t)?e(...t):e(t)}function mc(e){return L(t=>cT(e,t))}var{isArray:lT}=Array,{getPrototypeOf:uT,prototype:dT,keys:hT}=Object;function gc(e){if(e.length===1){let t=e[0];if(lT(t))return{args:t,keys:null};if(fT(t)){let n=hT(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function fT(e){return e&&typeof e=="object"&&uT(e)===dT}function vc(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function yc(...e){let t=Vn(e),n=ic(e),{args:r,keys:i}=gc(e);if(r.length===0)return fe([],t);let o=new G(pT(r,t,i?s=>vc(i,s):Qe));return n?o.pipe(mc(n)):o}function pT(e,t,n=Qe){return r=>{Cy(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Cy(t,()=>{let l=fe(e[c],t),u=!1;l.subscribe(q(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Cy(e,t,n){e?He(n,e,t):t()}function by(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,p=()=>{d&&!c.length&&!l&&t.complete()},g=w=>l<r?y(w):c.push(w),y=w=>{o&&t.next(w),l++;let I=!1;_e(n(w,u++)).subscribe(q(t,S=>{i?.(S),o?g(S):t.next(S)},()=>{I=!0},void 0,()=>{if(I)try{for(l--;c.length&&l<r;){let S=c.shift();s?He(t,s,()=>y(S)):y(S)}p()}catch(S){t.error(S)}}))};return e.subscribe(q(t,g,()=>{d=!0,p()})),()=>{a?.()}}function be(e,t,n=1/0){return k(t)?be((r,i)=>L((o,s)=>t(r,o,i,s))(_e(e(r,i))),n):(typeof t=="number"&&(n=t),K((r,i)=>by(r,i,e,n)))}function zd(e=1/0){return be(Qe,e)}function Dy(){return zd(1)}function Ti(...e){return Dy()(fe(e,Vn(e)))}function _c(e){return new G(t=>{_e(e()).subscribe(t)})}function Gd(...e){let t=ic(e),{args:n,keys:r}=gc(e),i=new G(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;_e(n[u]).subscribe(q(o,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?vc(r,a):a),o.complete())}))}});return t?i.pipe(mc(t)):i}function Xe(e,t){return K((n,r)=>{let i=0;n.subscribe(q(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Bn(e){return K((t,n)=>{let r=null,i=!1,o;r=t.subscribe(q(n,void 0,void 0,s=>{o=_e(e(s,Bn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Sy(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(q(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function $n(e,t){return k(t)?be(e,t,1):be(e,1)}function Hn(e){return K((t,n)=>{let r=!1;t.subscribe(q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function dn(e){return e<=0?()=>Je:K((t,n)=>{let r=0;t.subscribe(q(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function qd(e){return L(()=>e)}function Ec(e=mT){return K((t,n)=>{let r=!1;t.subscribe(q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function mT(){return new un}function Tr(e){return K((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function bt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Xe((i,o)=>e(i,o,r)):Qe,dn(1),n?Hn(t):Ec(()=>new un))}function Ai(e){return e<=0?()=>Je:K((t,n)=>{let r=[];t.subscribe(q(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Yd(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Xe((i,o)=>e(i,o,r)):Qe,Ai(1),n?Hn(t):Ec(()=>new un))}function Kd(e,t){return K(Sy(e,t,arguments.length>=2,!0))}function Zd(...e){let t=Vn(e);return K((n,r)=>{(t?Ti(e,n,t):Ti(e,n)).subscribe(r)})}function et(e,t){return K((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(q(r,c=>{i?.unsubscribe();let l=0,u=o++;_e(e(c,u)).subscribe(i=q(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Qd(e){return K((t,n)=>{_e(e).subscribe(q(n,()=>n.complete(),Jo)),!n.closed&&t.subscribe(n)})}function ve(e,t,n){let r=k(e)||t||n?{next:e,error:t,complete:n}:e;return r?K((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(q(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Qe}var d_="https://g.co/ng/security#xss",A=class extends Error{constructor(t,n){super(cl(t,n)),this.code=t}};function cl(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function ps(e){return{toString:e}.toString()}var wc="__parameters__";function gT(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function vT(e,t,n){return ps(()=>{let r=gT(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(wc)?c[wc]:Object.defineProperty(c,wc,{value:[]})[wc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var ph=globalThis;function ae(e){for(let t in e)if(e[t]===ae)return t;throw Error("Could not find renamed property on target object.")}function yT(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ze(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(ze).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function Ty(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var _T=ae({__forward_ref__:ae});function zt(e){return e.__forward_ref__=zt,e.toString=function(){return ze(this())},e}function Be(e){return h_(e)?e():e}function h_(e){return typeof e=="function"&&e.hasOwnProperty(_T)&&e.__forward_ref__===zt}function T(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Nt(e){return{providers:e.providers||[],imports:e.imports||[]}}function ll(e){return Ay(e,p_)||Ay(e,m_)}function f_(e){return ll(e)!==null}function Ay(e,t){return e.hasOwnProperty(t)?e[t]:null}function ET(e){let t=e&&(e[p_]||e[m_]);return t||null}function My(e){return e&&(e.hasOwnProperty(Ny)||e.hasOwnProperty(wT))?e[Ny]:null}var p_=ae({\u0275prov:ae}),Ny=ae({\u0275inj:ae}),m_=ae({ngInjectableDef:ae}),wT=ae({ngInjectorDef:ae}),D=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=T({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function g_(e){return e&&!!e.\u0275providers}var IT=ae({\u0275cmp:ae}),CT=ae({\u0275dir:ae}),bT=ae({\u0275pipe:ae}),DT=ae({\u0275mod:ae}),Pc=ae({\u0275fac:ae}),ns=ae({__NG_ELEMENT_ID__:ae}),Ry=ae({__NG_ENV_ID__:ae});function Pi(e){return typeof e=="string"?e:e==null?"":String(e)}function ST(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Pi(e)}function TT(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new A(-200,e)}function af(e,t){throw new A(-201,!1)}var $=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}($||{}),mh;function v_(){return mh}function We(e){let t=mh;return mh=e,t}function y_(e,t,n){let r=ll(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&$.Optional)return null;if(t!==void 0)return t;af(e,"Injector")}var AT={},rs=AT,gh="__NG_DI_FLAG__",kc="ngTempTokenPath",MT="ngTokenPath",NT=/\n/gm,RT="\u0275",xy="__source",xi;function xT(){return xi}function Wn(e){let t=xi;return xi=e,t}function OT(e,t=$.Default){if(xi===void 0)throw new A(-203,!1);return xi===null?y_(e,void 0,t):xi.get(e,t&$.Optional?null:void 0,t)}function M(e,t=$.Default){return(v_()||OT)(Be(e),t)}function E(e,t=$.Default){return M(e,ul(t))}function ul(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function vh(e){let t=[];for(let n=0;n<e.length;n++){let r=Be(e[n]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,o=$.Default;for(let s=0;s<r.length;s++){let a=r[s],c=kT(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(M(i,o))}else t.push(M(r))}return t}function PT(e,t){return e[gh]=t,e.prototype[gh]=t,e}function kT(e){return e[gh]}function FT(e,t,n,r){let i=e[kc];throw t[xy]&&i.unshift(t[xy]),e.message=LT(`
`+e.message,i,n,r),e[MT]=i,e[kc]=null,e}function LT(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==RT?e.slice(2):e;let i=ze(t);if(Array.isArray(t))i=t.map(ze).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ze(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(NT,`
  `)}`}var De=PT(vT("Optional"),8);function Mr(e,t){let n=e.hasOwnProperty(Pc);return n?e[Pc]:null}function cf(e,t){e.forEach(n=>Array.isArray(n)?cf(n,t):t(n))}function __(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Fc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function VT(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function UT(e,t,n){let r=ms(e,t);return r>=0?e[r|1]=n:(r=~r,VT(e,r,t,n)),r}function Jd(e,t){let n=ms(e,t);if(n>=0)return e[n|1]}function ms(e,t){return jT(e,t,1)}function jT(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var ki={},tt=[],Nr=new D(""),E_=new D("",-1),w_=new D(""),Lc=class{get(t,n=rs){if(n===rs){let r=new Error(`NullInjectorError: No provider for ${ze(t)}!`);throw r.name="NullInjectorError",r}return n}},I_=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(I_||{}),Ht=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ht||{}),Gn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Gn||{});function BT(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function yh(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];$T(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function C_(e){return e===3||e===4||e===6}function $T(e){return e.charCodeAt(0)===64}function is(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Oy(e,n,i,null,t[++r]):Oy(e,n,i,null,null))}}return e}function Oy(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var b_="ng-template";function HT(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&BT(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(lf(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function lf(e){return e.type===4&&e.value!==b_}function WT(e,t,n){let r=e.type===4&&!n?b_:e.value;return t===r}function zT(e,t,n){let r=4,i=e.attrs,o=i!==null?YT(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Dt(r)&&!Dt(c))return!1;if(s&&Dt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!WT(e,c,n)||c===""&&t.length===1){if(Dt(r))return!1;s=!0}}else if(r&8){if(i===null||!HT(e,i,c,n)){if(Dt(r))return!1;s=!0}}else{let l=t[++a],u=GT(c,i,lf(e),n);if(u===-1){if(Dt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Dt(r))return!1;s=!0}}}}return Dt(r)||s}function Dt(e){return(e&1)===0}function GT(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return KT(t,e)}function qT(e,t,n=!1){for(let r=0;r<t.length;r++)if(zT(e,t[r],n))return!0;return!1}function YT(e){for(let t=0;t<e.length;t++){let n=e[t];if(C_(n))return t}return e.length}function KT(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Py(e,t){return e?":not("+t.trim()+")":t}function ZT(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Dt(s)&&(t+=Py(o,i),i=""),r=s,o=o||!Dt(r);n++}return i!==""&&(t+=Py(o,i)),t}function QT(e){return e.map(ZT).join(",")}function JT(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Dt(i))break;i=o}r++}return{attrs:t,classes:n}}function re(e){return ps(()=>{let t=M_(e),n=W(C({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===I_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ht.Emulated,styles:e.styles||tt,_:null,schemas:e.schemas||null,tView:null,id:""});N_(n);let r=e.dependencies;return n.directiveDefs=Fy(r,!1),n.pipeDefs=Fy(r,!0),n.id=tA(n),n})}function XT(e){return Rr(e)||D_(e)}function eA(e){return e!==null}function Rt(e){return ps(()=>({type:e.type,bootstrap:e.bootstrap||tt,declarations:e.declarations||tt,imports:e.imports||tt,exports:e.exports||tt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ky(e,t){if(e==null)return ki;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=Gn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==Gn.None?[r,a]:r,t[o]=s):n[o]=r}return n}function Ie(e){return ps(()=>{let t=M_(e);return N_(t),t})}function uf(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Rr(e){return e[IT]||null}function D_(e){return e[CT]||null}function S_(e){return e[bT]||null}function T_(e){let t=Rr(e)||D_(e)||S_(e);return t!==null?t.standalone:!1}function A_(e,t){let n=e[DT]||null;if(!n&&t===!0)throw new Error(`Type ${ze(e)} does not have '\u0275mod' property.`);return n}function M_(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ki,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||tt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ky(e.inputs,t),outputs:ky(e.outputs),debugInfo:null}}function N_(e){e.features?.forEach(t=>t(e))}function Fy(e,t){if(!e)return null;let n=t?S_:XT;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(eA)}function tA(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Fe(e){return{\u0275providers:e}}function df(...e){return{\u0275providers:R_(!0,e),\u0275fromNgModule:!0}}function R_(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return cf(t,s=>{let a=s;_h(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&x_(i,o),n}function x_(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];hf(i,o=>{t(o,r)})}}function _h(e,t,n,r){if(e=Be(e),!e)return!1;let i=null,o=My(e),s=!o&&Rr(e);if(!o&&!s){let c=e.ngModule;if(o=My(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)_h(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{cf(o.imports,u=>{_h(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&x_(l,t)}if(!a){let l=Mr(i)||(()=>new i);t({provide:i,useFactory:l,deps:tt},i),t({provide:w_,useValue:i,multi:!0},i),t({provide:Nr,useValue:()=>M(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;hf(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function hf(e,t){for(let n of e)g_(n)&&(n=n.\u0275providers),Array.isArray(n)?hf(n,t):t(n)}var nA=ae({provide:String,useValue:ae});function O_(e){return e!==null&&typeof e=="object"&&nA in e}function rA(e){return!!(e&&e.useExisting)}function iA(e){return!!(e&&e.useFactory)}function Fi(e){return typeof e=="function"}function oA(e){return!!e.useClass}var dl=new D(""),Mc={},sA={},Xd;function ff(){return Xd===void 0&&(Xd=new Lc),Xd}var Ge=class{},os=class extends Ge{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wh(t,s=>this.processProvider(s)),this.records.set(E_,Mi(void 0,this)),i.has("environment")&&this.records.set(Ge,Mi(void 0,this));let o=this.records.get(dl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(w_,tt,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),z(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=Wn(this),r=We(void 0),i;try{return t()}finally{Wn(n),We(r)}}get(t,n=rs,r=$.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ry))return t[Ry](this);r=ul(r);let i,o=Wn(this),s=We(void 0);try{if(!(r&$.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=dA(t)&&ll(t);l&&this.injectableDefInScope(l)?c=Mi(Eh(t),Mc):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=r&$.Self?ff():this.parent;return n=r&$.Optional&&n===rs?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[kc]=a[kc]||[]).unshift(ze(t)),o)throw a;return FT(a,t,"R3InjectorError",this.source)}else throw a}finally{We(s),Wn(o)}}resolveInjectorInitializers(){let t=z(null),n=Wn(this),r=We(void 0),i;try{let o=this.get(Nr,tt,$.Self);for(let s of o)s()}finally{Wn(n),We(r),z(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(ze(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(t){t=Be(t);let n=Fi(t)?t:Be(t&&t.provide),r=cA(t);if(!Fi(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Mi(void 0,Mc,!0),i.factory=()=>vh(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=z(null);try{return n.value===Mc&&(n.value=sA,n.value=n.factory()),typeof n.value=="object"&&n.value&&uA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{z(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Be(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Eh(e){let t=ll(e),n=t!==null?t.factory:Mr(e);if(n!==null)return n;if(e instanceof D)throw new A(204,!1);if(e instanceof Function)return aA(e);throw new A(204,!1)}function aA(e){if(e.length>0)throw new A(204,!1);let n=ET(e);return n!==null?()=>n.factory(e):()=>new e}function cA(e){if(O_(e))return Mi(void 0,e.useValue);{let t=P_(e);return Mi(t,Mc)}}function P_(e,t,n){let r;if(Fi(e)){let i=Be(e);return Mr(i)||Eh(i)}else if(O_(e))r=()=>Be(e.useValue);else if(iA(e))r=()=>e.useFactory(...vh(e.deps||[]));else if(rA(e))r=()=>M(Be(e.useExisting));else{let i=Be(e&&(e.useClass||e.provide));if(lA(e))r=()=>new i(...vh(e.deps));else return Mr(i)||Eh(i)}return r}function Mi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function lA(e){return!!e.deps}function uA(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function dA(e){return typeof e=="function"||typeof e=="object"&&e instanceof D}function wh(e,t){for(let n of e)Array.isArray(n)?wh(n,t):n&&g_(n)?wh(n.\u0275providers,t):t(n)}function xt(e,t){e instanceof os&&e.assertNotDestroyed();let n,r=Wn(e),i=We(void 0);try{return t()}finally{Wn(r),We(i)}}function hA(){return v_()!==void 0||xT()!=null}function fA(e){return typeof e=="function"}var nt=0,F=1,P=2,ke=3,St=4,Ot=5,At=6,Vc=7,Oe=8,Li=9,Wt=10,ge=11,ss=12,Ly=13,qi=14,rt=15,Vi=16,Ni=17,Ui=18,hl=19,k_=20,zn=21,eh=22,ft=23,we=25,F_=1,as=6,hn=7,Uc=8,jc=9,Pe=10,Bc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Bc||{});function Tt(e){return Array.isArray(e)&&typeof e[F_]=="object"}function Gt(e){return Array.isArray(e)&&e[F_]===!0}function L_(e){return(e.flags&4)!==0}function gs(e){return e.componentOffset>-1}function pf(e){return(e.flags&1)===1}function qn(e){return!!e.template}function $c(e){return(e[P]&512)!==0}var Ih=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function V_(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function vn(){return U_}function U_(e){return e.type.prototype.ngOnChanges&&(e.setInput=mA),pA}vn.ngInherit=!0;function pA(){let e=B_(this),t=e?.current;if(t){let n=e.previous;if(n===ki)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function mA(e,t,n,r,i){let o=this.declaredInputs[r],s=B_(e)||gA(e,{previous:ki,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Ih(l&&l.currentValue,n,c===ki),V_(e,t,i,n)}var j_="__ngSimpleChanges__";function B_(e){return e[j_]||null}function gA(e,t){return e[j_]=t}var Vy=null;var Bt=function(e,t,n){Vy?.(e,t,n)},vA="svg",yA="math";function Mt(e){for(;Array.isArray(e);)e=e[nt];return e}function $_(e,t){return Mt(t[e])}function it(e,t){return Mt(t[e.index])}function mf(e,t){return e.data[t]}function H_(e,t){return e[t]}function Kn(e,t){let n=t[e];return Tt(n)?n:n[nt]}function gf(e){return(e[P]&128)===128}function _A(e){return Gt(e[ke])}function ji(e,t){return t==null?null:e[t]}function W_(e){e[Ni]=0}function z_(e){e[P]&1024||(e[P]|=1024,gf(e)&&pl(e))}function EA(e,t){for(;e>0;)t=t[qi],e--;return t}function fl(e){return!!(e[P]&9216||e[ft]?.dirty)}function Ch(e){e[Wt].changeDetectionScheduler?.notify(8),e[P]&64&&(e[P]|=1024),fl(e)&&pl(e)}function pl(e){e[Wt].changeDetectionScheduler?.notify(0);let t=xr(e);for(;t!==null&&!(t[P]&8192||(t[P]|=8192,!gf(t)));)t=xr(t)}function G_(e,t){if((e[P]&256)===256)throw new A(911,!1);e[zn]===null&&(e[zn]=[]),e[zn].push(t)}function wA(e,t){if(e[zn]===null)return;let n=e[zn].indexOf(t);n!==-1&&e[zn].splice(n,1)}function xr(e){let t=e[ke];return Gt(t)?t[ke]:t}var U={lFrame:nE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var q_=!1;function IA(){return U.lFrame.elementDepthCount}function CA(){U.lFrame.elementDepthCount++}function bA(){U.lFrame.elementDepthCount--}function Y_(){return U.bindingsEnabled}function vs(){return U.skipHydrationRootTNode!==null}function DA(e){return U.skipHydrationRootTNode===e}function SA(e){U.skipHydrationRootTNode=e}function TA(){U.skipHydrationRootTNode=null}function te(){return U.lFrame.lView}function ot(){return U.lFrame.tView}function Zn(e){return U.lFrame.contextLView=e,e[Oe]}function Qn(e){return U.lFrame.contextLView=null,e}function st(){let e=K_();for(;e!==null&&e.type===64;)e=e.parent;return e}function K_(){return U.lFrame.currentTNode}function AA(){let e=U.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function ys(e,t){let n=U.lFrame;n.currentTNode=e,n.isParent=t}function Z_(){return U.lFrame.isParent}function MA(){U.lFrame.isParent=!1}function NA(){return U.lFrame.contextLView}function Q_(){return q_}function Uy(e){q_=e}function RA(){let e=U.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function xA(){return U.lFrame.bindingIndex}function OA(e){return U.lFrame.bindingIndex=e}function _s(){return U.lFrame.bindingIndex++}function J_(e){let t=U.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function PA(){return U.lFrame.inI18n}function kA(e,t){let n=U.lFrame;n.bindingIndex=n.bindingRootIndex=e,bh(t)}function FA(){return U.lFrame.currentDirectiveIndex}function bh(e){U.lFrame.currentDirectiveIndex=e}function LA(e){let t=U.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function X_(e){U.lFrame.currentQueryIndex=e}function VA(e){let t=e[F];return t.type===2?t.declTNode:t.type===1?e[Ot]:null}function eE(e,t,n){if(n&$.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&$.Host);)if(i=VA(o),i===null||(o=o[qi],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=U.lFrame=tE();return r.currentTNode=t,r.lView=e,!0}function vf(e){let t=tE(),n=e[F];U.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function tE(){let e=U.lFrame,t=e===null?null:e.child;return t===null?nE(e):t}function nE(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function rE(){let e=U.lFrame;return U.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var iE=rE;function yf(){let e=rE();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function UA(e){return(U.lFrame.contextLView=EA(e,U.lFrame.contextLView))[Oe]}function Jn(){return U.lFrame.selectedIndex}function Or(e){U.lFrame.selectedIndex=e}function oE(){let e=U.lFrame;return mf(e.tView,e.selectedIndex)}function sE(){return U.lFrame.currentNamespace}var aE=!0;function _f(){return aE}function Xn(e){aE=e}function jA(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=U_(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Ef(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Nc(e,t,n){cE(e,t,3,n)}function Rc(e,t,n,r){(e[P]&3)===n&&cE(e,t,n,r)}function th(e,t){let n=e[P];(n&3)===t&&(n&=16383,n+=1,e[P]=n)}function cE(e,t,n,r){let i=r!==void 0?e[Ni]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[Ni]+=65536),(a<o||o==-1)&&(BA(e,n,t,c),e[Ni]=(e[Ni]&4294901760)+c+2),c++}function jy(e,t){Bt(4,e,t);let n=z(null);try{t.call(e)}finally{z(n),Bt(5,e,t)}}function BA(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[P]>>14<e[Ni]>>16&&(e[P]&3)===t&&(e[P]+=16384,jy(a,o)):jy(a,o)}var Oi=-1,Pr=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function $A(e){return e instanceof Pr}function HA(e){return(e.flags&8)!==0}function WA(e){return(e.flags&16)!==0}var nh={},Dh=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ul(r);let i=this.injector.get(t,nh,r);return i!==nh||n===nh?i:this.parentInjector.get(t,n,r)}};function lE(e){return e!==Oi}function Hc(e){return e&32767}function zA(e){return e>>16}function Wc(e,t){let n=zA(e),r=t;for(;n>0;)r=r[qi],n--;return r}var Sh=!0;function zc(e){let t=Sh;return Sh=e,t}var GA=256,uE=GA-1,dE=5,qA=0,$t={};function YA(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ns)&&(r=n[ns]),r==null&&(r=n[ns]=qA++);let i=r&uE,o=1<<i;t.data[e+(i>>dE)]|=o}function Gc(e,t){let n=hE(e,t);if(n!==-1)return n;let r=t[F];r.firstCreatePass&&(e.injectorIndex=t.length,rh(r.data,e),rh(t,null),rh(r.blueprint,null));let i=wf(e,t),o=e.injectorIndex;if(lE(i)){let s=Hc(i),a=Wc(i,t),c=a[F].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function rh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function hE(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function wf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=vE(i),r===null)return Oi;if(n++,i=i[qi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Oi}function Th(e,t,n){YA(e,t,n)}function KA(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(C_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function fE(e,t,n){if(n&$.Optional||e!==void 0)return e;af(t,"NodeInjector")}function pE(e,t,n,r){if(n&$.Optional&&r===void 0&&(r=null),!(n&($.Self|$.Host))){let i=e[Li],o=We(void 0);try{return i?i.get(t,r,n&$.Optional):y_(t,r,n&$.Optional)}finally{We(o)}}return fE(r,t,n)}function mE(e,t,n,r=$.Default,i){if(e!==null){if(t[P]&2048&&!(r&$.Self)){let s=eM(e,t,n,r,$t);if(s!==$t)return s}let o=gE(e,t,n,r,$t);if(o!==$t)return o}return pE(t,n,r,i)}function gE(e,t,n,r,i){let o=JA(n);if(typeof o=="function"){if(!eE(t,e,r))return r&$.Host?fE(i,n,r):pE(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&$.Optional))af(n);else return s}finally{iE()}}else if(typeof o=="number"){let s=null,a=hE(e,t),c=Oi,l=r&$.Host?t[rt][Ot]:null;for((a===-1||r&$.SkipSelf)&&(c=a===-1?wf(e,t):t[a+8],c===Oi||!$y(r,!1)?a=-1:(s=t[F],a=Hc(c),t=Wc(c,t)));a!==-1;){let u=t[F];if(By(o,a,u.data)){let d=ZA(a,t,n,s,r,l);if(d!==$t)return d}c=t[a+8],c!==Oi&&$y(r,t[F].data[a+8]===l)&&By(o,a,t)?(s=u,a=Hc(c),t=Wc(c,t)):a=-1}}return i}function ZA(e,t,n,r,i,o){let s=t[F],a=s.data[e+8],c=r==null?gs(a)&&Sh:r!=s&&(a.type&3)!==0,l=i&$.Host&&o===a,u=QA(a,s,n,c,l);return u!==null?Bi(t,s,u,a):$t}function QA(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,p=i?a+u:l;for(let g=d;g<p;g++){let y=s[g];if(g<c&&n===y||g>=c&&y.type===n)return g}if(i){let g=s[c];if(g&&qn(g)&&g.type===n)return c}return null}function Bi(e,t,n,r){let i=e[n],o=t.data;if($A(i)){let s=i;s.resolving&&TT(ST(o[n]));let a=zc(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?We(s.injectImpl):null,u=eE(e,r,$.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&jA(n,o[n],t)}finally{l!==null&&We(l),zc(a),s.resolving=!1,iE()}}return i}function JA(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(ns)?e[ns]:void 0;return typeof t=="number"?t>=0?t&uE:XA:t}function By(e,t,n){let r=1<<e;return!!(n[t+(e>>dE)]&r)}function $y(e,t){return!(e&$.Self)&&!(e&$.Host&&t)}var Ar=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return mE(this._tNode,this._lView,t,ul(r),n)}};function XA(){return new Ar(st(),te())}function yn(e){return ps(()=>{let t=e.prototype.constructor,n=t[Pc]||Ah(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Pc]||Ah(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ah(e){return h_(e)?()=>{let t=Ah(Be(e));return t&&t()}:Mr(e)}function eM(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[P]&2048&&!(s[P]&512);){let a=gE(o,s,n,r|$.Self,$t);if(a!==$t)return a;let c=o.parent;if(!c){let l=s[k_];if(l){let u=l.get(n,$t,r);if(u!==$t)return u}c=vE(s),s=s[qi]}o=c}return i}function vE(e){let t=e[F],n=t.type;return n===2?t.declTNode:n===1?e[Ot]:null}function If(e){return KA(st(),e)}function Hy(e,t=null,n=null,r){let i=yE(e,t,n,r);return i.resolveInjectorInitializers(),i}function yE(e,t=null,n=null,r,i=new Set){let o=[n||tt,df(e)];return r=r||(typeof e=="object"?void 0:ze(e)),new os(o,t||ff(),r||null,i)}var Te=class e{static{this.THROW_IF_NOT_FOUND=rs}static{this.NULL=new Lc}static create(t,n){if(Array.isArray(t))return Hy({name:""},n,t,"");{let r=t.name??"";return Hy({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=T({token:e,providedIn:"any",factory:()=>M(E_)})}static{this.__NG_ELEMENT_ID__=-1}};var tM=new D("");tM.__NG_ELEMENT_ID__=e=>{let t=st();if(t===null)throw new A(204,!1);if(t.type&2)return t.value;if(e&$.Optional)return null;throw new A(204,!1)};var nM="ngOriginalError";function ih(e){return e[nM]}var _E=!0,EE=(()=>{class e{static{this.__NG_ELEMENT_ID__=rM}static{this.__NG_ENV_ID__=n=>n}}return e})(),Mh=class extends EE{constructor(t){super(),this._lView=t}onDestroy(t){return G_(this._lView,t),()=>wA(this._lView,t)}};function rM(){return new Mh(te())}var er=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Re(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}}return e})();var Nh=class extends Se{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,hA()&&(this.destroyRef=E(EE,{optional:!0})??void 0,this.pendingTasks=E(er,{optional:!0})??void 0)}emit(t){let n=z(null);try{super.next(t)}finally{z(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof me&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ee=Nh;function qc(...e){}function wE(e){let t,n;function r(){e=qc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Wy(e){return queueMicrotask(()=>e()),()=>{e=qc}}var Cf="isAngularZone",Yc=Cf+"_ID",iM=0,J=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ee(!1),this.onMicrotaskEmpty=new Ee(!1),this.onStable=new Ee(!1),this.onError=new Ee(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=_E}=t;if(typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,aM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Cf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new A(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,oM,qc,qc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},oM={};function bf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function sM(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){wE(()=>{e.callbackScheduled=!1,Rh(e),e.isCheckStableRunning=!0,bf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Rh(e)}function aM(e){let t=()=>{sM(e)},n=iM++;e._inner=e._inner.fork({name:"angular",properties:{[Cf]:!0,[Yc]:n,[Yc+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(cM(c))return r.invokeTask(o,s,a,c);try{return zy(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Gy(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return zy(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!lM(c)&&t(),Gy(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Rh(e),bf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Rh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function zy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Gy(e){e._nesting--,bf(e)}var xh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ee,this.onMicrotaskEmpty=new Ee,this.onStable=new Ee,this.onError=new Ee}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function cM(e){return IE(e,"__ignore_ng_zone__")}function lM(e){return IE(e,"__scheduler_tick__")}function IE(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var fn=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&ih(t);for(;n&&ih(n);)n=ih(n);return n||null}},uM=new D("",{providedIn:"root",factory:()=>{let e=E(J),t=E(fn);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function dM(){return Df(st(),te())}function Df(e,t){return new qt(it(e,t))}var qt=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=dM}}return e})();var hM="ngSkipHydration",fM="ngskiphydration";function CE(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===fM)return!0}return!1}function bE(e){return e.hasAttribute(hM)}function Kc(e){return(e.flags&128)===128}function pM(e){if(Kc(e))return!0;let t=e.parent;for(;t;){if(Kc(e)||CE(t))return!0;t=t.parent}return!1}var DE=new Map,mM=0;function gM(){return mM++}function vM(e){DE.set(e[hl],e)}function Oh(e){DE.delete(e[hl])}var qy="__ngContext__";function kr(e,t){Tt(t)?(e[qy]=t[hl],vM(t)):e[qy]=t}function SE(e){return AE(e[ss])}function TE(e){return AE(e[St])}function AE(e){for(;e!==null&&!Gt(e);)e=e[St];return e}var Ph;function ME(e){Ph=e}function ml(){if(Ph!==void 0)return Ph;if(typeof document<"u")return document;throw new A(210,!1)}var gl=new D("",{providedIn:"root",factory:()=>yM}),yM="ng",Sf=new D(""),at=new D("",{providedIn:"platform",factory:()=>"unknown"});var Tf=new D("",{providedIn:"root",factory:()=>ml().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function _M(){let e=new Yi;return E(at)==="browser"&&(e.store=EM(ml(),E(gl))),e}var Yi=(()=>{class e{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=T({token:e,providedIn:"root",factory:_M})}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function EM(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var NE="h",RE="b",kh=function(e){return e.FirstChild="f",e.NextSibling="n",e}(kh||{}),wM="e",IM="t",Af="c",xE="x",Zc="r",CM="i",bM="n",OE="d";var DM="__nghData__",PE=DM,oh="ngh",SM="nghm",kE=()=>null;function TM(e,t,n=!1){let r=e.getAttribute(oh);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=t.get(Yi,null,{optional:!0});u!==null&&(c=u.get(PE,[])[Number(r)])}let l={data:c,firstChild:e.firstChild??null};return n&&(l.firstChild=e,vl(l,0,e.nextSibling)),a?e.setAttribute(oh,a):e.removeAttribute(oh),l}function AM(){kE=TM}function Mf(e,t,n=!1){return kE(e,t,n)}function MM(e){let t=e._lView;return t[F].type===2?null:($c(t)&&(t=t[we]),t)}function NM(e){return e.textContent?.replace(/\s/gm,"")}function RM(e){let t=ml(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=NM(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function vl(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Fh(e,t){return e.segmentHeads?.[t]??null}function xM(e,t){let n=e.data,r=n[wM]?.[t]??null;return r===null&&n[Af]?.[t]&&(r=Nf(e,t)),r}function FE(e,t){return e.data[Af]?.[t]??null}function Nf(e,t){let n=FE(e,t)??[],r=0;for(let i of n)r+=i[Zc]*(i[xE]??1);return r}function OM(e){if(typeof e.disconnectedNodes>"u"){let t=e.data[OE];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}function Es(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[OE];e.disconnectedNodes=n?new Set(n):null}return!!OM(e)?.has(t)}var Ic=new D(""),LE=!1,VE=new D("",{providedIn:"root",factory:()=>LE});var Cc;function PM(){if(Cc===void 0&&(Cc=null,ph.trustedTypes))try{Cc=ph.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Cc}function Yy(e){return PM()?.createScriptURL(e)||e}var Qc=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${d_})`}};function ws(e){return e instanceof Qc?e.changingThisBreaksApplicationSecurity:e}function Rf(e,t){let n=kM(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${d_})`)}return n===t}function kM(e){return e instanceof Qc&&e.getTypeName()||null}var FM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function UE(e){return e=String(e),e.match(FM)?e:"unsafe:"+e}var yl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(yl||{});function LM(e){let t=BE();return t?t.sanitize(yl.URL,e)||"":Rf(e,"URL")?ws(e):UE(Pi(e))}function VM(e){let t=BE();if(t)return Yy(t.sanitize(yl.RESOURCE_URL,e)||"");if(Rf(e,"ResourceURL"))return Yy(ws(e));throw new A(904,!1)}function UM(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?VM:LM}function jE(e,t,n){return UM(t,n)(e)}function BE(){let e=te();return e&&e[Wt].sanitizer}var jM=/^>|^->|<!--|-->|--!>|<!-$/g,BM=/(<|>)/g,$M="\u200B$1\u200B";function HM(e){return e.replace(jM,t=>t.replace(BM,$M))}function WM(e){return e.ownerDocument.body}function $E(e){return e instanceof Function?e():e}function bc(e){return(e??E(Te)).get(at)==="browser"}var pn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(pn||{}),zM;function xf(e,t){return zM(e,t)}function Ri(e,t,n,r,i){if(r!=null){let o,s=!1;Gt(r)?o=r:Tt(r)&&(s=!0,r=r[nt]);let a=Mt(r);e===0&&n!==null?i==null?qE(t,n,a):Jc(t,n,a,i||null,!0):e===1&&n!==null?Jc(t,n,a,i||null,!0):e===2?Ff(t,a,s):e===3&&t.destroyNode(a),o!=null&&sN(t,e,o,n,i)}}function HE(e,t){return e.createText(t)}function GM(e,t,n){e.setValue(t,n)}function WE(e,t){return e.createComment(HM(t))}function Of(e,t,n){return e.createElement(t,n)}function qM(e,t){zE(e,t),t[nt]=null,t[Ot]=null}function YM(e,t,n,r,i,o){r[nt]=i,r[Ot]=t,El(e,r,n,1,i,o)}function zE(e,t){t[Wt].changeDetectionScheduler?.notify(9),El(e,t,t[ge],2,null,null)}function KM(e){let t=e[ss];if(!t)return sh(e[F],e);for(;t;){let n=null;if(Tt(t))n=t[ss];else{let r=t[Pe];r&&(n=r)}if(!n){for(;t&&!t[St]&&t!==e;)Tt(t)&&sh(t[F],t),t=t[ke];t===null&&(t=e),Tt(t)&&sh(t[F],t),n=t&&t[St]}t=n}}function ZM(e,t,n,r){let i=Pe+r,o=n.length;r>0&&(n[i-1][St]=t),r<o-Pe?(t[St]=n[i],__(n,Pe+r,t)):(n.push(t),t[St]=null),t[ke]=n;let s=t[Vi];s!==null&&n!==s&&GE(s,t);let a=t[Ui];a!==null&&a.insertView(e),Ch(t),t[P]|=128}function GE(e,t){let n=e[jc],r=t[ke];if(Tt(r))e[P]|=Bc.HasTransplantedViews;else{let i=r[ke][rt];t[rt]!==i&&(e[P]|=Bc.HasTransplantedViews)}n===null?e[jc]=[t]:n.push(t)}function Pf(e,t){let n=e[jc],r=n.indexOf(t);n.splice(r,1)}function cs(e,t){if(e.length<=Pe)return;let n=Pe+t,r=e[n];if(r){let i=r[Vi];i!==null&&i!==e&&Pf(i,r),t>0&&(e[n-1][St]=r[St]);let o=Fc(e,Pe+t);qM(r[F],r);let s=o[Ui];s!==null&&s.detachView(o[F]),r[ke]=null,r[St]=null,r[P]&=-129}return r}function _l(e,t){if(!(t[P]&256)){let n=t[ge];n.destroyNode&&El(e,t,n,3,null,null),KM(t)}}function sh(e,t){if(t[P]&256)return;let n=z(null);try{t[P]&=-129,t[P]|=256,t[ft]&&Md(t[ft]),JM(e,t),QM(e,t),t[F].type===1&&t[ge].destroy();let r=t[Vi];if(r!==null&&Gt(t[ke])){r!==t[ke]&&Pf(r,t);let i=t[Ui];i!==null&&i.detachView(e)}Oh(t)}finally{z(n)}}function QM(e,t){let n=e.cleanup,r=t[Vc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(t[Vc]=null);let i=t[zn];if(i!==null){t[zn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function JM(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Pr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Bt(4,a,c);try{c.call(a)}finally{Bt(5,a,c)}}else{Bt(4,i,o);try{o.call(i)}finally{Bt(5,i,o)}}}}}function XM(e,t,n){return eN(e,t.parent,n)}function eN(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[nt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===Ht.None||o===Ht.Emulated)return null}return it(r,n)}}function Jc(e,t,n,r,i){e.insertBefore(t,n,r,i)}function qE(e,t,n){e.appendChild(t,n)}function Ky(e,t,n,r,i){r!==null?Jc(e,t,n,r,i):qE(e,t,n)}function YE(e,t){return e.parentNode(t)}function tN(e,t){return e.nextSibling(t)}function nN(e,t,n){return iN(e,t,n)}function rN(e,t,n){return e.type&40?it(e,n):null}var iN=rN,Zy;function kf(e,t,n,r){let i=XM(e,r,t),o=t[ge],s=r.parent||t[Ot],a=nN(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Ky(o,i,n[c],a,!1);else Ky(o,i,n,a,!1);Zy!==void 0&&Zy(o,r,t,n,i)}function es(e,t){if(t!==null){let n=t.type;if(n&3)return it(t,e);if(n&4)return Lh(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return es(e,r);{let i=e[t.index];return Gt(i)?Lh(-1,i):Mt(i)}}else{if(n&128)return es(e,t.next);if(n&32)return xf(t,e)()||Mt(e[t.index]);{let r=KE(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=xr(e[rt]);return es(i,r)}else return es(e,t.next)}}}return null}function KE(e,t){if(t!==null){let r=e[rt][Ot],i=t.projection;return r.projection[i]}return null}function Lh(e,t){let n=Pe+e+1;if(n<t.length){let r=t[n],i=r[F].firstChild;if(i!==null)return es(r,i)}return t[hn]}function Ff(e,t,n){e.removeChild(null,t,n)}function ZE(e){e.textContent=""}function Lf(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&kr(Mt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Lf(e,t,n.child,r,i,o,!1),Ri(t,e,i,a,o);else if(c&32){let l=xf(n,r),u;for(;u=l();)Ri(t,e,i,u,o);Ri(t,e,i,a,o)}else c&16?oN(e,t,r,n,i,o):Ri(t,e,i,a,o);n=s?n.projectionNext:n.next}}function El(e,t,n,r,i,o){Lf(n,r,e.firstChild,t,i,o,!1)}function oN(e,t,n,r,i,o){let s=n[rt],c=s[Ot].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ri(t,e,i,u,o)}else{let l=c,u=s[ke];Kc(r)&&(l.flags|=128),Lf(e,t,l,u,i,o,!0)}}function sN(e,t,n,r,i){let o=n[hn],s=Mt(n);o!==s&&Ri(t,e,r,o,i);for(let a=Pe;a<n.length;a++){let c=n[a];El(c[F],c,e,t,r,o)}}function aN(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:pn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=pn.Important),e.setStyle(n,r,i,o))}}function cN(e,t,n){e.setAttribute(t,"style",n)}function QE(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function JE(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&yh(e,t,r),i!==null&&QE(e,t,i),o!==null&&cN(e,t,o)}var Yt={};function j(e=1){XE(ot(),te(),Jn()+e,!1)}function XE(e,t,n,r){if(!r)if((t[P]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Nc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Rc(t,o,0,n)}Or(n)}function R(e,t=$.Default){let n=te();if(n===null)return M(e,t);let r=st();return mE(r,n,Be(e),t)}function ew(e,t,n,r,i,o){let s=z(null);try{let a=null;i&Gn.SignalBased&&(a=t[r][Ln]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Gn.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,r):V_(t,a,r,o)}finally{z(s)}}function lN(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Or(~i);else{let o=i,s=n[++r],a=n[++r];kA(s,o);let c=t[o];a(2,c)}}}finally{Or(-1)}}function wl(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[nt]=i,d[P]=r|4|128|8|64,(l!==null||e&&e[P]&2048)&&(d[P]|=2048),W_(d),d[ke]=d[qi]=e,d[Oe]=n,d[Wt]=s||e&&e[Wt],d[ge]=a||e&&e[ge],d[Li]=c||e&&e[Li]||null,d[Ot]=o,d[hl]=gM(),d[At]=u,d[k_]=l,d[rt]=t.type==2?e[rt]:d,d}function Il(e,t,n,r,i){let o=e.data[t];if(o===null)o=uN(e,t,n,r,i),PA()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=AA();o.injectorIndex=s===null?-1:s.injectorIndex}return ys(o,!0),o}function uN(e,t,n,r,i){let o=K_(),s=Z_(),a=s?o:o&&o.parent,c=e.data[t]=gN(e,a,n,t,r,i);return e.firstChild===null&&(e.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function tw(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function nw(e,t,n,r,i){let o=Jn(),s=r&2;try{Or(-1),s&&t.length>we&&XE(e,t,we,!1),Bt(s?2:0,i),n(r,i)}finally{Or(o),Bt(s?3:1,i)}}function rw(e,t,n){if(L_(t)){let r=z(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{z(r)}}}function iw(e,t,n){Y_()&&(CN(e,t,n,it(n,t)),(n.flags&64)===64&&uw(e,t,n))}function ow(e,t,n=it){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function sw(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Vf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Vf(e,t,n,r,i,o,s,a,c,l,u){let d=we+r,p=d+i,g=dN(d,p),y=typeof l=="function"?l():l;return g[F]={type:e,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}function dN(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Yt);return n}function hN(e,t,n,r){let o=r.get(VE,LE)||n===Ht.ShadowDom,s=e.selectRootElement(t,o);return fN(s),s}function fN(e){aw(e)}var aw=()=>null;function pN(e){bE(e)?ZE(e):RM(e)}function mN(){aw=pN}function gN(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return vs()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Qy(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,c=Gn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}e===0?Jy(r,n,l,a,c):Jy(r,n,l,a)}return r}function Jy(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],i!==void 0&&o.push(i)}function vN(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],p=n?n.get(d):null,g=p?p.inputs:null,y=p?p.outputs:null;c=Qy(0,d.inputs,u,c,g),l=Qy(1,d.outputs,u,l,y);let w=c!==null&&s!==null&&!lf(t)?PN(c,u,s):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}function yN(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function _N(e,t,n,r,i,o,s,a){let c=it(t,n),l=t.inputs,u;!a&&l!=null&&(u=l[r])?(Uf(e,n,u,r,i),gs(t)&&EN(n,t.index)):t.type&3?(r=yN(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(c,r,i)):t.type&12}function EN(e,t){let n=Kn(t,e);n[P]&16||(n[P]|=64)}function cw(e,t,n,r){if(Y_()){let i=r===null?null:{"":-1},o=DN(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&lw(e,t,n,s,i,a),i&&SN(n,r,i)}n.mergedAttrs=is(n.mergedAttrs,n.attrs)}function lw(e,t,n,r,i,o){for(let l=0;l<r.length;l++)Th(Gc(n,t),e,r[l].type);AN(n,e.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=tw(e,t,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=is(n.mergedAttrs,u.hostAttrs),MN(e,n,t,c,u),TN(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}vN(e,n,o)}function wN(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;IN(s)!=a&&s.push(a),s.push(n,r,o)}}function IN(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function CN(e,t,n,r){let i=n.directiveStart,o=n.directiveEnd;gs(n)&&NN(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Gc(n,t),kr(r,t);let s=n.initialInputs;for(let a=i;a<o;a++){let c=e.data[a],l=Bi(t,e,a,n);if(kr(l,t),s!==null&&ON(t,a-i,l,c,n,s),qn(c)){let u=Kn(n.index,t);u[Oe]=Bi(t,e,a,n)}}}function uw(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=FA();try{Or(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];bh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&bN(c,l)}}finally{Or(-1),bh(s)}}function bN(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function DN(e,t){let n=e.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(qT(t,s.selectors,!1))if(r||(r=[]),qn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Vh(e,t,c)}else r.unshift(s),Vh(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Vh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function SN(e,t,n){if(t){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new A(-301,!1);r.push(t[i],o)}}}function TN(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;qn(t)&&(n[""]=e)}}function AN(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function MN(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Mr(i.type,!0)),s=new Pr(o,qn(i),R);e.blueprint[r]=s,n[r]=s,wN(e,t,r,tw(e,n,i.hostVars,Yt),i)}function NN(e,t,n){let r=it(t,e),i=sw(n),o=e[Wt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Cl(e,wl(e,i,null,s,r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=a}function RN(e,t,n,r,i,o){let s=it(e,t);xN(t[ge],s,o,e.value,n,r,i)}function xN(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Pi(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function ON(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];ew(r,n,c,l,u,d)}}function PN(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function dw(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function hw(e,t){let n=e.contentQueries;if(n!==null){let r=z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];X_(o),a.contentQueries(2,t[s],s)}}}finally{z(r)}}}function Cl(e,t){return e[ss]?e[Ly][St]=t:e[ss]=t,e[Ly]=t,t}function Uh(e,t,n){X_(0);let r=z(null);try{t(e,n)}finally{z(r)}}function kN(e){return e[Vc]??=[]}function FN(e){return e.cleanup??=[]}function fw(e,t){let n=e[Li],r=n?n.get(fn,null):null;r&&r.handleError(t)}function Uf(e,t,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=t[s],u=e.data[s];ew(u,l,r,a,c,i)}}function pw(e,t,n){let r=$_(t,e);GM(e[ge],r,n)}function LN(e,t){let n=Kn(t,e),r=n[F];VN(r,n);let i=n[nt];i!==null&&n[At]===null&&(n[At]=Mf(i,n[Li])),jf(r,n,n[Oe])}function VN(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function jf(e,t,n){vf(t);try{let r=e.viewQuery;r!==null&&Uh(1,r,n);let i=e.template;i!==null&&nw(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Ui]?.finishViewCreation(e),e.staticContentQueries&&hw(e,t),e.staticViewQueries&&Uh(2,e.viewQuery,n);let o=e.components;o!==null&&UN(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[P]&=-5,yf()}}function UN(e,t){for(let n=0;n<t.length;n++)LN(e,t[n])}function Bf(e,t,n,r){let i=z(null);try{let o=t.tView,a=e[P]&4096?4096:16,c=wl(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[Vi]=l;let u=e[Ui];return u!==null&&(c[Ui]=u.createEmbeddedView(o)),jf(o,c,n),c}finally{z(i)}}function mw(e,t){let n=Pe+t;if(n<e.length)return e[n]}function ls(e,t){return!t||t.firstChild===null||Kc(e)}function bl(e,t,n,r=!0){let i=t[F];if(ZM(i,t,e,n),r){let s=Lh(n,e),a=t[ge],c=YE(a,e[hn]);c!==null&&YM(i,e[Ot],a,t,c,s)}let o=t[At];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function gw(e,t){let n=cs(e,t);return n!==void 0&&_l(n[F],n),n}function Xc(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Mt(o)),Gt(o)&&jN(o,r);let s=n.type;if(s&8)Xc(e,t,n.child,r);else if(s&32){let a=xf(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=KE(t,n);if(Array.isArray(a))r.push(...a);else{let c=xr(t[rt]);Xc(c[F],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function jN(e,t){for(let n=Pe;n<e.length;n++){let r=e[n],i=r[F].firstChild;i!==null&&Xc(r[F],r,i,t)}e[hn]!==e[nt]&&t.push(e[hn])}var vw=[];function BN(e){return e[ft]??$N(e)}function $N(e){let t=vw.pop()??Object.create(WN);return t.lView=e,t}function HN(e){e.lView[ft]!==e&&(e.lView=null,vw.push(e))}var WN=W(C({},Qo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{pl(e.lView)},consumerOnSignalRead(){this.lView[ft]=this}});function zN(e){let t=e[ft]??Object.create(GN);return t.lView=e,t}var GN=W(C({},Qo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=xr(e.lView);for(;t&&!yw(t[F]);)t=xr(t);t&&z_(t)},consumerOnSignalRead(){this.lView[ft]=this}});function yw(e){return e.type!==2}var qN=100;function _w(e,t=!0,n=0){let r=e[Wt],i=r.rendererFactory,o=!1;o||i.begin?.();try{YN(e,n)}catch(s){throw t&&fw(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function YN(e,t){let n=Q_();try{Uy(!0),jh(e,t);let r=0;for(;fl(e);){if(r===qN)throw new A(103,!1);r++,jh(e,1)}}finally{Uy(n)}}function KN(e,t,n,r){let i=t[P];if((i&256)===256)return;let o=!1,s=!1;!o&&t[Wt].inlineEffectRunner?.flush(),vf(t);let a=!0,c=null,l=null;o||(yw(e)?(l=BN(t),c=qa(l)):Hv()===null?(a=!1,l=zN(t),c=qa(l)):t[ft]&&(Md(t[ft]),t[ft]=null));try{W_(t),OA(e.bindingStartIndex),n!==null&&nw(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let g=e.preOrderCheckHooks;g!==null&&Nc(t,g,null)}else{let g=e.preOrderHooks;g!==null&&Rc(t,g,0,null),th(t,0)}if(s||ZN(t),Ew(t,0),e.contentQueries!==null&&hw(e,t),!o)if(u){let g=e.contentCheckHooks;g!==null&&Nc(t,g)}else{let g=e.contentHooks;g!==null&&Rc(t,g,1),th(t,1)}lN(e,t);let d=e.components;d!==null&&Iw(t,d,0);let p=e.viewQuery;if(p!==null&&Uh(2,p,r),!o)if(u){let g=e.viewCheckHooks;g!==null&&Nc(t,g)}else{let g=e.viewHooks;g!==null&&Rc(t,g,2),th(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[eh]){for(let g of t[eh])g();t[eh]=null}o||(t[P]&=-73)}catch(u){throw o||pl(t),u}finally{l!==null&&(Td(l,c),a&&HN(l)),yf()}}function Ew(e,t){for(let n=SE(e);n!==null;n=TE(n))for(let r=Pe;r<n.length;r++){let i=n[r];ww(i,t)}}function ZN(e){for(let t=SE(e);t!==null;t=TE(t)){if(!(t[P]&Bc.HasTransplantedViews))continue;let n=t[jc];for(let r=0;r<n.length;r++){let i=n[r];z_(i)}}}function QN(e,t,n){let r=Kn(t,e);ww(r,n)}function ww(e,t){gf(e)&&jh(e,t)}function jh(e,t){let r=e[F],i=e[P],o=e[ft],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ad(o)),s||=!1,o&&(o.dirty=!1),e[P]&=-9217,s)KN(r,e,r.template,e[Oe]);else if(i&8192){Ew(e,1);let a=r.components;a!==null&&Iw(e,a,1)}}function Iw(e,t,n){for(let r=0;r<t.length;r++)QN(e,t[r],n)}function $f(e,t){let n=Q_()?64:1088;for(e[Wt].changeDetectionScheduler?.notify(t);e;){e[P]|=n;let r=xr(e);if($c(e)&&!r)return e;e=r}return null}var $i=class{get rootNodes(){let t=this._lView,n=t[F];return Xc(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Oe]}set context(t){this._lView[Oe]=t}get destroyed(){return(this._lView[P]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ke];if(Gt(t)){let n=t[Uc],r=n?n.indexOf(this):-1;r>-1&&(cs(t,r),Fc(n,r))}this._attachedToViewContainer=!1}_l(this._lView[F],this._lView)}onDestroy(t){G_(this._lView,t)}markForCheck(){$f(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){Ch(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,_w(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=$c(this._lView),n=this._lView[Vi];n!==null&&!t&&Pf(n,this._lView),zE(this._lView[F],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=t;let n=$c(this._lView),r=this._lView[Vi];r!==null&&!n&&GE(r,this._lView),Ch(this._lView)}};var JN=new RegExp(`^(\\d+)*(${RE}|${NE})*(.*)`);function XN(e){let t=e.match(JN),[n,r,i,o]=t,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function eR(e){return!e.prev&&e.parent?.type===8}function ah(e){return e.index-we}function tR(e,t){let n=e.i18nNodes;if(n)return n.get(t)}function Dl(e,t,n,r){let i=ah(r),o=tR(e,i);if(o===void 0){let s=e.data[bM];if(s?.[i])o=rR(s[i],n);else if(t.firstChild===r)o=e.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(eR(r)){let l=ah(r.parent);o=Fh(e,l)}else{let l=it(c,n);if(a)o=l.firstChild;else{let u=ah(c),d=Fh(e,u);if(c.type===2&&d){let g=Nf(e,u)+1;o=Sl(g,d)}else o=l.nextSibling}}}}return o}function Sl(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function nR(e,t){let n=e;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case kh.FirstChild:n=n.firstChild;break;case kh.NextSibling:n=n.nextSibling;break}}return n}function rR(e,t){let[n,...r]=XN(e),i;if(n===NE)i=t[rt][nt];else if(n===RE)i=WM(t[rt][nt]);else{let o=Number(n);i=Mt(t[o+we])}return nR(i,r)}var iR=!1;function oR(e){iR=e}function sR(e){let t=e[At];if(t){let{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){let i=e[ge];for(let o of r.values())aR(i,n,o)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function aR(e,t,n){for(let r of n.node.cases[n.case]){let i=t.get(r.index-we);i&&Ff(e,i,!1)}}function Cw(e){let t=e[as]??[],r=e[ke][ge];for(let i of t)cR(i,r);e[as]=tt}function cR(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[Zc];for(;n<i;){let o=r.nextSibling;Ff(t,r,!1),r=o,n++}}}function bw(e){Cw(e);let t=e[nt];Tt(t)&&el(t);for(let n=Pe;n<e.length;n++)el(e[n])}function el(e){sR(e);let t=e[F];for(let n=we;n<t.bindingStartIndex;n++)if(Gt(e[n])){let r=e[n];bw(r)}else Tt(e[n])&&el(e[n])}function lR(e){let t=e._views;for(let n of t){let r=MM(n);r!==null&&r[nt]!==null&&(Tt(r)?el(r):bw(r))}}function uR(e,t){let n=[];for(let r of t)for(let i=0;i<(r[xE]??1);i++){let o={data:r,firstChild:null};r[Zc]>0&&(o.firstChild=e,e=Sl(r[Zc],e)),n.push(o)}return[e,n]}var Dw=()=>null;function dR(e,t){let n=e[as];return!t||n===null||n.length===0?null:n[0].data[CM]===t?n.shift():(Cw(e),null)}function hR(){Dw=dR}function us(e,t){return Dw(e,t)}var Hi=class{},Tl=new D("",{providedIn:"root",factory:()=>!1});var Sw=new D(""),Tw=new D(""),Bh=class{},tl=class{};function fR(e){let t=Error(`No component factory found for ${ze(e)}.`);return t[pR]=e,t}var pR="ngComponent";var $h=class{resolveComponentFactory(t){throw fR(t)}},Wi=class{static{this.NULL=new $h}},zi=class{},_n=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>mR()}}return e})();function mR(){let e=te(),t=st(),n=Kn(t.index,e);return(Tt(n)?n:e)[ge]}var gR=(()=>{class e{static{this.\u0275prov=T({token:e,providedIn:"root",factory:()=>null})}}return e})();function Hh(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Ty(i,a);else if(o==2){let c=a,l=t[++s];r=Ty(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var nl=class extends Wi{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Rr(t);return new ds(n,this.ngModule)}};function Xy(e,t){let n=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let i=e[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Gn.None;t?n.push({propName:s,templateName:r,isSignal:(a&Gn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function vR(e){let t=e.toLowerCase();return t==="svg"?vA:t==="math"?yA:null}var ds=class extends tl{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=Xy(t.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Xy(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=QT(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=z(null);try{i=i||this.ngModule;let s=i instanceof Ge?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Dh(t,s):t,c=a.get(zi,null);if(c===null)throw new A(407,!1);let l=a.get(gR,null),u=a.get(Hi,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},p=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",y=r?hN(p,r,this.componentDef.encapsulation,a):Of(p,g,vR(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let I=null;y!==null&&(I=Mf(y,a,!0));let S=Vf(0,null,null,1,0,null,null,null,null,null,null),B=wl(null,S,null,w,null,null,d,p,a,null,I);vf(B);let N,H,ue=null;try{let se=this.componentDef,$e,ln=null;se.findHostDirectiveDefs?($e=[],ln=new Map,se.findHostDirectiveDefs(se,$e,ln),$e.push(se)):$e=[se];let Ko=yR(B,y);ue=_R(Ko,y,se,$e,B,d,p),H=mf(S,we),y&&IR(p,se,y,r),n!==void 0&&CR(H,this.ngContentSelectors,n),N=wR(ue,se,$e,ln,B,[bR]),jf(S,B,null)}catch(se){throw ue!==null&&Oh(ue),Oh(B),se}finally{yf()}return new Wh(this.componentType,N,Df(H,B),B,H)}finally{z(o)}}},Wh=class extends Bh{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new $i(i,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;Uf(o[F],o,i,t,n),this.previousInputValues.set(t,n);let s=Kn(this._tNode.index,o);$f(s,1)}}get injector(){return new Ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function yR(e,t){let n=e[F],r=we;return e[r]=t,Il(n,r,2,"#host",null)}function _R(e,t,n,r,i,o,s){let a=i[F];ER(r,e,t,s);let c=null;t!==null&&(c=Mf(t,i[Li]));let l=o.rendererFactory.createRenderer(t,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=wl(i,sw(n),null,u,i[e.index],e,o,l,null,null,c);return a.firstCreatePass&&Vh(a,e,r.length-1),Cl(i,d),i[e.index]=d}function ER(e,t,n,r){for(let i of e)t.mergedAttrs=is(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(Hh(t,t.mergedAttrs,!0),n!==null&&JE(r,n,t))}function wR(e,t,n,r,i,o){let s=st(),a=i[F],c=it(s,i);lw(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,p=Bi(i,a,d,s);kr(p,i)}uw(a,i,s),c&&kr(c,i);let l=Bi(i,a,s.directiveStart+s.componentOffset,s);if(e[Oe]=i[Oe]=l,o!==null)for(let u of o)u(l,t);return rw(a,s,i),l}function IR(e,t,n,r){if(r)yh(e,n,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=JT(t.selectors[0]);i&&yh(e,n,i),o&&o.length>0&&QE(e,n,o.join(" "))}}function CR(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function bR(){let e=st();Ef(te()[F],e)}var Al=(()=>{class e{static{this.__NG_ELEMENT_ID__=DR}}return e})();function DR(){let e=st();return TR(e,te())}var SR=Al,Aw=class extends SR{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Df(this._hostTNode,this._hostLView)}get injector(){return new Ar(this._hostTNode,this._hostLView)}get parentInjector(){let t=wf(this._hostTNode,this._hostLView);if(lE(t)){let n=Wc(t,this._hostLView),r=Hc(t),i=n[F].data[r+8];return new Ar(i,n)}else return new Ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=e_(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Pe}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=us(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ls(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!fA(t),a;if(s)a=n;else{let y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}let c=s?t:new ds(Rr(t)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let w=(s?l:this.parentInjector).get(Ge,null);w&&(o=w)}let u=Rr(c.componentType??{}),d=us(this._lContainer,u?.id??null),p=d?.firstChild??null,g=c.create(l,i,p,o);return this.insertImpl(g.hostView,a,ls(this._hostTNode,d)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(_A(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[ke],l=new Aw(c,c[Ot],c[ke]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return bl(s,i,o,r),t.attachToViewContainerRef(),__(ch(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=e_(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=cs(this._lContainer,n);r&&(Fc(ch(this._lContainer),n),_l(r[F],r))}detach(t){let n=this._adjustIndex(t,-1),r=cs(this._lContainer,n);return r&&Fc(ch(this._lContainer),n)!=null?new $i(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function e_(e){return e[Uc]}function ch(e){return e[Uc]||(e[Uc]=[])}function TR(e,t){let n,r=t[e.index];return Gt(r)?n=r:(n=dw(r,t,null,e),t[e.index]=n,Cl(t,n)),Mw(n,t,e,r),new Aw(n,e,t)}function AR(e,t){let n=e[ge],r=n.createComment(""),i=it(t,e),o=YE(n,i);return Jc(n,o,r,tN(n,i),!1),r}var Mw=Nw,Hf=()=>!1;function MR(e,t,n){return Hf(e,t,n)}function Nw(e,t,n,r){if(e[hn])return;let i;n.type&8?i=Mt(r):i=AR(t,n),e[hn]=i}function NR(e,t,n){if(e[hn]&&e[as])return!0;let r=n[At],i=t.index-we;if(!r||pM(t)||Es(r,i))return!1;let s=Fh(r,i),a=r.data[Af]?.[i],[c,l]=uR(s,a);return e[hn]=c,e[as]=l,!0}function RR(e,t,n,r){Hf(e,n,t)||Nw(e,t,n,r)}function xR(){Mw=RR,Hf=NR}var t_=new Set;function Kt(e){t_.has(e)||(t_.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Is(e,t){Kt("NgSignals");let n=ey(e),r=n[Ln];return t?.equal&&(r.equal=t.equal),n.set=i=>Nd(r,i),n.update=i=>ty(r,i),n.asReadonly=OR.bind(n),n}function OR(){let e=this[Ln];if(e.readonlyFn===void 0){let t=()=>this();t[Ln]=e,e.readonlyFn=t}return e.readonlyFn}function PR(e){return Object.getPrototypeOf(e.prototype).constructor}function pt(e){let t=PR(e.type),n=!0,r=[e];for(;t;){let i;if(qn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new A(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Dc(e.inputs),s.inputTransforms=Dc(e.inputTransforms),s.declaredInputs=Dc(e.declaredInputs),s.outputs=Dc(e.outputs);let a=i.hostBindings;a&&UR(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&LR(e,c),l&&VR(e,l),kR(e,i),yT(e.outputs,i.outputs),qn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===pt&&(n=!1)}}t=Object.getPrototypeOf(t)}FR(r)}function kR(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];if(r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function FR(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=is(i.hostAttrs,n=is(n,i.hostAttrs))}}function Dc(e){return e===ki?{}:e===tt?[]:e}function LR(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function VR(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function UR(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function Wf(e){let t=e.inputConfig,n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}e.inputTransforms=n}var Yn=class{},hs=class{};var zh=class extends Yn{constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nl(this);let o=A_(t);this._bootstrapComponents=$E(o.bootstrap),this._r3Injector=yE(t,n,[{provide:Yn,useValue:this},{provide:Wi,useValue:this.componentFactoryResolver},...r],ze(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Gh=class extends hs{constructor(t){super(),this.moduleType=t}create(t){return new zh(this.moduleType,t,[])}};var rl=class extends Yn{constructor(t){super(),this.componentFactoryResolver=new nl(this),this.instance=null;let n=new os([...t.providers,{provide:Yn,useValue:this},{provide:Wi,useValue:this.componentFactoryResolver}],t.parent||ff(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function zf(e,t,n=null){return new rl({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function jR(e,t,n){return e[t]=n}function mn(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function BR(e,t,n,r){let i=mn(e,t,n);return mn(e,t+1,r)||i}function Cs(e){return(e.flags&32)===32}function $R(e,t,n,r,i,o,s,a,c){let l=t.consts,u=Il(t,e,4,s||null,a||null);cw(t,n,u,ji(l,c)),Ef(t,u);let d=u.tView=Vf(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function qh(e,t,n,r,i,o,s,a,c,l){let u=n+we,d=t.firstCreatePass?$R(u,t,e,r,i,o,s,a,c):t.data[u];ys(d,!1);let p=Rw(t,e,d,n);_f()&&kf(t,e,p,d),kr(p,e);let g=dw(p,e,p,d);return e[u]=g,Cl(e,g),MR(g,d,e),pf(d)&&iw(t,e,d),c!=null&&ow(e,d,l),d}function Lr(e,t,n,r,i,o,s,a){let c=te(),l=ot(),u=ji(l.consts,o);return qh(c,l,e,t,n,r,i,u,s,a),Lr}var Rw=xw;function xw(e,t,n,r){return Xn(!0),t[ge].createComment("")}function HR(e,t,n,r){let i=t[At],o=!i||vs()||Cs(n)||Es(i,r);if(Xn(o),o)return xw(e,t,n,r);let s=i.data[IM]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Dl(i,e,t,n);vl(i,r,a);let c=Nf(i,r);return Sl(c,a)}function WR(){Rw=HR}var ts=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(ts||{}),zR=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}}return e})(),n_=class e{constructor(){this.ngZone=E(J),this.scheduler=E(Hi),this.errorHandler=E(fn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ts.EarlyRead,ts.Write,ts.MixedReadWrite,ts.Read]}execute(){this.executing=!0;for(let t of e.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[t]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}};function bs(e,t,n,r){let i=te(),o=_s();if(mn(i,o,t)){let s=ot(),a=oE();RN(a,i,e,t,n,r)}return bs}function GR(e,t,n,r){return mn(e,_s(),n)?t+Pi(n)+r:Yt}function qR(e,t,n,r,i,o){let s=xA(),a=BR(e,s,n,i);return J_(2),a?t+Pi(n)+r+Pi(i)+o:Yt}function Sc(e,t){return e<<17|t<<2}function Fr(e){return e>>17&32767}function YR(e){return(e&2)==2}function KR(e,t){return e&131071|t<<17}function Yh(e){return e|2}function Gi(e){return(e&131068)>>2}function lh(e,t){return e&-131069|t<<2}function ZR(e){return(e&1)===1}function Kh(e){return e|1}function QR(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Fr(s),c=Gi(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||ms(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let p=Fr(e[a+1]);e[r+1]=Sc(p,a),p!==0&&(e[p+1]=lh(e[p+1],r)),e[a+1]=KR(e[a+1],r)}else e[r+1]=Sc(a,0),a!==0&&(e[a+1]=lh(e[a+1],r)),a=r;else e[r+1]=Sc(c,0),a===0?a=r:e[c+1]=lh(e[c+1],r),c=r;l&&(e[r+1]=Yh(e[r+1])),r_(e,u,r,!0),r_(e,u,r,!1),JR(t,u,e,r,o),s=Sc(a,c),o?t.classBindings=s:t.styleBindings=s}function JR(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&ms(o,t)>=0&&(n[r+1]=Kh(n[r+1]))}function r_(e,t,n,r){let i=e[n+1],o=t===null,s=r?Fr(i):Gi(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];XR(c,t)&&(a=!0,e[s+1]=r?Kh(l):Yh(l)),s=r?Fr(l):Gi(l)}a&&(e[n+1]=r?Yh(i):Kh(i))}function XR(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?ms(e,t)>=0:!1}function ct(e,t,n){let r=te(),i=_s();if(mn(r,i,t)){let o=ot(),s=oE();_N(o,s,r,e,t,r[ge],n,!1)}return ct}function i_(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";Uf(e,n,o[s],s,r)}function Ml(e,t){return ex(e,t,null,!0),Ml}function ex(e,t,n,r){let i=te(),o=ot(),s=J_(2);if(o.firstUpdatePass&&nx(o,e,s,r),t!==Yt&&mn(i,s,t)){let a=o.data[Jn()];ax(o,a,i,i[ge],e,i[s+1]=cx(t,n),r,s)}}function tx(e,t){return t>=e.expandoStartIndex}function nx(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Jn()],s=tx(e,n);lx(o,r)&&t===null&&!s&&(t=!1),t=rx(i,o,t,r),QR(i,o,t,n,s,r)}}function rx(e,t,n,r){let i=LA(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=uh(null,e,t,n,r),n=fs(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=uh(i,e,t,n,r),o===null){let c=ix(e,t,r);c!==void 0&&Array.isArray(c)&&(c=uh(null,e,t,c[1],r),c=fs(c,t.attrs,r),ox(e,t,r,c))}else o=sx(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function ix(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Gi(r)!==0)return e[Fr(r)]}function ox(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Fr(i)]=r}function sx(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=fs(r,s,n)}return fs(r,t.attrs,n)}function uh(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=fs(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function fs(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),UT(e,s,n?!0:t[++o]))}return e===void 0?null:e}function ax(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=ZR(l)?o_(c,t,n,i,Gi(l),s):void 0;if(!il(u)){il(o)||YR(l)&&(o=o_(c,null,n,i,a,s));let d=$_(Jn(),n);aN(r,s,d,i,o)}}function o_(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=n[i+1];p===Yt&&(p=d?tt:void 0);let g=d?Jd(p,r):u===r?p:void 0;if(l&&!il(g)&&(g=Jd(c,r)),il(g)&&(a=g,s))return a;let y=e[i+1];i=s?Fr(y):Gi(y)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=Jd(c,r))}return a}function il(e){return e!==void 0}function cx(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=ze(ws(e)))),e}function lx(e,t){return(e.flags&(t?8:16))!==0}var Zh=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function dh(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function ux(e,t,n){let r,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;o<=s&&o<=c;){let l=e.at(o),u=t[o],d=dh(o,l,o,u,n);if(d!==0){d<0&&e.updateValue(o,u),o++;continue}let p=e.at(s),g=t[c],y=dh(s,p,c,g,n);if(y!==0){y<0&&e.updateValue(s,g),s--,c--;continue}let w=n(o,l),I=n(s,p),S=n(o,u);if(Object.is(S,I)){let B=n(c,g);Object.is(B,w)?(e.swap(o,s),e.updateValue(s,g),c--,s--):e.move(s,o),e.updateValue(o,u),o++;continue}if(r??=new ol,i??=a_(e,o,s,n),Qh(e,r,o,S))e.updateValue(o,u),o++,s++;else if(i.has(S))r.set(w,e.detach(o)),s--;else{let B=e.create(o,t[o]);e.attach(o,B),o++,s++}}for(;o<=c;)s_(e,r,n,o,t[o]),o++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=e.at(o),d=l.value,p=dh(o,u,o,d,n);if(p!==0)p<0&&e.updateValue(o,d),o++,l=c.next();else{r??=new ol,i??=a_(e,o,s,n);let g=n(o,d);if(Qh(e,r,o,g))e.updateValue(o,d),o++,s++,l=c.next();else if(!i.has(g))e.attach(o,e.create(o,d)),o++,s++,l=c.next();else{let y=n(o,u);r.set(y,e.detach(o)),s--}}}for(;!l.done;)s_(e,r,n,e.length,l.value),l=c.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}function Qh(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function s_(e,t,n,r,i){if(Qh(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function a_(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var ol=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function En(e,t){Kt("NgControlFlow");let n=te(),r=_s(),i=n[r]!==Yt?n[r]:-1,o=i!==-1?sl(n,we+i):void 0,s=0;if(mn(n,r,e)){let a=z(null);try{if(o!==void 0&&gw(o,s),e!==-1){let c=we+e,l=sl(n,c),u=tf(n[F],c),d=us(l,u.tView.ssrId),p=Bf(n,u,t,{dehydratedView:d});bl(l,p,s,ls(u,d))}}finally{z(a)}}else if(o!==void 0){let a=mw(o,s);a!==void 0&&(a[Oe]=t)}}var Jh=class{constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Pe}};function Nl(e){return e}var Xh=class{constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Rl(e,t,n,r,i,o,s,a,c,l,u,d,p){Kt("NgControlFlow");let g=te(),y=ot(),w=c!==void 0,I=te(),S=a?s.bind(I[rt][Oe]):s,B=new Xh(w,S);I[we+e]=B,qh(g,y,e+1,t,n,r,i,ji(y.consts,o)),w&&qh(g,y,e+2,c,l,u,d,ji(y.consts,p))}var ef=class extends Zh{constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Pe}at(t){return this.getLView(t)[Oe].$implicit}attach(t,n){let r=n[At];this.needsIndexUpdate||=t!==this.length,bl(this.lContainer,n,t,ls(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,dx(this.lContainer,t)}create(t,n){let r=us(this.lContainer,this.templateTNode.tView.ssrId),i=Bf(this.hostLView,this.templateTNode,new Jh(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){_l(t[F],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[Oe].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Oe].$index=t}getLView(t){return hx(this.lContainer,t)}};function xl(e){let t=z(null),n=Jn();try{let r=te(),i=r[F],o=r[n],s=n+1,a=sl(r,s);if(o.liveCollection===void 0){let l=tf(i,s);o.liveCollection=new ef(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(ux(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=_s(),u=c.length===0;if(mn(r,l,u)){let d=n+2,p=sl(r,d);if(u){let g=tf(i,d),y=us(p,g.tView.ssrId),w=Bf(r,g,void 0,{dehydratedView:y});bl(p,w,0,ls(g,y))}else gw(p,0)}}}finally{z(t)}}function sl(e,t){return e[t]}function dx(e,t){return cs(e,t)}function hx(e,t){return mw(e,t)}function tf(e,t){return mf(e,t)}function fx(e,t,n,r,i,o){let s=t.consts,a=ji(s,i),c=Il(t,e,2,r,a);return cw(t,n,c,ji(s,o)),c.attrs!==null&&Hh(c,c.attrs,!1),c.mergedAttrs!==null&&Hh(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function f(e,t,n,r){let i=te(),o=ot(),s=we+e,a=i[ge],c=o.firstCreatePass?fx(s,o,i,t,n,r):o.data[s],l=Ow(o,i,c,a,t,e);i[s]=l;let u=pf(c);return ys(c,!0),JE(a,l,c),!Cs(c)&&_f()&&kf(o,i,l,c),IA()===0&&kr(l,i),CA(),u&&(iw(o,i,c),rw(o,c,i)),r!==null&&ow(i,c),f}function h(){let e=st();Z_()?MA():(e=e.parent,ys(e,!1));let t=e;DA(t)&&TA(),bA();let n=ot();return n.firstCreatePass&&(Ef(n,e),L_(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&HA(t)&&i_(n,t,te(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&WA(t)&&i_(n,t,te(),t.stylesWithoutHost,!1),h}function _(e,t,n,r){return f(e,t,n,r),h(),_}var Ow=(e,t,n,r,i,o)=>(Xn(!0),Of(r,i,sE()));function px(e,t,n,r,i,o){let s=t[At],a=!s||vs()||Cs(n)||Es(s,o);if(Xn(a),a)return Of(r,i,sE());let c=Dl(s,e,t,n);return FE(s,o)&&vl(s,o,c.nextSibling),s&&(CE(n)||bE(c))&&gs(n)&&(SA(n),ZE(c)),c}function mx(){Ow=px}var gx=(e,t,n,r)=>(Xn(!0),WE(t[ge],""));function vx(e,t,n,r){let i,o=t[At],s=!o||vs()||Es(o,r)||Cs(n);if(Xn(s),s)return WE(t[ge],"");let a=Dl(o,e,t,n),c=xM(o,r);return vl(o,r,a),i=Sl(c,a),i}function yx(){gx=vx}function Ki(){return te()}var al="en-US";var _x=al;function Ex(e){typeof e=="string"&&(_x=e.toLowerCase().replace(/_/g,"-"))}var wx=(e,t,n)=>{};function X(e,t,n,r){let i=te(),o=ot(),s=st();return Cx(o,i,i[ge],s,e,t,r),X}function Ix(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Vc],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Cx(e,t,n,r,i,o,s){let a=pf(r),l=e.firstCreatePass&&FN(e),u=t[Oe],d=kN(t),p=!0;if(r.type&3||s){let w=it(r,t),I=s?s(w):w,S=d.length,B=s?H=>s(Mt(H[r.index])):r.index,N=null;if(!s&&a&&(N=Ix(e,t,i,r.index)),N!==null){let H=N.__ngLastListenerFn__||N;H.__ngNextListenerFn__=o,N.__ngLastListenerFn__=o,p=!1}else{o=l_(r,t,u,o),wx(w,i,o);let H=n.listen(I,i,o);d.push(o,H),l&&l.push(i,B,S,S+1)}}else o=l_(r,t,u,o);let g=r.outputs,y;if(p&&g!==null&&(y=g[i])){let w=y.length;if(w)for(let I=0;I<w;I+=2){let S=y[I],B=y[I+1],ue=t[S][B].subscribe(o),se=d.length;d.push(o,ue),l&&l.push(i,r.index,se,-(se+1))}}}function c_(e,t,n,r){let i=z(null);try{return Bt(6,t,n),n(r)!==!1}catch(o){return fw(e,o),!1}finally{Bt(7,t,n),z(i)}}function l_(e,t,n,r){return function i(o){if(o===Function)return r;let s=e.componentOffset>-1?Kn(e.index,t):t;$f(s,5);let a=c_(t,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=c_(t,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Zi(e=1){return UA(e)}function bx(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function Gf(e){let t=NA();return H_(t,we+e)}function m(e,t=""){let n=te(),r=ot(),i=e+we,o=r.firstCreatePass?Il(r,i,1,t,null):r.data[i],s=Pw(r,n,o,t,e);n[i]=s,_f()&&kf(r,n,s,o),ys(o,!1)}var Pw=(e,t,n,r,i)=>(Xn(!0),HE(t[ge],r));function Dx(e,t,n,r,i){let o=t[At],s=!o||vs()||Cs(n)||Es(o,i);return Xn(s),s?HE(t[ge],r):Dl(o,e,t,n)}function Sx(){Pw=Dx}function Ae(e){return Qi("",e,""),Ae}function Qi(e,t,n){let r=te(),i=GR(r,e,t,n);return i!==Yt&&pw(r,Jn(),i),Qi}function Ol(e,t,n,r,i){let o=te(),s=qR(o,e,t,n,r,i);return s!==Yt&&pw(o,Jn(),s),Ol}function Tx(e,t,n){let r=ot();if(r.firstCreatePass){let i=qn(e);nf(n,r.data,r.blueprint,i,!0),nf(t,r.data,r.blueprint,i,!1)}}function nf(e,t,n,r,i){if(e=Be(e),Array.isArray(e))for(let o=0;o<e.length;o++)nf(e[o],t,n,r,i);else{let o=ot(),s=te(),a=st(),c=Fi(e)?e:Be(e.provide),l=P_(e),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(Fi(e)||!e.multi){let g=new Pr(l,i,R),y=fh(c,t,i?u:u+p,d);y===-1?(Th(Gc(a,s),o,c),hh(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[y]=g,s[y]=g)}else{let g=fh(c,t,u+p,d),y=fh(c,t,u,u+p),w=g>=0&&n[g],I=y>=0&&n[y];if(i&&!I||!i&&!w){Th(Gc(a,s),o,c);let S=Nx(i?Mx:Ax,n.length,i,r,l);!i&&I&&(n[y].providerFactory=S),hh(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(S),s.push(S)}else{let S=kw(n[i?y:g],l,!i&&r);hh(o,e,g>-1?g:y,S)}!i&&r&&I&&n[y].componentProviders++}}}function hh(e,t,n,r){let i=Fi(t),o=oA(t);if(i||o){let c=(o?Be(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function kw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function fh(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Ax(e,t,n,r){return rf(this.multi,[])}function Mx(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Bi(n,n[F],this.providerFactory.index,r);o=a.slice(0,s),rf(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],rf(i,o);return o}function rf(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function Nx(e,t,n,r,i){let o=new Pr(e,n,R);return o.multi=[],o.index=t,o.componentProviders=0,kw(o,i,r&&!n),o}function tr(e,t=[]){return n=>{n.providersResolver=(r,i)=>Tx(r,i?i(e):e,t)}}var Rx=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=R_(!1,n.type),i=r.length>0?zf([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=T({token:e,providedIn:"environment",factory:()=>new e(M(Ge))})}}return e})();function ie(e){Kt("NgStandalone"),e.getStandaloneInjector=t=>t.get(Rx).getOrCreateStandaloneInjector(e)}function xx(e,t){let n=e[t];return n===Yt?void 0:n}function Ox(e,t,n,r,i,o){let s=t+n;return mn(e,s,i)?jR(e,s+1,o?r.call(o,i):r(i)):xx(e,s+1)}function Fw(e,t){let n=ot(),r,i=e+we;n.firstCreatePass?(r=Px(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Mr(r.type,!0)),s,a=We(R);try{let c=zc(!1),l=o();return zc(c),bx(n,te(),i,l),l}finally{We(a)}}function Px(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Lw(e,t,n){let r=e+we,i=te(),o=H_(i,r);return kx(i,r)?Ox(i,RA(),t,o.transform,n,o):o.transform(n)}function kx(e,t){return e[F].data[t].pure}var gn=class{constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Vw=new gn("18.2.13");var Pl=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var Uw=new D("");function Vr(e){return!!e&&typeof e.then=="function"}function jw(e){return!!e&&typeof e.subscribe=="function"}var Bw=new D(""),$w=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=E(Bw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(Vr(o))n.push(o);else if(jw(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ji=new D("");function Fx(){Xv(()=>{throw new A(600,!1)})}function Lx(e){return e.isBoundToModule}var Vx=10;function Ux(e,t,n){try{let r=n();return Vr(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Zt=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(uM),this.afterRenderManager=E(zR),this.zonelessEnabled=E(Tl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Se,this.afterTick=new Se,this.componentTypes=[],this.components=[],this.isStable=E(er).hasPendingTasks.pipe(L(n=>!n)),this._injector=E(Ge)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof tl;if(!this._injector.get($w).done){let p=!i&&T_(n),g=!1;throw new A(405,g)}let s;i?s=n:s=this._injector.get(Wi).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=Lx(s)?void 0:this._injector.get(Yn),c=r||s.selector,l=s.create(Te.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(Uw,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),xc(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new A(101,!1);let n=z(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,z(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(zi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Vx;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)jx(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>fl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;xc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Ji,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>xc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new A(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function xc(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var Tc;function kl(e){Tc??=new WeakMap;let t=Tc.get(e);if(t)return t;let n=e.isStable.pipe(bt(r=>r)).toPromise().then(()=>{});return Tc.set(e,n),e.onDestroy(()=>Tc?.delete(e)),n}function jx(e,t,n,r){if(!n&&!fl(e))return;_w(e,t,n&&!r?0:1)}var of=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},qf=(()=>{class e{compileModuleSync(n){return new Gh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=A_(n),o=$E(i.declarations).reduce((s,a)=>{let c=Rr(a);return c&&s.push(new ds(c)),s},[]);return new of(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Bx=(()=>{class e{constructor(){this.zone=E(J),this.changeDetectionScheduler=E(Hi),this.applicationRef=E(Zt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$x=new D("",{factory:()=>!1});function Hw({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new J(W(C({},zw()),{scheduleInRootZone:n})),[{provide:J,useFactory:e},{provide:Nr,multi:!0,useFactory:()=>{let r=E(Bx,{optional:!0});return()=>r.initialize()}},{provide:Nr,multi:!0,useFactory:()=>{let r=E(Hx);return()=>{r.initialize()}}},t===!0?{provide:Sw,useValue:!0}:[],{provide:Tw,useValue:n??_E}]}function Ww(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=Hw({ngZoneFactory:()=>{let i=zw(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Kt("NgZone_CoalesceEvent"),new J(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Fe([{provide:$x,useValue:!0},{provide:Tl,useValue:!1},r])}function zw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var Hx=(()=>{class e{constructor(){this.subscription=new me,this.initialized=!1,this.zone=E(J),this.pendingTasks=E(er)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{J.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{J.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Wx=(()=>{class e{constructor(){this.appRef=E(Zt),this.taskService=E(er),this.ngZone=E(J),this.zonelessEnabled=E(Tl),this.disableScheduling=E(Sw,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new me,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Yc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(Tw,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Wy:wE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Yc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Wy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function zx(){return typeof $localize<"u"&&$localize.locale||al}var Yf=new D("",{providedIn:"root",factory:()=>E(Yf,$.Optional|$.SkipSelf)||zx()});var sf=new D("");function Ac(e){return!e.moduleRef}function Gx(e){let t=Ac(e)?e.r3Injector:e.moduleRef.injector,n=t.get(J);return n.run(()=>{Ac(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(fn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Ac(e)){let o=()=>t.destroy(),s=e.platformInjector.get(sf);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(sf);s.add(o),e.moduleRef.onDestroy(()=>{xc(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return Ux(r,n,()=>{let o=t.get($w);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Yf,al);if(Ex(s||al),Ac(e)){let a=t.get(Zt);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return qx(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function qx(e,t){let n=e.injector.get(Zt);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new A(-403,!1);t.push(e)}var Oc=null;function Yx(e=[],t){return Te.create({name:t,providers:[{provide:dl,useValue:"platform"},{provide:sf,useValue:new Set([()=>Oc=null])},...e]})}function Kx(e=[]){if(Oc)return Oc;let t=Yx(e);return Oc=t,Fx(),Zx(t),t}function Zx(e){e.get(Sf,null)?.forEach(n=>n())}var Xi=(()=>{class e{static{this.__NG_ELEMENT_ID__=Qx}}return e})();function Qx(e){return Jx(st(),te(),(e&16)===16)}function Jx(e,t,n){if(gs(e)&&!n){let r=Kn(e.index,t);return new $i(r,r)}else if(e.type&175){let r=t[rt];return new $i(r,t)}return null}function Gw(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=Kx(r),o=[Hw({}),{provide:Hi,useExisting:Wx},...n||[]],s=new rl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Gx({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}var u_=!1;function Xx(){u_||(u_=!0,AM(),mx(),Sx(),yx(),WR(),xR(),hR(),mN())}function eO(e,t){return kl(e)}function qw(){return Fe([{provide:Ic,useFactory:()=>{let e=!0;return bc()&&(e=!!E(Yi,{optional:!0})?.get(PE,null)),e&&Kt("NgHydration"),e}},{provide:Nr,useValue:()=>{oR(!1),bc()&&E(Ic)&&(tO(),Xx())},multi:!0},{provide:VE,useFactory:()=>bc()&&E(Ic)},{provide:Ji,useFactory:()=>{if(bc()&&E(Ic)){let e=E(Zt),t=E(Te);return()=>{eO(e,t).then(()=>{lR(e)})}}return()=>{}},multi:!0}])}function tO(){let e=ml(),t;for(let n of e.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===SM){t=n;break}if(!t)throw new A(-507,!1)}function Ur(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Ds(e,t){Kt("NgSignals");let n=Zv(e);return t?.equal&&(n[Ln].equal=t.equal),n}function wn(e){let t=z(null);try{return e()}finally{z(t)}}var Zw=null;function In(){return Zw}function Qw(e){Zw??=e}var Fl=class{};var qe=new D(""),Jw=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:()=>E(nO),providedIn:"platform"})}}return e})();var nO=(()=>{class e extends Jw{constructor(){super(),this._doc=E(qe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return In().getBaseHref(this._doc)}onPopState(n){let r=In().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=In().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Xw(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function Yw(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function jr(e){return e&&e[0]!=="?"?"?"+e:e}var to=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:()=>E(eI),providedIn:"root"})}}return e})(),rO=new D(""),eI=(()=>{class e extends to{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??E(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Xw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+jr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+jr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+jr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(M(Jw),M(rO,8))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ss=(()=>{class e{constructor(n){this._subject=new Ee,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=sO(Yw(Kw(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+jr(r))}normalize(n){return e.stripTrailingSlash(oO(this._basePath,Kw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=jr}static{this.joinWithSlash=Xw}static{this.stripTrailingSlash=Yw}static{this.\u0275fac=function(r){return new(r||e)(M(to))}}static{this.\u0275prov=T({token:e,factory:()=>iO(),providedIn:"root"})}}return e})();function iO(){return new Ss(M(to))}function oO(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Kw(e){return e.replace(/\/index.html$/,"")}function sO(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function Ll(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Kf=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Rt({type:e})}static{this.\u0275inj=Nt({})}}return e})(),tI="browser",aO="server";function Ts(e){return e===aO}var eo=class{};var Ms=class{},Ns=class{},Qt=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Qf=class{encodeKey(t){return rI(t)}encodeValue(t){return rI(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function cO(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var lO=/%(\d[a-f0-9])/gi,uO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function rI(e){return encodeURIComponent(e).replace(lO,(t,n)=>uO[n]??t)}function Vl(e){return`${e}`}var rr=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Qf,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=cO(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(Vl):[Vl(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Vl(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(Vl(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Jf=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function dO(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function iI(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function oI(e){return typeof Blob<"u"&&e instanceof Blob}function sI(e){return typeof FormData<"u"&&e instanceof FormData}function hO(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var As=class e{constructor(t,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(dO(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Qt,this.context??=new Jf,!this.params)this.params=new rr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||iI(this.body)||oI(this.body)||sI(this.body)||hO(this.body)?this.body:this.body instanceof rr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||sI(this.body)?null:oI(this.body)?this.body.type||null:iI(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof rr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,l=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((p,g)=>p.set(g,t.setHeaders[g]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((p,g)=>p.set(g,t.setParams[g]),u)),new e(n,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},ir=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(ir||{}),Rs=class{constructor(t,n=200,r="OK"){this.headers=t.headers||new Qt,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},jl=class e extends Rs{constructor(t={}){super(t),this.type=ir.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Br=class e extends Rs{constructor(t={}){super(t),this.type=ir.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},nr=class extends Rs{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},vI=200,fO=204;function Zf(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var xs=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof As)o=n;else{let c;i.headers instanceof Qt?c=i.headers:c=new Qt(i.headers);let l;i.params&&(i.params instanceof rr?l=i.params:l=new rr({fromObject:i.params})),o=new As(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=O(o).pipe($n(c=>this.handler.handle(c)));if(n instanceof As||i.observe==="events")return s;let a=s.pipe(Xe(c=>c instanceof Br));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(L(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(L(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(L(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(L(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new rr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Zf(i,r))}post(n,r,i={}){return this.request("POST",n,Zf(i,r))}put(n,r,i={}){return this.request("PUT",n,Zf(i,r))}static{this.\u0275fac=function(r){return new(r||e)(M(Ms))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),pO=/^\)\]\}',?\n/,mO="X-Request-URL";function aI(e){if(e.url)return e.url;let t=mO.toLocaleLowerCase();return e.headers.get(t)}var Xf=(()=>{class e{constructor(){this.fetchImpl=E(ep,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=E(J)}handle(n){return new G(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(tp,o=>r.error(new nr({error:o}))),()=>i.abort()})}doRequest(n,r,i){return v(this,null,function*(){let o=this.createRequestInit(n),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,C({signal:r},o)));gO(g),i.next({type:ir.Sent}),s=yield g}catch(g){i.error(new nr({error:g,status:g.status??0,statusText:g.statusText,url:n.urlWithParams,headers:g.headers}));return}let a=new Qt(s.headers),c=s.statusText,l=aI(s)??n.urlWithParams,u=s.status,d=null;if(n.reportProgress&&i.next(new jl({headers:a,status:u,statusText:c,url:l})),s.body){let g=s.headers.get("content-length"),y=[],w=s.body.getReader(),I=0,S,B,N=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>v(this,null,function*(){for(;;){let{done:ue,value:se}=yield w.read();if(ue)break;if(y.push(se),I+=se.length,n.reportProgress){B=n.responseType==="text"?(B??"")+(S??=new TextDecoder).decode(se,{stream:!0}):void 0;let $e=()=>i.next({type:ir.DownloadProgress,total:g?+g:void 0,loaded:I,partialText:B});N?N.run($e):$e()}}}));let H=this.concatChunks(y,I);try{let ue=s.headers.get("Content-Type")??"";d=this.parseBody(n,H,ue)}catch(ue){i.error(new nr({error:ue,headers:new Qt(s.headers),status:s.status,statusText:s.statusText,url:aI(s)??n.urlWithParams}));return}}u===0&&(u=d?vI:0),u>=200&&u<300?(i.next(new Br({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new nr({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(pO,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),ep=class{};function tp(){}function gO(e){e.then(tp,tp)}function vO(e,t){return t(e)}function yO(e,t,n){return(r,i)=>xt(n,()=>t(r,o=>e(o,i)))}var yI=new D(""),_I=new D(""),_O=new D("",{providedIn:"root",factory:()=>!0});var cI=(()=>{class e extends Ms{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=E(er),this.contributeToStability=E(_O)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(yI),...this.injector.get(_I,[])]));this.chain=r.reduceRight((i,o)=>yO(i,o,this.injector),vO)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Tr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||e)(M(Ns),M(Ge))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();var EO=/^\)\]\}',?\n/;function wO(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var lI=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new A(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?fe(r.\u0275loadImpl()):O(null)).pipe(et(()=>new G(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((w,I)=>s.setRequestHeader(w,I.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let w=n.detectContentTypeHeader();w!==null&&s.setRequestHeader("Content-Type",w)}if(n.responseType){let w=n.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let w=s.statusText||"OK",I=new Qt(s.getAllResponseHeaders()),S=wO(s)||n.url;return c=new jl({headers:I,status:s.status,statusText:w,url:S}),c},u=()=>{let{headers:w,status:I,statusText:S,url:B}=l(),N=null;I!==fO&&(N=typeof s.response>"u"?s.responseText:s.response),I===0&&(I=N?vI:0);let H=I>=200&&I<300;if(n.responseType==="json"&&typeof N=="string"){let ue=N;N=N.replace(EO,"");try{N=N!==""?JSON.parse(N):null}catch(se){N=ue,H&&(H=!1,N={error:se,text:N})}}H?(o.next(new Br({body:N,headers:w,status:I,statusText:S,url:B||void 0})),o.complete()):o.error(new nr({error:N,headers:w,status:I,statusText:S,url:B||void 0}))},d=w=>{let{url:I}=l(),S=new nr({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});o.error(S)},p=!1,g=w=>{p||(o.next(l()),p=!0);let I={type:ir.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(I.total=w.total),n.responseType==="text"&&s.responseText&&(I.partialText=s.responseText),o.next(I)},y=w=>{let I={type:ir.UploadProgress,loaded:w.loaded};w.lengthComputable&&(I.total=w.total),o.next(I)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:ir.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(M(eo))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),EI=new D(""),IO="XSRF-TOKEN",CO=new D("",{providedIn:"root",factory:()=>IO}),bO="X-XSRF-TOKEN",DO=new D("",{providedIn:"root",factory:()=>bO}),Bl=class{},SO=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ll(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(M(qe),M(at),M(CO))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();function TO(e,t){let n=e.url.toLowerCase();if(!E(EI)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=E(Bl).getToken(),i=E(DO);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var wI=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(wI||{});function AO(e,t){return{\u0275kind:e,\u0275providers:t}}function II(...e){let t=[xs,lI,cI,{provide:Ms,useExisting:cI},{provide:Ns,useFactory:()=>E(Xf,{optional:!0})??E(lI)},{provide:yI,useValue:TO,multi:!0},{provide:EI,useValue:!0},{provide:Bl,useClass:SO}];for(let n of e)t.push(...n.\u0275providers);return Fe(t)}function CI(){return AO(wI.Fetch,[Xf,{provide:Ns,useExisting:Xf}])}var MO=new D(""),uI="b",dI="h",hI="s",fI="st",pI="u",mI="rt",Ul=new D(""),NO=["GET","HEAD"];function RO(e,t){let g=E(Ul),{isCacheActive:n}=g,r=Bv(g,["isCacheActive"]),{transferCache:i,method:o}=e;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!NO.includes(o)||!r.includeRequestsWithAuthHeaders&&xO(e)||r.filter?.(e)===!1)return t(e);let s=E(Yi),a=E(MO,{optional:!0}),c=Ts(E(at));if(a&&!c)throw new A(2803,!1);let l=c&&a?FO(e.url,a):e.url,u=PO(e,l),d=s.get(u,null),p=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(p=i.includeHeaders),d){let{[uI]:y,[mI]:w,[dI]:I,[hI]:S,[fI]:B,[pI]:N}=d,H=y;switch(w){case"arraybuffer":H=new TextEncoder().encode(y).buffer;break;case"blob":H=new Blob([y]);break}let ue=new Qt(I);return O(new Br({body:H,headers:ue,status:S,statusText:B,url:N}))}return t(e).pipe(ve(y=>{y instanceof Br&&c&&s.set(u,{[uI]:y.body,[dI]:OO(y.headers,p),[hI]:y.status,[fI]:y.statusText,[pI]:l,[mI]:e.responseType})}))}function xO(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function OO(e,t){if(!t)return{};let n={};for(let r of t){let i=e.getAll(r);i!==null&&(n[r]=i)}return n}function gI(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function PO(e,t){let{params:n,method:r,responseType:i}=e,o=gI(n),s=e.serializeBody();s instanceof URLSearchParams?s=gI(s):typeof s!="string"&&(s="");let a=[r,i,t,s,o].join("|"),c=kO(a);return c}function kO(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function bI(e){return[{provide:Ul,useFactory:()=>(Kt("NgHttpTransferCache"),C({isCacheActive:!0},e))},{provide:_I,useValue:RO,multi:!0,deps:[Yi,Ul]},{provide:Ji,multi:!0,useFactory:()=>{let t=E(Zt),n=E(Ul);return()=>{kl(t).then(()=>{n.isCacheActive=!1})}}}]}function FO(e,t){let n=new URL(e,"resolve://").origin,r=t[n];return r?e.replace(n,r):e}var ip=class extends Fl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},op=class e extends ip{static makeCurrent(){Qw(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=LO();return n==null?null:VO(n)}resetBaseElement(){Os=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ll(document.cookie,t)}},Os=null;function LO(){return Os=Os||document.querySelector("base"),Os?Os.getAttribute("href"):null}function VO(e){return new URL(e,document.baseURI).pathname}var UO=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),sp=new D(""),MI=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new A(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(M(sp),M(J))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),$l=class{constructor(t){this._doc=t}},np="ng-app-id",NI=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ts(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${np}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(np),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(np,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(M(qe),M(gl),M(Tf,8),M(at))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),rp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},lp=/%COMP%/g,RI="%COMP%",jO=`_nghost-${RI}`,BO=`_ngcontent-${RI}`,$O=!0,HO=new D("",{providedIn:"root",factory:()=>$O});function WO(e){return BO.replace(lp,e)}function zO(e){return jO.replace(lp,e)}function xI(e,t){return t.map(n=>n.replace(lp,e))}var SI=(()=>{class e{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ts(a),this.defaultRenderer=new Ps(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ht.ShadowDom&&(r=W(C({},r),{encapsulation:Ht.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Hl?i.applyToHost(n):i instanceof ks&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ht.Emulated:o=new Hl(c,l,r,this.appId,u,s,a,d);break;case Ht.ShadowDom:return new ap(c,l,n,r,s,a,this.nonce,d);default:o=new ks(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(M(MI),M(NI),M(gl),M(HO),M(qe),M(at),M(J),M(Tf))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),Ps=class{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(rp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(TI(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(TI(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=rp[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=rp[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(pn.DashCase|pn.Important)?t.style.setProperty(n,r,i&pn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&pn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=In().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function TI(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var ap=class extends Ps{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=xI(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ks=class extends Ps{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?xI(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Hl=class extends ks{constructor(t,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(t,n,r,o,s,a,c,l),this.contentAttr=WO(l),this.hostAttr=zO(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},GO=(()=>{class e extends $l{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(M(qe))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),AI=["alt","control","meta","shift"],qO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YO={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},KO=(()=>{class e extends $l{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i){let o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>In().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),AI.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=qO[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),AI.forEach(s=>{if(s!==i){let a=YO[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(M(qe))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();function OI(e,t){return Gw(C({rootComponent:e},ZO(t)))}function ZO(e){return{appProviders:[...tP,...e?.providers??[]],platformProviders:eP}}function QO(){op.makeCurrent()}function JO(){return new fn}function XO(){return ME(document),document}var eP=[{provide:at,useValue:tI},{provide:Sf,useValue:QO,multi:!0},{provide:qe,useFactory:XO,deps:[]}];var tP=[{provide:dl,useValue:"root"},{provide:fn,useFactory:JO,deps:[]},{provide:sp,useClass:GO,multi:!0,deps:[qe,J,at]},{provide:sp,useClass:KO,multi:!0,deps:[qe]},SI,NI,MI,{provide:zi,useExisting:SI},{provide:eo,useClass:UO,deps:[]},[]];var PI=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(M(qe))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var cp=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e}(cp||{});function kI(...e){let t=[],n=new Set,r=n.has(cp.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of e)n.add(o),i.length&&t.push(i);return Fe([[],qw(),n.has(cp.NoHttpTransferCache)||r?[]:bI({}),t])}var V="primary",Qs=Symbol("RouteTitle"),pp=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ao(e){return new pp(e)}function rP(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function iP(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Jt(e[n],t[n]))return!1;return!0}function Jt(e,t){let n=e?mp(e):void 0,r=t?mp(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!HI(e[i],t[i]))return!1;return!0}function mp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function HI(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function WI(e){return e.length>0?e[e.length-1]:null}function sr(e){return Wd(e)?e:Vr(e)?fe(Promise.resolve(e)):O(e)}var oP={exact:GI,subset:qI},zI={exact:sP,subset:aP,ignored:()=>!0};function FI(e,t,n){return oP[n.paths](e.root,t.root,n.matrixParams)&&zI[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function sP(e,t){return Jt(e,t)}function GI(e,t,n){if(!Hr(e.segments,t.segments)||!Gl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!GI(e.children[r],t.children[r],n))return!1;return!0}function aP(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>HI(e[n],t[n]))}function qI(e,t,n){return YI(e,t,t.segments,n)}function YI(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Hr(i,n)||t.hasChildren()||!Gl(i,n,r))}else if(e.segments.length===n.length){if(!Hr(e.segments,n)||!Gl(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!qI(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Hr(e.segments,i)||!Gl(e.segments,i,r)||!e.children[V]?!1:YI(e.children[V],t,o,r)}}function Gl(e,t,n){return t.every((r,i)=>zI[n](e[i].parameters,r.parameters))}var bn=class{constructor(t=new ee([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ao(this.queryParams),this._queryParamMap}toString(){return uP.serialize(this)}},ee=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ql(this)}},$r=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=ao(this.parameters),this._parameterMap}toString(){return ZI(this)}};function cP(e,t){return Hr(e,t)&&e.every((n,r)=>Jt(n.parameters,t[r].parameters))}function Hr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function lP(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===V&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==V&&(n=n.concat(t(i,r)))}),n}var Bp=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:()=>new $s,providedIn:"root"})}}return e})(),$s=class{parse(t){let n=new vp(t);return new bn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Fs(t.root,!0)}`,r=fP(t.queryParams),i=typeof t.fragment=="string"?`#${dP(t.fragment)}`:"";return`${n}${r}${i}`}},uP=new $s;function ql(e){return e.segments.map(t=>ZI(t)).join("/")}function Fs(e,t){if(!e.hasChildren())return ql(e);if(t){let n=e.children[V]?Fs(e.children[V],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==V&&r.push(`${i}:${Fs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=lP(e,(r,i)=>i===V?[Fs(e.children[V],!1)]:[`${i}:${Fs(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[V]!=null?`${ql(e)}/${n[0]}`:`${ql(e)}/(${n.join("//")})`}}function KI(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wl(e){return KI(e).replace(/%3B/gi,";")}function dP(e){return encodeURI(e)}function gp(e){return KI(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yl(e){return decodeURIComponent(e)}function LI(e){return Yl(e.replace(/\+/g,"%20"))}function ZI(e){return`${gp(e.path)}${hP(e.parameters)}`}function hP(e){return Object.entries(e).map(([t,n])=>`;${gp(t)}=${gp(n)}`).join("")}function fP(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Wl(n)}=${Wl(i)}`).join("&"):`${Wl(n)}=${Wl(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var pP=/^[^\/()?;#]+/;function up(e){let t=e.match(pP);return t?t[0]:""}var mP=/^[^\/()?;=#]+/;function gP(e){let t=e.match(mP);return t?t[0]:""}var vP=/^[^=?&#]+/;function yP(e){let t=e.match(vP);return t?t[0]:""}var _P=/^[^&#]+/;function EP(e){let t=e.match(_P);return t?t[0]:""}var vp=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[V]=new ee(t,n)),r}parseSegment(){let t=up(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(t),new $r(Yl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=gP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=up(this.remaining);i&&(r=i,this.capture(r))}t[Yl(n)]=Yl(r)}parseQueryParam(t){let n=yP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=EP(this.remaining);s&&(r=s,this.capture(r))}let i=LI(n),o=LI(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=up(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=V);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[V]:new ee([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new A(4011,!1)}};function QI(e){return e.segments.length>0?new ee([],{[V]:e}):e}function JI(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=JI(i);if(r===V&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new ee(e.segments,t);return wP(n)}function wP(e){if(e.numberOfChildren===1&&e.children[V]){let t=e.children[V];return new ee(e.segments.concat(t.segments),t.children)}return e}function Wr(e){return e instanceof bn}function IP(e,t,n=null,r=null){let i=XI(e);return eC(i,t,n,r)}function XI(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new ee(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=QI(r);return t??i}function eC(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return dp(i,i,i,n,r);let o=CP(t);if(o.toRoot())return dp(i,i,new ee([],{}),n,r);let s=bP(o,i,e),a=s.processChildren?Us(s.segmentGroup,s.index,o.commands):nC(s.segmentGroup,s.index,o.commands);return dp(i,s.segmentGroup,a,n,r)}function Kl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Hs(e){return typeof e=="object"&&e!=null&&e.outlets}function dp(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=tC(e,t,n);let a=QI(JI(s));return new bn(a,o,i)}function tC(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=tC(o,t,n)}),new ee(e.segments,r)}var Zl=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Kl(r[0]))throw new A(4003,!1);let i=r.find(Hs);if(i&&i!==WI(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function CP(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Zl(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Zl(n,t,r)}var io=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function bP(e,t,n){if(e.isAbsolute)return new io(t,!0,0);if(!n)return new io(t,!1,NaN);if(n.parent===null)return new io(n,!0,0);let r=Kl(e.commands[0])?0:1,i=n.segments.length-1+r;return DP(n,i,e.numberOfDoubleDots)}function DP(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new io(r,!1,i-o)}function SP(e){return Hs(e[0])?e[0].outlets:{[V]:e}}function nC(e,t,n){if(e??=new ee([],{}),e.segments.length===0&&e.hasChildren())return Us(e,t,n);let r=TP(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ee(e.segments.slice(0,r.pathIndex),{});return o.children[V]=new ee(e.segments.slice(r.pathIndex),e.children),Us(o,0,i)}else return r.match&&i.length===0?new ee(e.segments,{}):r.match&&!e.hasChildren()?yp(e,t,n):r.match?Us(e,0,i):yp(e,t,n)}function Us(e,t,n){if(n.length===0)return new ee(e.segments,{});{let r=SP(n),i={};if(Object.keys(r).some(o=>o!==V)&&e.children[V]&&e.numberOfChildren===1&&e.children[V].segments.length===0){let o=Us(e.children[V],t,n);return new ee(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=nC(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ee(e.segments,i)}}function TP(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(Hs(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!UI(c,l,s))return o;r+=2}else{if(!UI(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function yp(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(Hs(o)){let c=AP(o.outlets);return new ee(r,c)}if(i===0&&Kl(n[0])){let c=e.segments[t];r.push(new $r(c.path,VI(n[0]))),i++;continue}let s=Hs(o)?o.outlets[V]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Kl(a)?(r.push(new $r(s,VI(a))),i+=2):(r.push(new $r(s,{})),i++)}return new ee(r,{})}function AP(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=yp(new ee([],{}),0,r))}),t}function VI(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function UI(e,t,n){return e==n.path&&Jt(t,n.parameters)}var js="imperative",xe=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(xe||{}),mt=class{constructor(t,n){this.id=t,this.url=n}},Ws=class extends mt{constructor(t,n,r="imperative",i=null){super(t,n),this.type=xe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},or=class extends mt{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ut=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ut||{}),_p=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(_p||{}),Cn=class extends mt{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zr=class extends mt{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=xe.NavigationSkipped}},zs=class extends mt{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ql=class extends mt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ep=class extends mt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wp=class extends mt{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ip=class extends mt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cp=class extends mt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bp=class{constructor(t){this.route=t,this.type=xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Dp=class{constructor(t){this.route=t,this.type=xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sp=class{constructor(t){this.snapshot=t,this.type=xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tp=class{constructor(t){this.snapshot=t,this.type=xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ap=class{constructor(t){this.snapshot=t,this.type=xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mp=class{constructor(t){this.snapshot=t,this.type=xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Gs=class{},co=class{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function MP(e,t){return e.providers&&!e._injector&&(e._injector=zf(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Pt(e){return e.outlet||V}function NP(e,t){let n=e.filter(r=>Pt(r)===t);return n.push(...e.filter(r=>Pt(r)!==t)),n}function Js(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Np=class{get injector(){return Js(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new iu(this.rootInjector),this.attachRef=null}},iu=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Np(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)(M(Ge))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Jl=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Rp(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Rp(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=xp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return xp(t,this._root).map(n=>n.value)}};function Rp(e,t){if(e===t.value)return t;for(let n of t.children){let r=Rp(e,n);if(r)return r}return null}function xp(e,t){if(e===t.value)return[t];for(let n of t.children){let r=xp(e,n);if(r.length)return r.unshift(t),r}return[]}var lt=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function ro(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Xl=class extends Jl{constructor(t,n){super(t),this.snapshot=n,$p(this,t)}toString(){return this.snapshot.toString()}};function rC(e){let t=RP(e),n=new Re([new $r("",{})]),r=new Re({}),i=new Re({}),o=new Re({}),s=new Re(""),a=new Gr(n,r,o,s,i,V,e,t.root);return a.snapshot=t.root,new Xl(new lt(a,[]),t)}function RP(e){let t={},n={},r={},i="",o=new oo([],t,r,i,n,V,e,null,{});return new tu("",new lt(o,[]))}var Gr=class{constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(L(l=>l[Qs]))??O(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(t=>ao(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(t=>ao(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function eu(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:C(C({},t.params),e.params),data:C(C({},t.data),e.data),resolve:C(C(C(C({},e.data),t.data),i?.data),e._resolvedData)}:r={params:C({},e.params),data:C({},e.data),resolve:C(C({},e.data),e._resolvedData??{})},i&&oC(i)&&(r.resolve[Qs]=i.title),r}var oo=class{get title(){return this.data?.[Qs]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ao(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ao(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},tu=class extends Jl{constructor(t,n){super(n),this.url=t,$p(this,n)}toString(){return iC(this._root)}};function $p(e,t){t.value._routerState=e,t.children.forEach(n=>$p(e,n))}function iC(e){let t=e.children.length>0?` { ${e.children.map(iC).join(", ")} } `:"";return`${e.value}${t}`}function hp(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Jt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Jt(t.params,n.params)||e.paramsSubject.next(n.params),iP(t.url,n.url)||e.urlSubject.next(n.url),Jt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Op(e,t){let n=Jt(e.params,t.params)&&cP(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Op(e.parent,t.parent))}function oC(e){return typeof e.title=="string"||e.title===null}var Hp=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new Ee,this.deactivateEvents=new Ee,this.attachEvents=new Ee,this.detachEvents=new Ee,this.parentContexts=E(iu),this.location=E(Al),this.changeDetector=E(Xi),this.inputBinder=E(Wp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Pp(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Ie({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vn]})}}return e})(),Pp=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Gr?this.route:t===iu?this.childContexts:this.parent.get(t,n)}},Wp=new D("");function xP(e,t,n){let r=qs(e,t._root,n?n._root:void 0);return new Xl(r,t)}function qs(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=OP(e,t,n);return new lt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>qs(e,a)),s}}let r=PP(t.value),i=t.children.map(o=>qs(e,o));return new lt(r,i)}}function OP(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return qs(e,r,i);return qs(e,r)})}function PP(e){return new Gr(new Re(e.url),new Re(e.params),new Re(e.queryParams),new Re(e.fragment),new Re(e.data),e.outlet,e.component,e)}var Ys=class{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},sC="ngNavigationCancelingError";function nu(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Wr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=aC(!1,ut.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function aC(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[sC]=!0,n.cancellationCode=t,n}function kP(e){return cC(e)&&Wr(e.url)}function cC(e){return!!e&&e[sC]}var FP=(e,t,n,r)=>L(i=>(new kp(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),kp=class{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),hp(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=ro(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=ro(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=ro(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=ro(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Mp(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Tp(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(hp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hp(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},ru=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},so=class{constructor(t,n){this.component=t,this.route=n}};function LP(e,t,n){let r=e._root,i=t?t._root:null;return Ls(r,i,n,[r.value])}function VP(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function uo(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!f_(e)?e:t.get(e):r}function Ls(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ro(t);return e.children.forEach(s=>{UP(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Bs(a,n.getContext(s),i)),i}function UP(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=jP(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ru(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ls(e,t,a?a.children:null,r,i):Ls(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new so(a.outlet.component,s))}else s&&Bs(t,a,i),i.canActivateChecks.push(new ru(r)),o.component?Ls(e,null,a?a.children:null,r,i):Ls(e,null,n,r,i);return i}function jP(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Hr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Hr(e.url,t.url)||!Jt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Op(e,t)||!Jt(e.queryParams,t.queryParams);case"paramsChange":default:return!Op(e,t)}}function Bs(e,t,n){let r=ro(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Bs(s,t.children.getContext(o),n):Bs(s,null,n):Bs(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new so(t.outlet.component,i)):n.canDeactivateChecks.push(new so(null,i)):n.canDeactivateChecks.push(new so(null,i))}function Xs(e){return typeof e=="function"}function BP(e){return typeof e=="boolean"}function $P(e){return e&&Xs(e.canLoad)}function HP(e){return e&&Xs(e.canActivate)}function WP(e){return e&&Xs(e.canActivateChild)}function zP(e){return e&&Xs(e.canDeactivate)}function GP(e){return e&&Xs(e.canMatch)}function lC(e){return e instanceof un||e?.name==="EmptyError"}var zl=Symbol("INITIAL_VALUE");function lo(){return et(e=>yc(e.map(t=>t.pipe(dn(1),Zd(zl)))).pipe(L(t=>{for(let n of t)if(n!==!0){if(n===zl)return zl;if(n===!1||qP(n))return n}return!0}),Xe(t=>t!==zl),dn(1)))}function qP(e){return Wr(e)||e instanceof Ys}function YP(e,t){return be(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?O(W(C({},n),{guardsResult:!0})):KP(s,r,i,e).pipe(be(a=>a&&BP(a)?ZP(r,o,e,t):O(a)),L(a=>W(C({},n),{guardsResult:a})))})}function KP(e,t,n,r){return fe(e).pipe(be(i=>tk(i.component,i.route,n,t,r)),bt(i=>i!==!0,!0))}function ZP(e,t,n,r){return fe(t).pipe($n(i=>Ti(JP(i.route.parent,r),QP(i.route,r),ek(e,i.path,n),XP(e,i.route,n))),bt(i=>i!==!0,!0))}function QP(e,t){return e!==null&&t&&t(new Ap(e)),O(!0)}function JP(e,t){return e!==null&&t&&t(new Sp(e)),O(!0)}function XP(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(o=>_c(()=>{let s=Js(t)??n,a=uo(o,s),c=HP(a)?a.canActivate(t,e):xt(s,()=>a(t,e));return sr(c).pipe(bt())}));return O(i).pipe(lo())}function ek(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>VP(s)).filter(s=>s!==null).map(s=>_c(()=>{let a=s.guards.map(c=>{let l=Js(s.node)??n,u=uo(c,l),d=WP(u)?u.canActivateChild(r,e):xt(l,()=>u(r,e));return sr(d).pipe(bt())});return O(a).pipe(lo())}));return O(o).pipe(lo())}function tk(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return O(!0);let s=o.map(a=>{let c=Js(t)??i,l=uo(a,c),u=zP(l)?l.canDeactivate(e,t,n,r):xt(c,()=>l(e,t,n,r));return sr(u).pipe(bt())});return O(s).pipe(lo())}function nk(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return O(!0);let o=i.map(s=>{let a=uo(s,e),c=$P(a)?a.canLoad(t,n):xt(e,()=>a(t,n));return sr(c)});return O(o).pipe(lo(),uC(r))}function uC(e){return Fd(ve(t=>{if(typeof t!="boolean")throw nu(e,t)}),L(t=>t===!0))}function rk(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return O(!0);let o=i.map(s=>{let a=uo(s,e),c=GP(a)?a.canMatch(t,n):xt(e,()=>a(t,n));return sr(c)});return O(o).pipe(lo(),uC(r))}var Ks=class{constructor(t){this.segmentGroup=t||null}},Zs=class extends Error{constructor(t){super(),this.urlTree=t}};function no(e){return Si(new Ks(e))}function ik(e){return Si(new A(4e3,!1))}function ok(e){return Si(aC(!1,ut.GuardRejected))}var Fp=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[V])return ik(`${t.redirectTo}`);i=i.children[V]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:p,params:g,data:y,title:w}=i,I=xt(o,()=>a({params:g,data:y,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:p,title:w}));if(I instanceof bn)throw new Zs(I);n=I}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new Zs(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new bn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new ee(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},Lp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sk(e,t,n,r,i){let o=dC(e,t,n);return o.matched?(r=MP(t,r),rk(r,t,n,i).pipe(L(s=>s===!0?o:C({},Lp)))):O(o)}function dC(e,t,n){if(t.path==="**")return ak(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?C({},Lp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||rP)(n,e,t);if(!i)return C({},Lp);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?C(C({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function ak(e){return{matched:!0,parameters:e.length>0?WI(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function jI(e,t,n,r){return n.length>0&&uk(e,n,r)?{segmentGroup:new ee(t,lk(r,new ee(n,e.children))),slicedSegments:[]}:n.length===0&&dk(e,n,r)?{segmentGroup:new ee(e.segments,ck(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ee(e.segments,e.children),slicedSegments:n}}function ck(e,t,n,r){let i={};for(let o of n)if(ou(e,t,o)&&!r[Pt(o)]){let s=new ee([],{});i[Pt(o)]=s}return C(C({},r),i)}function lk(e,t){let n={};n[V]=t;for(let r of e)if(r.path===""&&Pt(r)!==V){let i=new ee([],{});n[Pt(r)]=i}return n}function uk(e,t,n){return n.some(r=>ou(e,t,r)&&Pt(r)!==V)}function dk(e,t,n){return n.some(r=>ou(e,t,r))}function ou(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function hk(e,t,n){return t.length===0&&!e.children[n]}var Vp=class{};function fk(e,t,n,r,i,o,s="emptyOnly"){return new Up(e,t,n,r,i,s,o).recognize()}var pk=31,Up=class{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Fp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new A(4002,`'${t.segmentGroup}'`)}recognize(){let t=jI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(L(({children:n,rootSnapshot:r})=>{let i=new lt(r,n),o=new tu("",i),s=IP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new oo([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),V,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,V,n).pipe(L(r=>({children:r,rootSnapshot:n})),Bn(r=>{if(r instanceof Zs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ks?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(L(s=>s instanceof lt?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return fe(o).pipe($n(s=>{let a=r.children[s],c=NP(n,s);return this.processSegmentGroup(t,c,a,s,i)}),Kd((s,a)=>(s.push(...a),s)),Hn(null),Yd(),be(s=>{if(s===null)return no(r);let a=hC(s);return mk(a),O(a)}))}processSegment(t,n,r,i,o,s,a){return fe(n).pipe($n(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a).pipe(Bn(l=>{if(l instanceof Ks)return O(null);throw l}))),bt(c=>!!c),Bn(c=>{if(lC(c))return hk(r,i,o)?O(new Vp):no(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return Pt(r)!==s&&(s===V||!ou(i,o,r))?no(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c):no(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=dC(n,i,o);if(!c)return no(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>pk&&(this.allowRedirects=!1));let g=new oo(o,l,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,BI(i),Pt(i),i.component??i._loadedComponent??null,i,$I(i)),y=eu(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let w=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,t);return this.applyRedirects.lineralizeSegments(i,w).pipe(be(I=>this.processSegment(t,r,n,I.concat(p),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=sk(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(et(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(et(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:p,remainingSegments:g}=c,y=new oo(p,d,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,BI(r),Pt(r),r.component??r._loadedComponent??null,r,$I(r)),w=eu(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(w.params),y.data=Object.freeze(w.data);let{segmentGroup:I,slicedSegments:S}=jI(n,p,g,l);if(S.length===0&&I.hasChildren())return this.processChildren(u,l,I,y).pipe(L(N=>new lt(y,N)));if(l.length===0&&S.length===0)return O(new lt(y,[]));let B=Pt(r)===o;return this.processSegment(u,l,I,S,B?V:o,!0,y).pipe(L(N=>new lt(y,N instanceof lt?[N]:[])))}))):no(n)))}getChildConfig(t,n,r){return n.children?O({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):nk(t,n,r,this.urlSerializer).pipe(be(i=>i?this.configLoader.loadChildren(t,n).pipe(ve(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):ok(n))):O({routes:[],injector:t})}};function mk(e){e.sort((t,n)=>t.value.outlet===V?-1:n.value.outlet===V?1:t.value.outlet.localeCompare(n.value.outlet))}function gk(e){let t=e.value.routeConfig;return t&&t.path===""}function hC(e){let t=[],n=new Set;for(let r of e){if(!gk(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=hC(r.children);t.push(new lt(r.value,i))}return t.filter(r=>!n.has(r))}function BI(e){return e.data||{}}function $I(e){return e.resolve||{}}function vk(e,t,n,r,i,o){return be(s=>fk(e,t,n,r,s.extractedUrl,i,o).pipe(L(({state:a,tree:c})=>W(C({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function yk(e,t){return be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of fC(c))s.add(l);let a=0;return fe(s).pipe($n(c=>o.has(c)?_k(c,r,e,t):(c.data=eu(c,c.parent,e).resolve,O(void 0))),ve(()=>a++),Ai(1),be(c=>a===s.size?O(n):Je))})}function fC(e){let t=e.children.map(n=>fC(n)).flat();return[e,...t]}function _k(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!oC(i)&&(o[Qs]=i.title),Ek(o,e,t,r).pipe(L(s=>(e._resolvedData=s,e.data=eu(e,e.parent,n).resolve,null)))}function Ek(e,t,n,r){let i=mp(e);if(i.length===0)return O({});let o={};return fe(i).pipe(be(s=>wk(e[s],t,n,r).pipe(bt(),ve(a=>{if(a instanceof Ys)throw nu(new $s,a);o[s]=a}))),Ai(1),qd(o),Bn(s=>lC(s)?Je:Si(s)))}function wk(e,t,n,r){let i=Js(t)??r,o=uo(e,i),s=o.resolve?o.resolve(t,n):xt(i,()=>o(t,n));return sr(s)}function fp(e){return et(t=>{let n=e(t);return n?fe(n).pipe(L(()=>t)):O(t)})}var pC=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===V);return r}getResolvedTitleForRoute(n){return n.data[Qs]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:()=>E(Ik),providedIn:"root"})}}return e})(),Ik=(()=>{class e extends pC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(M(PI))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),zp=new D("",{providedIn:"root",factory:()=>({})}),Ck=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=re({type:e,selectors:[["ng-component"]],standalone:!0,features:[ie],decls:1,vars:0,template:function(r,i){r&1&&_(0,"router-outlet")},dependencies:[Hp],encapsulation:2})}}return e})();function Gp(e){let t=e.children&&e.children.map(Gp),n=t?W(C({},e),{children:t}):C({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=Ck),n}var qp=new D(""),bk=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(qf)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return O(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=sr(n.loadComponent()).pipe(L(mC),ve(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Tr(()=>{this.componentLoaders.delete(n)})),i=new Ii(r,()=>new Se).pipe(wi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return O({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Dk(r,this.compiler,n,this.onLoadEndListener).pipe(Tr(()=>{this.childrenLoaders.delete(r)})),s=new Ii(o,()=>new Se).pipe(wi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Dk(e,t,n,r){return sr(e.loadChildren()).pipe(L(mC),be(i=>i instanceof hs||Array.isArray(i)?O(i):fe(t.compileModuleAsync(i))),L(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(qp,[],{optional:!0,self:!0}).flat()),{routes:s.map(Gp),injector:o}}))}function Sk(e){return e&&typeof e=="object"&&"default"in e}function mC(e){return Sk(e)?e.default:e}var Yp=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:()=>E(Tk),providedIn:"root"})}}return e})(),Tk=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ak=new D("");var Mk=new D(""),Nk=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Se,this.transitionAbortSubject=new Se,this.configLoader=E(bk),this.environmentInjector=E(Ge),this.urlSerializer=E(Bp),this.rootContexts=E(iu),this.location=E(Ss),this.inputBindingEnabled=E(Wp,{optional:!0})!==null,this.titleStrategy=E(pC),this.options=E(zp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(Yp),this.createViewTransition=E(Ak,{optional:!0}),this.navigationErrorHandler=E(Mk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null;let n=i=>this.events.next(new bp(i)),r=i=>this.events.next(new Dp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(W(C(C({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Re({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:js,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xe(o=>o.id!==0),L(o=>W(C({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),et(o=>{let s=!1,a=!1;return O(o).pipe(et(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ut.SupersededByNewNavigation),Je;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?W(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new zr(c.id,this.urlSerializer.serialize(c.rawUrl),d,_p.IgnoredSameUrlNavigation)),c.resolve(!1),Je}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return O(c).pipe(et(d=>{let p=this.transitions?.getValue();return this.events.next(new Ws(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),p!==this.transitions?.getValue()?Je:Promise.resolve(d)}),vk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ve(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=W(C({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let p=new Ql(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:p,source:g,restoredState:y,extras:w}=c,I=new Ws(d,this.urlSerializer.serialize(p),g,y);this.events.next(I);let S=rC(this.rootComponentType).snapshot;return this.currentTransition=o=W(C({},c),{targetSnapshot:S,urlAfterRedirects:p,extras:W(C({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,O(o)}else{let d="";return this.events.next(new zr(c.id,this.urlSerializer.serialize(c.extractedUrl),d,_p.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Je}}),ve(c=>{let l=new Ep(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),L(c=>(this.currentTransition=o=W(C({},c),{guards:LP(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),YP(this.environmentInjector,c=>this.events.next(c)),ve(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw nu(this.urlSerializer,c.guardsResult);let l=new wp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Xe(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",ut.GuardRejected),!1)),fp(c=>{if(c.guards.canActivateChecks.length)return O(c).pipe(ve(l=>{let u=new Ip(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),et(l=>{let u=!1;return O(l).pipe(yk(this.paramsInheritanceStrategy,this.environmentInjector),ve({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",ut.NoDataFromResolver)}}))}),ve(l=>{let u=new Cp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),fp(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ve(p=>{u.component=p}),L(()=>{})));for(let p of u.children)d.push(...l(p));return d};return yc(l(c.targetSnapshot.root)).pipe(Hn(null),dn(1))}),fp(()=>this.afterPreactivation()),et(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?fe(u).pipe(L(()=>o)):O(o)}),L(c=>{let l=xP(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=W(C({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ve(()=>{this.events.next(new Gs)}),FP(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),dn(1),ve({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new or(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Qd(this.transitionAbortSubject.pipe(ve(c=>{throw c}))),Tr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ut.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bn(c=>{if(a=!0,cC(c))this.events.next(new Cn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),kP(c)?this.events.next(new co(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new zs(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=xt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Ys){let{message:d,cancellationCode:p}=nu(this.urlSerializer,u);this.events.next(new Cn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,p)),this.events.next(new co(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=n.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Je}))}))}cancelNavigationTransition(n,r,i){let o=new Cn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Rk(e){return e!==js}var xk=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:()=>E(Ok),providedIn:"root"})}}return e})(),jp=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},Ok=(()=>{class e extends jp{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=yn(e)))(i||e)}})()}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gC=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:()=>E(Pk),providedIn:"root"})}}return e})(),Pk=(()=>{class e extends gC{constructor(){super(...arguments),this.location=E(Ss),this.urlSerializer=E(Bp),this.options=E(zp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(Yp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new bn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=rC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ws)this.stateMemento=this.createStateMemento();else if(n instanceof zr)this.rawUrlTree=r.initialUrl;else if(n instanceof Ql){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Gs?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Cn&&(n.code===ut.GuardRejected||n.code===ut.NoDataFromResolver)?this.restoreHistory(r):n instanceof zs?this.restoreHistory(r,!0):n instanceof or&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof bn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=C(C({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=C(C({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=yn(e)))(i||e)}})()}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Vs=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Vs||{});function kk(e,t){e.events.pipe(Xe(n=>n instanceof or||n instanceof Cn||n instanceof zs||n instanceof zr),L(n=>n instanceof or||n instanceof zr?Vs.COMPLETE:(n instanceof Cn?n.code===ut.Redirect||n.code===ut.SupersededByNewNavigation:!1)?Vs.REDIRECTING:Vs.FAILED),Xe(n=>n!==Vs.REDIRECTING),dn(1)).subscribe(()=>{t()})}function Fk(e){throw e}var Lk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=E(Pl),this.stateManager=E(gC),this.options=E(zp,{optional:!0})||{},this.pendingTasks=E(er),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(Nk),this.urlSerializer=E(Bp),this.location=E(Ss),this.urlHandlingStrategy=E(Yp),this._events=new Se,this.errorHandler=this.options.errorHandler||Fk,this.navigated=!1,this.routeReuseStrategy=E(xk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(qp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(Wp,{optional:!0}),this.eventsSubscription=new me,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Cn&&r.code!==ut.Redirect&&r.code!==ut.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof or)this.navigated=!0;else if(r instanceof co){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=C({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Rk(i.source)},s);this.scheduleNavigation(a,js,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}jk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),js,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=C({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Gp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=C(C({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=XI(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return eC(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Wr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,js,null,r)}navigate(n,r={skipLocationChange:!1}){return Uk(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=C({},Lk):r===!1?i=C({},Vk):i=r,Wr(n))return FI(this.currentUrlTree,n,i);let o=this.parseUrl(n);return FI(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,p)=>{a=d,c=p});let u=this.pendingTasks.add();return kk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Uk(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new A(4008,!1)}function jk(e){return!(e instanceof Gs)&&!(e instanceof co)}var su=(()=>{class e{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Se,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof or&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Wr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:jE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Wr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(R(Dn),R(Gr),If("tabindex"),R(_n),R(qt),R(to))}}static{this.\u0275dir=Ie({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&X("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&bs("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ur],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ur],replaceUrl:[2,"replaceUrl","replaceUrl",Ur],routerLink:"routerLink"},standalone:!0,features:[Wf,vn]})}}return e})();var Bk=new D("");function vC(e,...t){return Fe([{provide:qp,multi:!0,useValue:e},[],{provide:Gr,useFactory:$k,deps:[Dn]},{provide:Ji,multi:!0,useFactory:Hk},t.map(n=>n.\u0275providers)])}function $k(e){return e.routerState.root}function Hk(){let e=E(Te);return t=>{let n=e.get(Zt);if(t!==n.components[0])return;let r=e.get(Dn),i=e.get(Wk);e.get(zk)===1&&r.initialNavigation(),e.get(Gk,null,$.Optional)?.setUpPreloading(),e.get(Bk,null,$.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Wk=new D("",{factory:()=>new Se}),zk=new D("",{providedIn:"root",factory:()=>1});var Gk=new D("");var Zp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var b=function(e,t){if(!e)throw Yr(t)},Yr=function(e){return new Error("Firebase Database ("+Zp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var EC=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},qk=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},cu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,p=(a&15)<<2|l>>6,g=l&63;c||(g=64,s||(p=64)),r.push(n[u],n[d],n[p],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(EC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):qk(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let l=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Qp;let p=o<<2|a>>4;if(r.push(p),l!==64){let g=a<<4&240|l>>2;if(r.push(g),d!==64){let y=l<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Qp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Xp=function(e){let t=EC(e);return cu.encodeByteArray(t,!0)},ea=function(e){return Xp(e).replace(/\./g,"")},ta=function(e){try{return cu.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function wC(e){return IC(void 0,e)}function IC(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!Yk(n)||(e[n]=IC(e[n],t[n]));return e}function Yk(e){return e!=="__proto__"}function Kk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Zk=()=>Kk().__FIREBASE_DEFAULTS__,Qk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Jk=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&ta(e[1]);return t&&JSON.parse(t)},em=()=>{try{return Zk()||Qk()||Jk()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},tm=e=>{var t,n;return(n=(t=em())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},lu=e=>{let t=tm(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},nm=()=>{var e;return(e=em())===null||e===void 0?void 0:e.config},rm=e=>{var t;return(t=em())===null||t===void 0?void 0:t[`_${e}`]};var qr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function uu(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ea(JSON.stringify(n)),ea(JSON.stringify(s)),""].join(".")}function Le(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function na(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function CC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bC(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function du(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DC(){let e=Le();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Xt(){return Zp.NODE_CLIENT===!0||Zp.NODE_ADMIN===!0}function SC(){try{return typeof indexedDB=="object"}catch{return!1}}function TC(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}var Xk="FirebaseError",dt=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Xk,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sn.prototype.create)}},Sn=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?e1(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new dt(i,a,r)}};function e1(e,t){return e.replace(t1,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var t1=/\{\$([^}]+)}/g;function ho(e){return JSON.parse(e)}function Me(e){return JSON.stringify(e)}var AC=function(e){let t={},n={},r={},i="";try{let o=e.split(".");t=ho(ta(o[0])||""),n=ho(ta(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var MC=function(e){let t=AC(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},NC=function(e){let t=AC(e).claims;return typeof t=="object"&&t.admin===!0};function en(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Kr(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function ra(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ia(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function fo(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(_C(o)&&_C(s)){if(!fo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function _C(e){return e!==null&&typeof e=="object"}function Zr(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function po(e){let t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function mo(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var au=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let p=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(p<<1|p>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let p=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=p}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}};function RC(e,t){let n=new Jp(e,t);return n.subscribe.bind(n)}var Jp=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");n1(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Kp),i.error===void 0&&(i.error=Kp),i.complete===void 0&&(i.complete=Kp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function n1(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Kp(){}function xC(e,t){return`${e} failed: ${t} argument `}var OC=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,b(r<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},oa=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var LG=4*60*60*1e3;function Ye(e){return e&&e._delegate?e._delegate:e}var Ke=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Qr="[DEFAULT]";var hu=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new qr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(i1(t))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return v(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Qr){return this.instances.has(t)}getOptions(t=Qr){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:r1(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Qr){return this.component?this.component.multipleInstances?t:Qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function r1(e){return e===Qr?void 0:e}function i1(e){return e.instantiationMode==="EAGER"}var sa=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new hu(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var o1=[],ne=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(ne||{}),s1={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},a1=ne.INFO,c1={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},l1=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=c1[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},ar=class{constructor(t){this.name=t,this._logLevel=a1,this._logHandler=l1,this._userLogHandler=null,o1.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?s1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}};var u1=(e,t)=>t.some(n=>e instanceof n),PC,kC;function d1(){return PC||(PC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h1(){return kC||(kC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var FC=new WeakMap,om=new WeakMap,LC=new WeakMap,im=new WeakMap,am=new WeakMap;function f1(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(tn(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&FC.set(n,e)}).catch(()=>{}),am.set(t,e),t}function p1(e){if(om.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});om.set(e,t)}var sm={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return om.get(e);if(t==="objectStoreNames")return e.objectStoreNames||LC.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function VC(e){sm=e(sm)}function m1(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(fu(this),t,...n);return LC.set(r,t.sort?t.sort():[t]),tn(r)}:h1().includes(e)?function(...t){return e.apply(fu(this),t),tn(FC.get(this))}:function(...t){return tn(e.apply(fu(this),t))}}function g1(e){return typeof e=="function"?m1(e):(e instanceof IDBTransaction&&p1(e),u1(e,d1())?new Proxy(e,sm):e)}function tn(e){if(e instanceof IDBRequest)return f1(e);if(im.has(e))return im.get(e);let t=g1(e);return t!==e&&(im.set(e,t),am.set(t,e)),t}var fu=e=>am.get(e);function jC(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=tn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(tn(s.result),c.oldVersion,c.newVersion,tn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var v1=["get","getKey","getAll","getAllKeys","count"],y1=["put","add","delete","clear"],cm=new Map;function UC(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(cm.get(t))return cm.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=y1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||v1.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return cm.set(t,o),o}VC(e=>W(C({},e),{get:(t,n,r)=>UC(t,n)||e.get(t,n,r),has:(t,n)=>!!UC(t,n)||e.has(t,n)}));var um=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function _1(e){let t=e.getComponent();return t?.type==="VERSION"}var dm="@firebase/app",BC="0.10.13";var Tn=new ar("@firebase/app"),E1="@firebase/app-compat",w1="@firebase/analytics-compat",I1="@firebase/analytics",C1="@firebase/app-check-compat",b1="@firebase/app-check",D1="@firebase/auth",S1="@firebase/auth-compat",T1="@firebase/database",A1="@firebase/data-connect",M1="@firebase/database-compat",N1="@firebase/functions",R1="@firebase/functions-compat",x1="@firebase/installations",O1="@firebase/installations-compat",P1="@firebase/messaging",k1="@firebase/messaging-compat",F1="@firebase/performance",L1="@firebase/performance-compat",V1="@firebase/remote-config",U1="@firebase/remote-config-compat",j1="@firebase/storage",B1="@firebase/storage-compat",$1="@firebase/firestore",H1="@firebase/vertexai-preview",W1="@firebase/firestore-compat",z1="firebase",G1="10.14.1";var hm="[DEFAULT]",q1={[dm]:"fire-core",[E1]:"fire-core-compat",[I1]:"fire-analytics",[w1]:"fire-analytics-compat",[b1]:"fire-app-check",[C1]:"fire-app-check-compat",[D1]:"fire-auth",[S1]:"fire-auth-compat",[T1]:"fire-rtdb",[A1]:"fire-data-connect",[M1]:"fire-rtdb-compat",[N1]:"fire-fn",[R1]:"fire-fn-compat",[x1]:"fire-iid",[O1]:"fire-iid-compat",[P1]:"fire-fcm",[k1]:"fire-fcm-compat",[F1]:"fire-perf",[L1]:"fire-perf-compat",[V1]:"fire-rc",[U1]:"fire-rc-compat",[j1]:"fire-gcs",[B1]:"fire-gcs-compat",[$1]:"fire-fst",[W1]:"fire-fst-compat",[H1]:"fire-vertex","fire-js":"fire-js",[z1]:"fire-js-all"};var aa=new Map,Y1=new Map,fm=new Map;function $C(e,t){try{e.container.addComponent(t)}catch(n){Tn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function nn(e){let t=e.name;if(fm.has(t))return Tn.debug(`There were multiple attempts to register component ${t}.`),!1;fm.set(t,e);for(let n of aa.values())$C(n,e);for(let n of Y1.values())$C(n,e);return!0}function Jr(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function kt(e){return e.settings!==void 0}var K1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new Sn("app","Firebase",K1);var pm=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ke("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}};var rn=G1;function vm(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=Object.assign({name:hm,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw cr.create("bad-app-name",{appName:String(i)});if(n||(n=nm()),!n)throw cr.create("no-options");let o=aa.get(i);if(o){if(fo(n,o.options)&&fo(r,o.config))return o;throw cr.create("duplicate-app",{appName:i})}let s=new sa(i);for(let c of fm.values())s.addComponent(c);let a=new pm(n,r,s);return aa.set(i,a),a}function lr(e=hm){let t=aa.get(e);if(!t&&e===hm&&nm())return vm();if(!t)throw cr.create("no-app",{appName:e});return t}function pu(){return Array.from(aa.values())}function he(e,t,n){var r;let i=(r=q1[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Tn.warn(a.join(" "));return}nn(new Ke(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var Z1="firebase-heartbeat-database",Q1=1,ca="firebase-heartbeat-store",lm=null;function GC(){return lm||(lm=jC(Z1,Q1,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ca)}catch(n){console.warn(n)}}}}).catch(e=>{throw cr.create("idb-open",{originalErrorMessage:e.message})})),lm}function J1(e){return v(this,null,function*(){try{let n=(yield GC()).transaction(ca),r=yield n.objectStore(ca).get(qC(e));return yield n.done,r}catch(t){if(t instanceof dt)Tn.warn(t.message);else{let n=cr.create("idb-get",{originalErrorMessage:t?.message});Tn.warn(n.message)}}})}function HC(e,t){return v(this,null,function*(){try{let r=(yield GC()).transaction(ca,"readwrite");yield r.objectStore(ca).put(t,qC(e)),yield r.done}catch(n){if(n instanceof dt)Tn.warn(n.message);else{let r=cr.create("idb-set",{originalErrorMessage:n?.message});Tn.warn(r.message)}}})}function qC(e){return`${e.name}!${e.options.appId}`}var X1=1024,eF=30*24*60*60*1e3,mm=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new gm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var t,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=WC();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=eF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Tn.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=WC(),{heartbeatsToSend:r,unsentEntries:i}=tF(this._heartbeatsCache.heartbeats),o=ea(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Tn.warn(n),""}})}};function WC(){return new Date().toISOString().substring(0,10)}function tF(e,t=X1){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),zC(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zC(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var gm=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return SC()?TC().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield J1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return HC(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return HC(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function zC(e){return ea(JSON.stringify({version:2,heartbeats:e})).length}function nF(e){nn(new Ke("platform-logger",t=>new um(t),"PRIVATE")),nn(new Ke("heartbeat",t=>new mm(t),"PRIVATE")),he(dm,BC,e),he(dm,BC,"esm2017"),he("fire-js","")}nF("");var rF="firebase",iF="10.14.1";he(rF,iF,"app");var An=new gn("ANGULARFIRE2_VERSION");function vo(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var ei=(e,t)=>{let n=t?[t]:pu(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ur=class{constructor(){return ei(oF)}},oF="app-check";function go(){}var mu=class{zone;delegate;constructor(t,n=$d){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},ym=class{zone;task=null;constructor(t){this.zone=t}call(t,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",go,{},go,go)),n.pipe(ve({next:r,complete:r,error:r})).subscribe(t).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},dr=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new mu(Zone.current)),this.insideAngular=n.run(()=>new mu(Zone.current,Bd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||e)(M(J))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gu(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function sF(e){return gu().ngZone.runOutsideAngular(()=>e())}function Xr(e){return gu().ngZone.run(()=>e())}function aF(e){return cF(gu())(e)}function cF(e){return function(n){return n=n.lift(new ym(e.ngZone)),n.pipe(jn(e.outsideAngular),Un(e.insideAngular))}}var lF=(e,t)=>function(){let r=arguments;return t&&setTimeout(()=>{t.state==="scheduled"&&t.invoke()},10),Xr(()=>e.apply(void 0,r))},Ft=(e,t)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(t&&(n||=Xr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",go,{},go,go))),r[o]=lF(r[o],n));let i=sF(()=>e.apply(this,r));if(!t)if(i instanceof G){let o=gu();return i.pipe(jn(o.outsideAngular),Un(o.insideAngular))}else return Xr(()=>i);return i instanceof G?i.pipe(aF):i instanceof Promise?Xr(()=>new Promise((o,s)=>i.then(a=>Xr(()=>o(a)),a=>Xr(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Xr(()=>i)};var Lt=class{constructor(t){return t}},Mn=class{constructor(){return pu()}};function uF(e){return e&&e.length===1?e[0]:new Lt(lr())}var _m=new D("angularfire2._apps"),dF={provide:Lt,useFactory:uF,deps:[[new De,_m]]},hF={provide:Mn,deps:[[new De,_m]]};function fF(e){return(t,n)=>{let r=n.get(at);he("angularfire",An.full,"core"),he("angularfire",An.full,"app"),he("angular",Vw.full,r.toString());let i=t.runOutsideAngular(()=>e(n));return new Lt(i)}}function YC(e,...t){return Fe([dF,hF,{provide:_m,useFactory:fF(e),multi:!0,deps:[J,Te,dr,...t]}])}var KC=Ft(vm,!0);function h0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var f0=h0,p0=new Sn("auth","Firebase",h0());var Iu=new ar("@firebase/auth");function pF(e,...t){Iu.logLevel<=ne.WARN&&Iu.warn(`Auth (${rn}): ${e}`,...t)}function yu(e,...t){Iu.logLevel<=ne.ERROR&&Iu.error(`Auth (${rn}): ${e}`,...t)}function sn(e,...t){throw $m(e,...t)}function ti(e,...t){return $m(e,...t)}function m0(e,t,n){let r=Object.assign(Object.assign({},f0()),{[t]:n});return new Sn("auth","Firebase",r).create(t,{appName:e.name})}function xn(e){return m0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $m(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return p0.create(e,...t)}function x(e,t,...n){if(!e)throw $m(t,...n)}function Nn(e){let t="INTERNAL ASSERTION FAILED: "+e;throw yu(t),new Error(t)}function fr(e,t){e||Nn(t)}function Cm(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function mF(){return ZC()==="http:"||ZC()==="https:"}function ZC(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function gF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mF()||bC()||"connection"in navigator)?navigator.onLine:!0}function vF(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var ni=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,fr(n>t,"Short delay should be less than long delay!"),this.isMobile=na()||du()}get(){return gF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Hm(e,t){fr(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var Cu=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var yF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var _F=new ni(3e4,6e4);function pr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function mr(o,s,a,c){return v(this,arguments,function*(e,t,n,r,i={}){return g0(e,i,()=>v(this,null,function*(){let l={},u={};r&&(t==="GET"?u=r:l={body:JSON.stringify(r)});let d=Zr(Object.assign({key:e.config.apiKey},u)).slice(1),p=yield e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);let g=Object.assign({method:t,headers:p},l);return CC()||(g.referrerPolicy="no-referrer"),Cu.fetch()(v0(e,e.config.apiHost,n,d),g)}))})}function g0(e,t,n){return v(this,null,function*(){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},yF),t);try{let i=new bm(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw vu(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vu(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw vu(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw vu(e,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw m0(e,u,l);sn(e,u)}}catch(i){if(i instanceof dt)throw i;sn(e,"network-request-failed",{message:String(i)})}})}function ga(o,s,a,c){return v(this,arguments,function*(e,t,n,r,i={}){let l=yield mr(e,t,n,r,i);return"mfaPendingCredential"in l&&sn(e,"multi-factor-auth-required",{_serverResponse:l}),l})}function v0(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?Hm(e.config,i):`${e.config.apiScheme}://${i}`}function EF(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var bm=class{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),_F.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function vu(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ti(e,t,r);return i.customData._tokenResponse=n,i}function QC(e){return e!==void 0&&e.enterprise!==void 0}var Dm=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return EF(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}};function wF(e,t){return v(this,null,function*(){return mr(e,"GET","/v2/recaptchaConfig",pr(e,t))})}function IF(e,t){return v(this,null,function*(){return mr(e,"POST","/v1/accounts:delete",t)})}function y0(e,t){return v(this,null,function*(){return mr(e,"POST","/v1/accounts:lookup",t)})}function la(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Wm(e,t=!1){return v(this,null,function*(){let n=Ye(e),r=yield n.getIdToken(t),i=zm(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:la(Em(i.auth_time)),issuedAtTime:la(Em(i.iat)),expirationTime:la(Em(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Em(e){return Number(e)*1e3}function zm(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return yu("JWT malformed, contained fewer than 3 sections"),null;try{let i=ta(n);return i?JSON.parse(i):(yu("Failed to decode base64 JWT payload"),null)}catch(i){return yu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function JC(e){let t=zm(e);return x(t,"internal-error"),x(typeof t.exp<"u","internal-error"),x(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function da(e,t,n=!1){return v(this,null,function*(){if(n)return t;try{return yield t}catch(r){throw r instanceof dt&&CF(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})}function CF({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var Sm=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ha=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=la(this.lastLoginAt),this.creationTime=la(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function bu(e){return v(this,null,function*(){var t;let n=e.auth,r=yield e.getIdToken(),i=yield da(e,y0(n,{idToken:r}));x(i?.users.length,n,"internal-error");let o=i.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?_0(o.providerUserInfo):[],a=bF(e.providerData,s),c=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ha(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)})}function Gm(e){return v(this,null,function*(){let t=Ye(e);yield bu(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function bF(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function _0(e){return e.map(t=>{var{providerId:n}=t,r=Hd(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function DF(e,t){return v(this,null,function*(){let n=yield g0(e,{},()=>v(this,null,function*(){let r=Zr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=v0(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Cu.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function SF(e,t){return v(this,null,function*(){return mr(e,"POST","/v2/accounts:revokeToken",pr(e,t))})}var ua=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){x(t.idToken,"internal-error"),x(typeof t.idToken<"u","internal-error"),x(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):JC(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){x(t.length!==0,"internal-error");let n=JC(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(x(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield DF(t,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new e;return r&&(x(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(x(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(x(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return Nn("not implemented")}};function hr(e,t){x(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var yo=class e{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=Hd(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ha(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return v(this,null,function*(){let n=yield da(this,this.stsTokenManager.getToken(this.auth,t));return x(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return Wm(this,t)}reload(){return Gm(this)}_assign(t){this!==t&&(x(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return v(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&(yield bu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(kt(this.auth.app))return Promise.reject(xn(this.auth));let t=yield this.getIdToken();return yield da(this,IF(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,S=(l=n.createdAt)!==null&&l!==void 0?l:void 0,B=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:N,emailVerified:H,isAnonymous:ue,providerData:se,stsTokenManager:$e}=n;x(N&&$e,t,"internal-error");let ln=ua.fromJSON(this.name,$e);x(typeof N=="string",t,"internal-error"),hr(d,t.name),hr(p,t.name),x(typeof H=="boolean",t,"internal-error"),x(typeof ue=="boolean",t,"internal-error"),hr(g,t.name),hr(y,t.name),hr(w,t.name),hr(I,t.name),hr(S,t.name),hr(B,t.name);let Ko=new e({uid:N,auth:t,email:p,emailVerified:H,displayName:d,isAnonymous:ue,photoURL:y,phoneNumber:g,tenantId:w,stsTokenManager:ln,createdAt:S,lastLoginAt:B});return se&&Array.isArray(se)&&(Ko.providerData=se.map(LS=>Object.assign({},LS))),I&&(Ko._redirectEventId=I),Ko}static _fromIdTokenResponse(t,n,r=!1){return v(this,null,function*(){let i=new ua;i.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield bu(o),o})}static _fromGetAccountInfoResponse(t,n,r){return v(this,null,function*(){let i=n.users[0];x(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?_0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ua;a.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ha(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var XC=new Map;function Rn(e){fr(e instanceof Function,"Expected a class definition");let t=XC.get(e);return t?(fr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,XC.set(e,t),t)}var TF=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})(),Tm=TF;function _u(e,t,n){return`firebase:${e}:${t}:${n}`}var Du=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=_u(this.userKey,i.apiKey,o),this.fullPersistenceKey=_u("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return v(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);return t?yo._fromJSON(this.auth,t):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return v(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new e(Rn(Tm),t,r);let i=(yield Promise.all(n.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Rn(Tm),s=_u(r,t.config.apiKey,t.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=yo._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new e(o,t,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new e(o,t,r))})}};function e0(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(C0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(E0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(D0(t))return"Blackberry";if(S0(t))return"Webos";if(w0(t))return"Safari";if((t.includes("chrome/")||I0(t))&&!t.includes("edge/"))return"Chrome";if(b0(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function E0(e=Le()){return/firefox\//i.test(e)}function w0(e=Le()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function I0(e=Le()){return/crios\//i.test(e)}function C0(e=Le()){return/iemobile/i.test(e)}function b0(e=Le()){return/android/i.test(e)}function D0(e=Le()){return/blackberry/i.test(e)}function S0(e=Le()){return/webos/i.test(e)}function qm(e=Le()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function AF(e=Le()){var t;return qm(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function MF(){return DC()&&document.documentMode===10}function T0(e=Le()){return qm(e)||b0(e)||S0(e)||D0(e)||/windows phone/i.test(e)||C0(e)}function A0(e,t=[]){let n;switch(e){case"Browser":n=e0(Le());break;case"Worker":n=`${e0(Le())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${rn}/${r}`}var Am=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return v(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)yield r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function NF(n){return v(this,arguments,function*(e,t={}){return mr(e,"GET","/v2/passwordPolicy",pr(e,t))})}var RF=6,Mm=class{constructor(t){var n,r,i,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:RF,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var Nm=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Su(this),this.idTokenSubscription=new Su(this),this.beforeStateQueue=new Am(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Rn(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Du.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return v(this,null,function*(){try{let n=yield y0(this,{idToken:t}),r=yield yo._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return v(this,null,function*(){var n;if(kt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return x(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return v(this,null,function*(){try{yield bu(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=vF()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return v(this,null,function*(){if(kt(this.app))return Promise.reject(xn(this));let n=t?Ye(t):null;return n&&x(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return v(this,null,function*(){if(!this._deleted)return t&&x(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return kt(this.app)?Promise.reject(xn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return kt(this.app)?Promise.reject(xn(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Rn(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let t=yield NF(this),n=new Mm(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Sn("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}revokeAccessToken(t){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield SF(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&Rn(t)||this._popupRedirectResolver;x(n,this,"argument-error"),this.redirectPersistenceManager=yield Du.create(this,[Rn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return v(this,null,function*(){if(t===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(x(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return v(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=A0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var t;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&pF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ii(e){return Ye(e)}var Su=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=RC(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ou={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xF(e){Ou=e}function M0(e){return Ou.loadJS(e)}function OF(){return Ou.recaptchaEnterpriseScript}function PF(){return Ou.gapiScript}function N0(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var kF="recaptcha-enterprise",FF="NO_RECAPTCHA",Rm=class{constructor(t){this.type=kF,this.auth=ii(t)}verify(t="verify",n=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(this,null,function*(){wF(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Dm(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;QC(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:t}).then(l=>{s(l)}).catch(()=>{s(FF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&QC(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=OF();c.length!==0&&(c+=a),M0(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function t0(e,t,n,r=!1){return v(this,null,function*(){let i=new Rm(e),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function xm(e,t,n,r){return v(this,null,function*(){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield t0(e,t,n,n==="getOobCode");return r(e,o)}else return r(e,t).catch(o=>v(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield t0(e,t,n,n==="getOobCode");return r(e,s)}else return Promise.reject(o)}))})}function Ym(e,t){let n=Jr(e,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(fo(o,t??{}))return i;sn(i,"already-initialized")}return n.initialize({options:t})}function LF(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Rn);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function Km(e,t,n){let r=ii(e);x(r._canInitEmulator,r,"emulator-config-failed"),x(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=R0(t),{host:s,port:a}=VF(t),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||UF()}function R0(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function VF(e){let t=R0(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:n0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:n0(s)}}}function n0(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function UF(){function e(){let t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}var fa=class{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Nn("not implemented")}_getIdTokenResponse(t){return Nn("not implemented")}_linkToIdToken(t,n){return Nn("not implemented")}_getReauthenticationResolver(t){return Nn("not implemented")}};function jF(e,t){return v(this,null,function*(){return mr(e,"POST","/v1/accounts:signUp",t)})}function BF(e,t){return v(this,null,function*(){return ga(e,"POST","/v1/accounts:signInWithPassword",pr(e,t))})}function $F(e,t){return v(this,null,function*(){return ga(e,"POST","/v1/accounts:signInWithEmailLink",pr(e,t))})}function HF(e,t){return v(this,null,function*(){return ga(e,"POST","/v1/accounts:signInWithEmailLink",pr(e,t))})}var pa=class e extends fa{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new e(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new e(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(t){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(t,n,"signInWithPassword",BF);case"emailLink":return $F(t,{email:this._email,oobCode:this._password});default:sn(t,"internal-error")}})}_linkToIdToken(t,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(t,r,"signUpPassword",jF);case"emailLink":return HF(t,{idToken:n,email:this._email,oobCode:this._password});default:sn(t,"internal-error")}})}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};function wm(e,t){return v(this,null,function*(){return ga(e,"POST","/v1/accounts:signInWithIdp",pr(e,t))})}function WF(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zF(e){let t=po(mo(e)).link,n=t?po(mo(t)).deep_link_id:null,r=po(mo(e)).deep_link_id;return(r?po(mo(r)).link:null)||r||n||t||e}var Tu=class e{constructor(t){var n,r,i,o,s,a;let c=po(mo(t)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=WF((i=c.mode)!==null&&i!==void 0?i:null);x(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){let n=zF(t);try{return new e(n)}catch{return null}}};var x0=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(n,r){return pa._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Tu.parseLink(r);return x(i,"argument-error"),pa._fromEmailAndCode(n,i.code,i.tenantId)}}e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return e})(),Au=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var Om=class extends Au{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};function GF(e,t){return v(this,null,function*(){return ga(e,"POST","/v1/accounts:signUp",pr(e,t))})}var _o=class e{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,r,i=!1){return v(this,null,function*(){let o=yield yo._fromIdTokenResponse(t,r,i),s=r0(r);return new e({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(t,n,r){return v(this,null,function*(){yield t._updateTokensIfNecessary(r,!0);let i=r0(r);return new e({user:t,providerId:i,_tokenResponse:r,operationType:n})})}};function r0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Pm=class e extends dt{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function O0(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Pm._fromErrorAndOperation(e,o,t,r):o})}function qF(e,t,n=!1){return v(this,null,function*(){let r=yield da(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return _o._forOperation(e,"link",r)})}function YF(e,t,n=!1){return v(this,null,function*(){let{auth:r}=e;if(kt(r.app))return Promise.reject(xn(r));let i="reauthenticate";try{let o=yield da(e,O0(r,i,t,e),n);x(o.idToken,r,"internal-error");let s=zm(o.idToken);x(s,r,"internal-error");let{sub:a}=s;return x(e.uid===a,r,"user-mismatch"),_o._forOperation(e,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&sn(r,"user-mismatch"),o}})}function P0(e,t,n=!1){return v(this,null,function*(){if(kt(e.app))return Promise.reject(xn(e));let r="signIn",i=yield O0(e,r,t),o=yield _o._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(o.user)),o})}function Zm(e,t){return v(this,null,function*(){return P0(ii(e),t)})}function k0(e){return v(this,null,function*(){let t=ii(e);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})}function Qm(e,t,n){return v(this,null,function*(){if(kt(e.app))return Promise.reject(xn(e));let r=ii(e),s=yield xm(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GF).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&k0(e),c}),a=yield _o._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Jm(e,t,n){return kt(e.app)?Promise.reject(xn(e)):Zm(Ye(e),x0.credential(t,n)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&k0(e),r}))}function Xm(e,t,n,r){return Ye(e).onIdTokenChanged(t,n,r)}function eg(e,t,n){return Ye(e).beforeAuthStateChanged(t,n)}function tg(e){return Ye(e).signOut()}var Mu="__sak";var Nu=class{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mu,"1"),this.storage.removeItem(Mu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){let n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var KF=1e3,ZF=10,QF=(()=>{class e extends Nu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);MF()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,ZF):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},KF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield Ir(e.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield Ir(e.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield Ir(e.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return e.type="LOCAL",e})(),F0=QF;var JF=(()=>{class e extends Nu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return e.type="SESSION",e})(),ng=JF;function XF(e){return Promise.all(e.map(t=>v(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(n){return{fulfilled:!1,reason:n}}})))}var eL=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new e(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>v(this,null,function*(){return u(r.origin,s)})),l=yield XF(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e.receivers=[];return e})();function L0(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}var km=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=L0("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let p=d;if(p.data.eventId===l)switch(p.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function on(){return window}function tL(e){on().location.href=e}function V0(){return typeof on().WorkerGlobalScope<"u"&&typeof on().importScripts=="function"}function nL(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function rL(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function iL(){return V0()?self:null}var U0="firebaseLocalStorageDb",oL=1,Ru="firebaseLocalStorage",j0="fbase_key",ri=class{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Pu(e,t){return e.transaction([Ru],t?"readwrite":"readonly").objectStore(Ru)}function sL(){let e=indexedDB.deleteDatabase(U0);return new ri(e).toPromise()}function Fm(){let e=indexedDB.open(U0,oL);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let r=e.result;try{r.createObjectStore(Ru,{keyPath:j0})}catch(i){n(i)}}),e.addEventListener("success",()=>v(this,null,function*(){let r=e.result;r.objectStoreNames.contains(Ru)?t(r):(r.close(),yield sL(),t(yield Fm()))}))})}function i0(e,t,n){return v(this,null,function*(){let r=Pu(e,!0).put({[j0]:t,value:n});return new ri(r).toPromise()})}function aL(e,t){return v(this,null,function*(){let n=Pu(e,!1).get(t),r=yield new ri(n).toPromise();return r===void 0?null:r.value})}function o0(e,t){let n=Pu(e,!0).delete(t);return new ri(n).toPromise()}var cL=800,lL=3,uL=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield Fm(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>lL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return V0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=eL._getInstance(iL()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield nL(),!this.activeServiceWorker)return;this.sender=new km(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||rL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Fm();return yield i0(n,Mu,"1"),yield o0(n,Mu),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>i0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>aL(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>o0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=Pu(o,!1).getAll();return new ri(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),cL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return e.type="LOCAL",e})(),B0=uL;var Nq=N0("rcb"),Rq=new ni(3e4,6e4);function dL(e,t){return t?Rn(t):(x(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var ma=class extends fa{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wm(t,this._buildIdpRequest())}_linkToIdToken(t,n){return wm(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return wm(t,this._buildIdpRequest())}_buildIdpRequest(t){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}};function hL(e){return P0(e.auth,new ma(e),e.bypassAuthState)}function fL(e){let{auth:t,user:n}=e;return x(n,t,"internal-error"),YF(n,new ma(e),e.bypassAuthState)}function pL(e){return v(this,null,function*(){let{auth:t,user:n}=e;return x(n,t,"internal-error"),qF(n,new ma(e),e.bypassAuthState)})}var Lm=class{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((t,n)=>v(this,null,function*(){this.pendingPromise={resolve:t,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(t){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hL;case"linkViaPopup":case"linkViaRedirect":return pL;case"reauthViaPopup":case"reauthViaRedirect":return fL;default:sn(this.auth,"internal-error")}}resolve(t){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var xq=new ni(2e3,1e4);var mL="pendingRedirect",Eu=new Map,Vm=class e extends Lm{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let t=Eu.get(this.auth._key());if(!t){try{let r=(yield gL(this.resolver,this.auth))?yield Ir(e.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Eu.set(this.auth._key(),t)}return this.bypassAuthState||Eu.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return v(this,null,function*(){if(t.type==="signInViaRedirect")return Ir(e.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let n=yield this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,Ir(e.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function gL(e,t){return v(this,null,function*(){let n=_L(t),r=yL(e);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function vL(e,t){Eu.set(e._key(),t)}function yL(e){return Rn(e._redirectPersistence)}function _L(e){return _u(mL,e.config.apiKey,e.name)}function EL(e,t,n=!1){return v(this,null,function*(){if(kt(e.app))return Promise.reject(xn(e));let r=ii(e),i=dL(r,t),s=yield new Vm(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})}var wL=10*60*1e3,Um=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!IL(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!$0(t)){let i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ti(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){let r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wL&&this.cachedEventUids.clear(),this.cachedEventUids.has(s0(t))}saveEventToCache(t){this.cachedEventUids.add(s0(t)),this.lastProcessedEventTime=Date.now()}};function s0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function $0({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function IL(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $0(e);default:return!1}}function CL(n){return v(this,arguments,function*(e,t={}){return mr(e,"GET","/v1/projects",t)})}var bL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DL=/^https?/;function SL(e){return v(this,null,function*(){if(e.config.emulator)return;let{authorizedDomains:t}=yield CL(e);for(let n of t)try{if(TL(n))return}catch{}sn(e,"unauthorized-domain")})}function TL(e){let t=Cm(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!DL.test(n))return!1;if(bL.test(e))return r===e;let i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var AL=new ni(3e4,6e4);function a0(){let e=on().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function ML(e){return new Promise((t,n)=>{var r,i,o;function s(){a0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{a0(),n(ti(e,"network-request-failed"))},timeout:AL.get()})}if(!((i=(r=on().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=on().gapi)===null||o===void 0)&&o.load)s();else{let a=N0("iframefcb");return on()[a]=()=>{gapi.load?s():n(ti(e,"network-request-failed"))},M0(`${PF()}?onload=${a}`).catch(c=>n(c))}}).catch(t=>{throw wu=null,t})}var wu=null;function NL(e){return wu=wu||ML(e),wu}var RL=new ni(5e3,15e3),xL="__/auth/iframe",OL="emulator/auth/iframe",PL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FL(e){let t=e.config;x(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?Hm(t,OL):`https://${e.config.authDomain}/${xL}`,r={apiKey:t.apiKey,appName:e.name,v:rn},i=kL.get(e.config.apiHost);i&&(r.eid=i);let o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Zr(r).slice(1)}`}function LL(e){return v(this,null,function*(){let t=yield NL(e),n=on().gapi;return x(n,e,"internal-error"),t.open({where:document.body,url:FL(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PL,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ti(e,"network-request-failed"),a=on().setTimeout(()=>{o(s)},RL.get());function c(){on().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var VL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UL=500,jL=600,BL="_blank",$L="http://localhost",xu=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function HL(e,t,n,r=UL,i=jL){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},VL),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Le().toLowerCase();n&&(a=I0(l)?BL:n),E0(l)&&(t=t||$L,c.scrollbars="yes");let u=Object.entries(c).reduce((p,[g,y])=>`${p}${g}=${y},`,"");if(AF(l)&&a!=="_self")return WL(t||"",a),new xu(null);let d=window.open(t||"",a,u);x(d,e,"popup-blocked");try{d.focus()}catch{}return new xu(d)}function WL(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var zL="__/auth/handler",GL="emulator/auth/handler",qL=encodeURIComponent("fac");function c0(e,t,n,r,i,o){return v(this,null,function*(){x(e.config.authDomain,e,"auth-domain-config-required"),x(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:rn,eventId:i};if(t instanceof Au){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",ra(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(t instanceof Om){let u=t.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield e._getAppCheckToken(),l=c?`#${qL}=${encodeURIComponent(c)}`:"";return`${YL(e)}?${Zr(a).slice(1)}${l}`})}function YL({config:e}){return e.emulator?Hm(e,GL):`https://${e.authDomain}/${zL}`}var Im="webStorageSupport",jm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ng,this._completeRedirectFn=EL,this._overrideRedirectResult=vL}_openPopup(t,n,r,i){return v(this,null,function*(){var o;fr((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield c0(t,n,r,Cm(),i);return HL(t,s,L0())})}_openRedirect(t,n,r,i){return v(this,null,function*(){yield this._originValidation(t);let o=yield c0(t,n,r,Cm(),i);return tL(o),new Promise(()=>{})})}_initialize(t){let n=t._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(fr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(t){return v(this,null,function*(){let n=yield LL(t),r=new Um(t);return n.register("authEvent",i=>(x(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r})}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Im,{type:Im},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Im];s!==void 0&&n(!!s),sn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SL(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return T0()||w0()||qm()}},H0=jm;var l0="@firebase/auth",u0="1.7.9";var Bm=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function KL(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZL(e){nn(new Ke("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;x(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A0(e)},l=new Nm(r,i,o,c);return LF(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),nn(new Ke("auth-internal",t=>{let n=ii(t.getProvider("auth").getImmediate());return(r=>new Bm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),he(l0,u0,KL(e)),he(l0,u0,"esm2017")}var QL=5*60,JL=rm("authIdTokenMaxAge")||QL,d0=null,XL=e=>t=>v(void 0,null,function*(){let n=t&&(yield t.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>JL)return;let i=n?.token;d0!==i&&(d0=i,yield fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function rg(e=lr()){let t=Jr(e,"auth");if(t.isInitialized())return t.getImmediate();let n=Ym(e,{popupRedirectResolver:H0,persistence:[B0,F0,ng]}),r=rm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=XL(o.toString());eg(n,s,()=>s(n.currentUser)),Xm(n,a=>s(a))}}let i=tm("auth");return i&&Km(n,`http://${i}`),n}function eV(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}xF({loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{let o=ti("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",eV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZL("Browser");var W0="auth",oi=class{constructor(t){return t}},si=class{constructor(){return ei(W0)}};var ig=new D("angularfire2.auth-instances");function WV(e,t){let n=vo(W0,e,t);return n&&new oi(n)}function zV(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new oi(r)}}var GV={provide:si,deps:[[new De,ig]]},qV={provide:oi,useFactory:WV,deps:[[new De,ig],Lt]};function z0(e,...t){return he("angularfire",An.full,"auth"),Fe([qV,GV,{provide:ig,useFactory:zV(e),multi:!0,deps:[J,Te,dr,Mn,[new De,ur],...t]}])}var G0=Ft(Qm,!0);var q0=Ft(rg,!0);var Y0=Ft(Jm,!0);var K0=Ft(tg,!0);var an=class e{constructor(t,n){this.auth=t;this.router=n}signIn(t,n){return Y0(this.auth,t,n)}signUp(t,n){return G0(this.auth,t,n)}logout(){return this.clearToken(),this.router.navigate(["/auth/login"]),K0(this.auth)}isAuthenticated(){return this.getToken()!==null}setToken(t){sessionStorage.setItem("access-token",t)}getToken(){return sessionStorage.getItem("access-token")}clearToken(){sessionStorage.clear()}static \u0275fac=function(n){return new(n||e)(M(oi),M(Dn))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};function KV(e,t){e&1&&_(0,"div",25)}var ku=class e{constructor(t,n){this.auth=t;this.router=n}isLoading=!1;ngOnInit(){throw new Error("Method not implemented.")}onLogin(t,n){this.isLoading=!0,this.auth.signIn(t,n).then(r=>{this.auth.setToken(r.user.refreshToken),this.router.navigate(["/dashboard/home"])}).catch(r=>{console.log(r),this.isLoading=!1})}static \u0275fac=function(n){return new(n||e)(R(an),R(Dn))};static \u0275cmp=re({type:e,selectors:[["app-login"]],standalone:!0,features:[ie],decls:38,vars:1,consts:[["email",""],["password",""],[1,"login","p-fixed","d-flex","text-center","common-img-bg"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"login-card","card-block","auth-body","mr-auto","ml-auto"],[1,"md-float-material"],[1,"auth-box"],[1,"row","m-b-20"],[1,"col-md-12"],[1,"text-left","txt-primary"],[1,"input-group"],["type","email","placeholder","Email Address",1,"form-control"],[1,"md-line"],["type","password","placeholder","Password",1,"form-control"],[1,"row","m-t-25","text-left"],[1,"col-sm-7","col-xs-12"],[1,"checkbox-fade","fade-in-primary"],["type","checkbox","value",""],[1,"cr"],[1,"cr-icon","icofont","icofont-ui-check","txt-primary"],[1,"text-inverse"],[1,"col-sm-5","col-xs-12","forgot-phone","text-right"],[1,"text-right","f-w-600","text-inverse"],[1,"spinner","container"],[1,"row","m-t-30"],["type","button",1,"btn","btn-primary","btn-md","btn-block","waves-effect","text-center","m-b-20",3,"click"]],template:function(n,r){if(n&1){let i=Ki();f(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"form",7)(6,"div",8)(7,"div",9)(8,"div",10)(9,"h3",11),m(10,"Connexion"),h()()(),_(11,"hr"),f(12,"div",12),_(13,"input",13,0)(15,"span",14),h(),f(16,"div",12),_(17,"input",15,1)(19,"span",14),h(),f(20,"div",16)(21,"div",17)(22,"div",18)(23,"label"),_(24,"input",19),f(25,"span",20),_(26,"i",21),h(),f(27,"span",22),m(28,"Se souvenir"),h()()()(),f(29,"div",23)(30,"a",24),m(31,"Mot de passe oubli\xE9?"),h()()(),Lr(32,KV,1,0,"div",25),f(33,"div",26)(34,"div",10)(35,"button",27),X("click",function(){Zn(i);let s=Gf(14),a=Gf(18);return Qn(r.onLogin(s.value,a.value))}),m(36,"Se connecter"),h()()(),_(37,"hr"),h()()()()()()()}n&2&&(j(32),En(r.isLoading==!0?32:-1))},styles:[".spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(0,0,0,.1);border-top:5px solid #3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.container[_ngcontent-%COMP%]{text-align:center;align-items:center}"]})};var Fu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=re({type:e,selectors:[["app-register"]],standalone:!0,features:[ie],decls:2,vars:0,template:function(n,r){n&1&&(f(0,"p"),m(1,"register works!"),h())}})};var vt=class e{constructor(t){this.auth=t}ngOnInit(){throw new Error("Method not implemented.")}onLogout(){confirm("Voulez-vous vous deconnecter?")&&this.auth.logout()}static \u0275fac=function(n){return new(n||e)(R(an))};static \u0275cmp=re({type:e,selectors:[["app-header"]],standalone:!0,features:[ie],decls:30,vars:0,consts:[[1,"navbar","header-navbar","pcoded-header"],[1,"navbar-wrapper"],[1,"navbar-logo"],["id","mobile-collapse",1,"mobile-menu"],[1,"ti-menu"],[1,"mobile-search","morphsearch-search"],[1,"ti-search"],[2,"color","white"],[1,"mobile-options"],[1,"ti-more"],[1,"navbar-container","container-fluid"],[1,"nav-left"],[1,"sidebar_toggle"],["href","javascript:void(0)"],["onclick","javascript:toggleFullScreen()"],[1,"ti-fullscreen"],[1,"nav-right"],[1,"header-notification"],[1,"ti-bell"],[1,"badge","bg-c-pink"],[1,"user-profile","header-notification"],["src","images/auth/user.png","alt","User-Profile-Image",1,"img-radius",2,"border-radius","50%"]],template:function(n,r){n&1&&(f(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),_(4,"i",4),h(),f(5,"a",5),_(6,"i",6),h(),f(7,"h3",7),m(8,"DGRK-APP"),h(),f(9,"a",8),_(10,"i",9),h()(),f(11,"div",10)(12,"ul",11)(13,"li")(14,"div",12)(15,"a",13),_(16,"i",4),h()()(),f(17,"li")(18,"a",14),_(19,"i",15),h()()(),f(20,"ul",16)(21,"li",17)(22,"a"),_(23,"i",18)(24,"span",19),h()(),f(25,"li",20)(26,"a"),_(27,"img",21),f(28,"span"),m(29,"BESOLO"),h()()()()()()())}})};var yt=class e{constructor(t){this.auth=t}ngOnInit(){throw new Error("Method not implemented.")}onLogout(){confirm("Voulez-vous vous deconnecter?")&&this.auth.logout()}static \u0275fac=function(n){return new(n||e)(R(an))};static \u0275cmp=re({type:e,selectors:[["app-side-nav"]],standalone:!0,features:[ie],decls:59,vars:0,consts:[[1,"pcoded-navbar"],[1,"sidebar_toggle"],[1,"icon-close","icons"],[1,"pcoded-inner-navbar","main-menu"],[1,""],[1,"main-menu-header"],["src","images/auth/user.png","alt","User-Profile-Image",1,"img-40","img-radius",2,"border-radius","50%"],[1,"user-details"],["id","more-details"],[1,"ti-angle-down"],[1,"main-menu-content"],[1,"more-details"],[1,"ti-user"],[3,"click"],[1,"ti-layout-sidebar-left"],["data-i18n","nav.category.navigation",1,"pcoded-navigatio-lavel"],[1,"pcoded-item","pcoded-left-item"],[1,"active"],["routerLink","/dashboard/home"],[1,"pcoded-micon"],[1,"ti-home"],["data-i18n","nav.dash.main",1,"pcoded-mtext"],[1,"pcoded-mcaret"],["data-i18n","nav.category.forms",1,"pcoded-navigatio-lavel"],["routerLink","/dashboard/paiements"],[1,"ti-layers"],["data-i18n","nav.form-components.main",1,"pcoded-mtext"],["routerLink","/dashboard/parametre"],[1,"ti-settings"]],template:function(n,r){n&1&&(f(0,"nav",0)(1,"div",1)(2,"a"),_(3,"i",2),h()(),f(4,"div",3)(5,"div",4)(6,"div",5),_(7,"img",6),f(8,"div",7)(9,"span"),m(10,"BESOLO"),h(),f(11,"span",8),m(12,"Software Engineer"),_(13,"i",9),h()()(),f(14,"div",10)(15,"ul")(16,"li",11)(17,"a"),_(18,"i",12),m(19,"View Profile"),h(),f(20,"a",13),X("click",function(){return r.onLogout()}),_(21,"i",14),m(22,"Logout"),h()()()()(),f(23,"div",15),m(24,"Menu"),h(),f(25,"ul",16)(26,"li",17)(27,"a",18)(28,"span",19),_(29,"i",20),f(30,"b"),m(31,"D"),h()(),f(32,"span",21),m(33,"Dashboard"),h(),_(34,"span",22),h()()(),f(35,"div",23),m(36,"Operations"),h(),f(37,"ul",16)(38,"li")(39,"a",24)(40,"span",19),_(41,"i",25),f(42,"b"),m(43,"FC"),h()(),f(44,"span",26),m(45,"Paiements"),h(),_(46,"span",22),h()()(),f(47,"div",23),m(48,"Autres"),h(),f(49,"ul",16)(50,"li")(51,"a",27)(52,"span",19),_(53,"i",28),f(54,"b"),m(55,"FC"),h()(),f(56,"span",26),m(57,"Parametre"),h(),_(58,"span",22),h()()()()())},dependencies:[su]})};var _t=class e{isLoading=!0;ngOnInit(){setTimeout(()=>{this.isLoading=!1},2e3)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=re({type:e,selectors:[["app-loader"]],standalone:!0,features:[ie],decls:23,vars:0,consts:[[1,"theme-loader"],[1,"ball-scale"],[1,"contain"],[1,"ring"],[1,"frame"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_(4,"div",4),h(),f(5,"div",3),_(6,"div",4),h(),f(7,"div",3),_(8,"div",4),h(),f(9,"div",3),_(10,"div",4),h(),f(11,"div",3),_(12,"div",4),h(),f(13,"div",3),_(14,"div",4),h(),f(15,"div",3),_(16,"div",4),h(),f(17,"div",3),_(18,"div",4),h(),f(19,"div",3),_(20,"div",4),h(),f(21,"div",3),_(22,"div",4),h()()()())}})};var Lu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=re({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[ie],decls:62,vars:0,consts:[["id","pcoded",1,"pcoded"],[1,"pcoded-overlay-box"],[1,"pcoded-container","navbar-wrapper"],[1,"pcoded-main-container"],[1,"pcoded-wrapper"],[1,"pcoded-content"],[1,"pcoded-inner-content"],[1,"main-body"],[1,"page-wrapper"],[1,"page-body"],[1,"row"],[1,"col"],[1,"col-md-6","col-xl-3"],[1,"card","widget-card-1"],[1,"card-block-small"],[1,"icofont","icofont-pie-chart","bg-c-blue","card1-icon"],[1,"text-c-blue","f-w-600"],[1,"f-left","m-t-10","text-muted"],[1,"text-c-blue","f-16","icofont","icofont-warning","m-r-10"],[1,"icofont","icofont-ui-home","bg-c-pink","card1-icon"],[1,"text-c-pink","f-w-600"],[1,"text-c-pink","f-16","icofont","icofont-calendar","m-r-10"],[1,"icofont","icofont-warning-alt","bg-c-green","card1-icon"],[1,"text-c-green","f-w-600"],[1,"text-c-green","f-16","icofont","icofont-tag","m-r-10"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-header-left"],[1,"card-block"],["id","statestics-chart",2,"height","517px"],["id","styleSelector"]],template:function(n,r){n&1&&(_(0,"app-loader"),f(1,"div",0),_(2,"div",1),f(3,"div",2),_(4,"app-header"),f(5,"div",3)(6,"div",4),_(7,"app-side-nav"),f(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10),_(14,"div",11),f(15,"div",12)(16,"div",13)(17,"div",14),_(18,"i",15),f(19,"span",16),m(20,"Pay\xE9s"),h(),f(21,"h4"),m(22,"10/50"),h(),f(23,"div")(24,"span",17),_(25,"i",18),m(26,"Get more space "),h()()()()(),f(27,"div",12)(28,"div",13)(29,"div",14),_(30,"i",19),f(31,"span",20),m(32,"Revenue"),h(),f(33,"h4"),m(34,"$23,589"),h(),f(35,"div")(36,"span",17),_(37,"i",21),m(38,"Last 24 hours "),h()()()()(),f(39,"div",12)(40,"div",13)(41,"div",14),_(42,"i",22),f(43,"span",23),m(44,"Non Pay\xE9s"),h(),f(45,"h4"),m(46,"40"),h(),f(47,"div")(48,"span",17),_(49,"i",24),m(50,"Tracked via microsoft "),h()()()()(),_(51,"div",11),h(),f(52,"div",10)(53,"div",25)(54,"div",26)(55,"div",27)(56,"h5"),m(57,"Statistiques"),h(),_(58,"div",28),h(),f(59,"div",29),_(60,"div",30),h()()()()()(),_(61,"div",31),h()()()()()()())},dependencies:[vt,yt,_t]})};var ob=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(R(_n),R(qt))}}static{this.\u0275dir=Ie({type:e})}}return e})(),Yu=(()=>{class e extends ob{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=yn(e)))(i||e)}})()}static{this.\u0275dir=Ie({type:e,features:[pt]})}}return e})(),Ia=new D("");var ZV={provide:Ia,useExisting:zt(()=>yr),multi:!0};function QV(){let e=In()?In().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var JV=new D(""),yr=(()=>{class e extends ob{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!QV())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(R(_n),R(qt),R(JV,8))}}static{this.\u0275dir=Ie({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&X("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[tr([ZV]),pt]})}}return e})();function gr(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function sb(e){return e!=null&&typeof e.length=="number"}var dg=new D(""),ab=new D(""),XV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ye=class{static min(t){return eU(t)}static max(t){return tU(t)}static required(t){return cb(t)}static requiredTrue(t){return nU(t)}static email(t){return rU(t)}static minLength(t){return iU(t)}static maxLength(t){return oU(t)}static pattern(t){return sU(t)}static nullValidator(t){return ju(t)}static compose(t){return pb(t)}static composeAsync(t){return gb(t)}};function eU(e){return t=>{if(gr(t.value)||gr(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function tU(e){return t=>{if(gr(t.value)||gr(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function cb(e){return gr(e.value)?{required:!0}:null}function nU(e){return e.value===!0?null:{required:!0}}function rU(e){return gr(e.value)||XV.test(e.value)?null:{email:!0}}function iU(e){return t=>gr(t.value)||!sb(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function oU(e){return t=>sb(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function sU(e){if(!e)return ju;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(gr(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function ju(e){return null}function lb(e){return e!=null}function ub(e){return Vr(e)?fe(e):e}function db(e){let t={};return e.forEach(n=>{t=n!=null?C(C({},t),n):t}),Object.keys(t).length===0?null:t}function hb(e,t){return t.map(n=>n(e))}function aU(e){return!e.validate}function fb(e){return e.map(t=>aU(t)?t:n=>t.validate(n))}function pb(e){if(!e)return null;let t=e.filter(lb);return t.length==0?null:function(n){return db(hb(n,t))}}function mb(e){return e!=null?pb(fb(e)):null}function gb(e){if(!e)return null;let t=e.filter(lb);return t.length==0?null:function(n){let r=hb(n,t).map(ub);return Gd(r).pipe(L(db))}}function vb(e){return e!=null?gb(fb(e)):null}function Z0(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function yb(e){return e._rawValidators}function _b(e){return e._rawAsyncValidators}function sg(e){return e?Array.isArray(e)?e:[e]:[]}function Bu(e,t){return Array.isArray(e)?e.includes(t):e===t}function Q0(e,t){let n=sg(t);return sg(e).forEach(i=>{Bu(n,i)||n.push(i)}),n}function J0(e,t){return sg(t).filter(n=>!Bu(e,n))}var $u=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=mb(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=vb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Io=class extends $u{get formDirective(){return null}get path(){return null}},wa=class extends $u{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Hu=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},cU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},H6=W(C({},cU),{"[class.ng-submitted]":"isSubmitted"}),bo=(()=>{class e extends Hu{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(R(wa,2))}}static{this.\u0275dir=Ie({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ml("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[pt]})}}return e})(),Do=(()=>{class e extends Hu{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(R(Io,10))}}static{this.\u0275dir=Ie({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ml("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[pt]})}}return e})();var va="VALID",Vu="INVALID",Eo="PENDING",ya="DISABLED",vr=class{},Wu=class extends vr{constructor(t,n){super(),this.value=t,this.source=n}},_a=class extends vr{constructor(t,n){super(),this.pristine=t,this.source=n}},Ea=class extends vr{constructor(t,n){super(),this.touched=t,this.source=n}},wo=class extends vr{constructor(t,n){super(),this.status=t,this.source=n}},ag=class extends vr{constructor(t){super(),this.source=t}},cg=class extends vr{constructor(t){super(),this.source=t}};function hg(e){return(Ku(e)?e.validators:e)||null}function lU(e){return Array.isArray(e)?mb(e):e||null}function fg(e,t){return(Ku(t)?t.asyncValidators:e)||null}function uU(e){return Array.isArray(e)?vb(e):e||null}function Ku(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Eb(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new A(1e3,"");if(!r[n])throw new A(1001,"")}function wb(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new A(1002,"")})}var Co=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ds(()=>this.statusReactive()),this.statusReactive=Is(void 0),this._pristine=Ds(()=>this.pristineReactive()),this.pristineReactive=Is(!0),this._touched=Ds(()=>this.touchedReactive()),this.touchedReactive=Is(!1),this._events=new Se,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return wn(this.statusReactive)}set status(t){wn(()=>this.statusReactive.set(t))}get valid(){return this.status===va}get invalid(){return this.status===Vu}get pending(){return this.status==Eo}get disabled(){return this.status===ya}get enabled(){return this.status!==ya}get pristine(){return wn(this.pristineReactive)}set pristine(t){wn(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return wn(this.touchedReactive)}set touched(t){wn(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Q0(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Q0(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(J0(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(J0(t,this._rawAsyncValidators))}hasValidator(t){return Bu(this._rawValidators,t)}hasAsyncValidator(t){return Bu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(W(C({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ea(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ea(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(W(C({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new _a(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new _a(!0,r))}markAsPending(t={}){this.status=Eo;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new wo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(W(C({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ya,this.errors=null,this._forEachChild(i=>{i.disable(W(C({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Wu(this.value,r)),this._events.next(new wo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(C({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=va,this._forEachChild(r=>{r.enable(W(C({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(W(C({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===va||this.status===Eo)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Wu(this.value,n)),this._events.next(new wo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(W(C({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ya:va}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Eo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=ub(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new wo(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Ee,this.statusChanges=new Ee}_calculateStatus(){return this._allControlsDisabled()?ya:this.errors?Vu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eo)?Eo:this._anyControlsHaveStatus(Vu)?Vu:va}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new _a(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ea(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ku(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=lU(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=uU(this._rawAsyncValidators)}},zu=class extends Co{constructor(t,n,r){super(hg(n),fg(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){wb(this,!0,t),Object.keys(t).forEach(r=>{Eb(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var lg=class extends zu{};var pg=new D("CallSetDisabledState",{providedIn:"root",factory:()=>Zu}),Zu="always";function dU(e,t){return[...t.path,e]}function X0(e,t,n=Zu){mg(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),fU(e,t),mU(e,t),pU(e,t),hU(e,t)}function eb(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),qu(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Gu(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function hU(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function mg(e,t){let n=yb(e);t.validator!==null?e.setValidators(Z0(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=_b(e);t.asyncValidator!==null?e.setAsyncValidators(Z0(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Gu(t._rawValidators,i),Gu(t._rawAsyncValidators,i)}function qu(e,t){let n=!1;if(e!==null){if(t.validator!==null){let i=yb(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let i=_b(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}let r=()=>{};return Gu(t._rawValidators,r),Gu(t._rawAsyncValidators,r),n}function fU(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Ib(e,t)})}function pU(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Ib(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function Ib(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function mU(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function gU(e,t){e==null,mg(e,t)}function vU(e,t){return qu(e,t)}function yU(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function _U(e){return Object.getPrototypeOf(e.constructor)===Yu}function EU(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function wU(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===yr?n=o:_U(o)?r=o:i=o}),i||r||n||null}function IU(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function tb(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function nb(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Uu=class extends Co{constructor(t=null,n,r){super(hg(n),fg(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ku(n)&&(n.nonNullable||n.initialValueIsDefault)&&(nb(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){tb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){tb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){nb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var CU=e=>e instanceof Uu;var So=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Ie({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),bU={provide:Ia,useExisting:zt(()=>Ca),multi:!0},Ca=(()=>{class e extends Yu{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=yn(e)))(i||e)}})()}static{this.\u0275dir=Ie({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&X("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[tr([bU]),pt]})}}return e})();var Cb=new D("");var DU={provide:Io,useExisting:zt(()=>ai)},ai=(()=>{class e extends Io{get submitted(){return wn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Ds(()=>this._submittedReactive()),this._submittedReactive=Is(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ee,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return X0(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){eb(n.control||null,n,!1),IU(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),EU(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new ag(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new cg(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(eb(r||null,n),CU(i)&&(X0(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);gU(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&vU(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mg(this.form,this),this._oldForm&&qu(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||e)(R(dg,10),R(ab,10),R(pg,8))}}static{this.\u0275dir=Ie({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&X("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tr([DU]),pt,vn]})}}return e})();var SU={provide:wa,useExisting:zt(()=>ci)},ci=(()=>{class e extends wa{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Ee,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=wU(this,o)}ngOnChanges(n){this._added||this._setUpControl(),yU(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return dU(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||e)(R(Io,13),R(dg,10),R(ab,10),R(Ia,10),R(Cb,8))}}static{this.\u0275dir=Ie({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[tr([SU]),pt,vn]})}}return e})(),TU={provide:Ia,useExisting:zt(()=>_r),multi:!0};function bb(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function AU(e){return e.split(":")[0]}var _r=(()=>{class e extends Yu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=bb(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=AU(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=yn(e)))(i||e)}})()}static{this.\u0275dir=Ie({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&X("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[tr([TU]),pt]})}}return e})(),To=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(bb(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(R(qt),R(_n),R(_r,9))}}static{this.\u0275dir=Ie({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),MU={provide:Ia,useExisting:zt(()=>Db),multi:!0};function rb(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function NU(e){return e.split(":")[0]}var Db=(()=>{class e extends Yu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=NU(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=yn(e)))(i||e)}})()}static{this.\u0275dir=Ie({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&X("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[tr([MU]),pt]})}}return e})(),Ao=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(rb(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(rb(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(R(qt),R(_n),R(Db,9))}}static{this.\u0275dir=Ie({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();var RU=(()=>{class e{constructor(){this._validator=ju}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ju,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Ie({type:e,features:[vn]})}}return e})();var xU={provide:dg,useExisting:zt(()=>gg),multi:!0};var gg=(()=>{class e extends RU{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ur,this.createValidator=n=>cb}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=yn(e)))(i||e)}})()}static{this.\u0275dir=Ie({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&bs("required",i._enabled?"":null)},inputs:{required:"required"},features:[tr([xU]),pt]})}}return e})();var Sb=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Rt({type:e})}static{this.\u0275inj=Nt({})}}return e})(),ug=class extends Co{constructor(t,n,r){super(hg(n),fg(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){wb(this,!1,t),t.forEach((r,i)=>{Eb(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function ib(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var Mo=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return ib(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new zu(i,o)}record(n,r=null){let i=this._reduceControls(n);return new lg(i,r)}control(n,r,i){let o={};return this.useNonNullable?(ib(r)?o=r:(o.validators=r,o.asyncValidators=i),new Uu(n,W(C({},o),{nonNullable:!0}))):new Uu(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new ug(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Uu)return n;if(n instanceof Co)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Tb=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:pg,useValue:n.callSetDisabledState??Zu}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Rt({type:e})}static{this.\u0275inj=Nt({imports:[Sb]})}}return e})(),No=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Cb,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:pg,useValue:n.callSetDisabledState??Zu}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Rt({type:e})}static{this.\u0275inj=Nt({imports:[Sb]})}}return e})();var Qu=class e{constructor(t){this.http=t}baseUrl="https://alien-trainer-384312-default-rtdb.firebaseio.com/";create(t){return this.http.post(`${this.baseUrl}dgrk/comptes.json`,t)}get(){return this.http.get(`${this.baseUrl}dgrk/comptes.json`)}getById(t){return this.http.get(`${this.baseUrl}dgrk/comptes/${t}.json`)}update(t){return this.http.put(`${this.baseUrl}dgrk/comptes/${t.id}.json`,t)}delete(t){return this.http.delete(`${this.baseUrl}dgrk/comptes/${t}.json`)}static \u0275fac=function(n){return new(n||e)(M(xs))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};function PU(e,t){e&1&&(f(0,"td",44),m(1,"Actif"),h())}function kU(e,t){e&1&&(f(0,"td",45),m(1,"Inactif"),h())}function FU(e,t){if(e&1){let n=Ki();f(0,"tr")(1,"td"),m(2),h(),f(3,"td"),m(4),h(),f(5,"td"),m(6),h(),Lr(7,PU,2,0,"td",44)(8,kU,2,0,"td",45),f(9,"td")(10,"button",50),X("click",function(){let i=Zn(n).$implicit,o=Zi();return Qn(o.onGetById(i.id))}),_(11,"i",51),h(),m(12," \xA0 "),f(13,"button",52),X("click",function(){let i=Zn(n).$implicit,o=Zi();return Qn(o.onDelete(i.id))}),_(14,"i",53),h()()()}if(e&2){let n=t.$implicit;j(2),Ae(n.username),j(2),Ae(n.email),j(2),Ae(n.role),j(),En(n.status=="Actif"?7:-1),j(),En(n.status=="Inactif"?8:-1)}}function LU(e,t){e&1&&(f(0,"h2"),m(1,"Aucun compte"),h())}var Ju=class e{constructor(t,n){this.formBuilder=t;this.compteService=n;this.compteForm=this.formBuilder.group({id:null,username:[""],email:[""],password:[""],role:[""],status:[""]}),this.compteUpdateForm=this.formBuilder.group({id:[""],username:[""],email:[""],password:[""],role:[""],status:[""]})}compteForm;compteUpdateForm;data;ngOnInit(){this.onGet()}onAdd(){confirm("Voulez-vous ajouter cette information")&&this.compteService.create(this.compteForm.value).subscribe({next:t=>{alert("Compte cr\xE9e avec success"),this.onGet()},error:t=>console.log(t)})}onGet(){this.compteService.get().subscribe({next:t=>{this.data=Object.keys(t).map(n=>C({id:n},t[n]))},error:t=>console.log(t)})}onDelete(t){confirm("Voulez-vous supprimer cette information")&&this.compteService.delete(t).subscribe({next:n=>{this.onGet()},error:n=>console.log(n)})}onUpdate(){confirm("Voulez-vous modifier cette information")&&this.compteService.update(this.compteUpdateForm.value).subscribe({next:t=>{this.onGet()},error:t=>console.log(t)})}onGetById(t){this.compteService.getById(t).subscribe({next:n=>{this.compteUpdateForm=this.formBuilder.group({id:t,username:n.username,email:n.email,password:n.password,role:n.role,status:n.status})},error:n=>console.log(n)})}static \u0275fac=function(n){return new(n||e)(R(Mo),R(Qu))};static \u0275cmp=re({type:e,selectors:[["app-comptes"]],standalone:!0,features:[ie],decls:141,vars:3,consts:[["id","pcoded",1,"pcoded"],[1,"pcoded-overlay-box"],[1,"pcoded-container","navbar-wrapper"],[1,"pcoded-main-container"],[1,"pcoded-wrapper"],[1,"pcoded-content"],[1,"pcoded-inner-content"],[1,"main-body"],[1,"page-wrapper"],[1,"page-body"],[1,"card"],[1,"card-header"],[1,"card-header-right"],[1,"list-unstyled","card-option"],[1,"icofont","icofont-simple-left"],[1,"icofont","icofont-maximize","full-card"],[3,"click"],[1,"icofont","icofont-refresh","reload-card"],["data-bs-toggle","modal","data-bs-target","#exampleModal"],[1,"icofont","icofont-plus"],[1,"card-block","table-border-style"],[1,"table-responsive"],[1,"table","table-hover"],["id","styleSelector"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],[3,"formGroup"],[1,"row"],[1,"col"],[1,"mb-3"],["for","username",1,"col-form-label"],["type","text","id","username","formControlName","username",1,"form-control"],["for","email",1,"col-form-label"],["type","email","id","email","formControlName","email",1,"form-control"],["for","password",1,"col-form-label"],["type","password","id","password","formControlName","password",1,"form-control"],["for","role",1,"col-form-label"],["id","role","formControlName","role",1,"form-control"],["for","status",1,"col-form-label"],["id","status","formControlName","status",1,"form-control"],[1,"badge","badge-primary"],[1,"badge","badge-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","exampleUpdateModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["data-bs-toggle","modal","data-bs-target","#exampleUpdateModal",1,"btn","btn-primary","btn-icon",3,"click"],[1,"icofont","icofont-list"],[1,"btn","btn-danger","btn-icon",3,"click"],[1,"icofont","icofont-trash"]],template:function(n,r){n&1&&(_(0,"app-loader"),f(1,"div",0),_(2,"div",1),f(3,"div",2),_(4,"app-header"),f(5,"div",3)(6,"div",4),_(7,"app-side-nav"),f(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"h5"),m(16,"Comptes Agents"),h(),f(17,"div",12)(18,"ul",13)(19,"li"),_(20,"i",14),h(),f(21,"li"),_(22,"i",15),h(),f(23,"li",16),X("click",function(){return r.onGet()}),_(24,"i",17),h(),f(25,"li",18),_(26,"i",19),h()()()(),f(27,"div",20)(28,"div",21)(29,"table",22)(30,"thead")(31,"tr")(32,"th"),m(33,"Username"),h(),f(34,"th"),m(35,"Email"),h(),f(36,"th"),m(37,"Role"),h(),f(38,"th"),m(39,"Status"),h(),f(40,"th"),m(41,"Actions"),h()()(),f(42,"tbody"),Rl(43,FU,15,5,"tr",null,Nl,!1,LU,2,0,"h2"),h()()()()()()(),_(46,"div",23),h()()()()(),f(47,"div",24)(48,"div",25)(49,"div",26)(50,"div",27)(51,"h5",28),m(52,"Formulaire"),h()(),f(53,"div",29)(54,"form",30)(55,"div",31)(56,"div",32)(57,"div",33)(58,"label",34),m(59,"Username"),h(),_(60,"input",35),h()(),f(61,"div",32)(62,"div",33)(63,"label",36),m(64,"Email"),h(),_(65,"input",37),h()()(),f(66,"div",31)(67,"div",32)(68,"div",33)(69,"label",38),m(70,"Password"),h(),_(71,"input",39),h()(),f(72,"div",32)(73,"div",33)(74,"label",40),m(75,"Role"),h(),f(76,"select",41)(77,"option"),m(78,"Admin"),h(),f(79,"option"),m(80,"Client"),h()()()()(),f(81,"div",33)(82,"label",42),m(83,"Status"),h(),f(84,"select",43)(85,"option",44),m(86," Actif"),h(),f(87,"option",45),m(88,"Inactif"),h()()()()(),f(89,"div",46)(90,"button",47),m(91,"Close"),h(),f(92,"button",48),X("click",function(){return r.onAdd()}),m(93,"Ajouter"),h()()()()(),f(94,"div",49)(95,"div",25)(96,"div",26)(97,"div",27)(98,"h5",28),m(99,"Formulaire"),h()(),f(100,"div",29)(101,"form",30)(102,"div",31)(103,"div",32)(104,"div",33)(105,"label",34),m(106,"Username"),h(),_(107,"input",35),h()(),f(108,"div",32)(109,"div",33)(110,"label",36),m(111,"Email"),h(),_(112,"input",37),h()()(),f(113,"div",31)(114,"div",32)(115,"div",33)(116,"label",38),m(117,"Password"),h(),_(118,"input",39),h()(),f(119,"div",32)(120,"div",33)(121,"label",40),m(122,"Role"),h(),f(123,"select",41)(124,"option"),m(125,"Admin"),h(),f(126,"option"),m(127,"Client"),h()()()()(),f(128,"div",33)(129,"label",42),m(130,"Status"),h(),f(131,"select",43)(132,"option",44),m(133," Actif"),h(),f(134,"option",45),m(135,"Inactif"),h()()()()(),f(136,"div",46)(137,"button",47),m(138,"Close"),h(),f(139,"button",48),X("click",function(){return r.onUpdate()}),m(140,"Modifier"),h()()()()()()()),n&2&&(j(43),xl(r.data),j(11),ct("formGroup",r.compteForm),j(47),ct("formGroup",r.compteUpdateForm))},dependencies:[vt,yt,No,So,To,Ao,yr,_r,bo,Do,ai,ci,_t]})};var Ro=class e{constructor(t){this.http=t}baseUrl="https://alien-trainer-384312-default-rtdb.firebaseio.com/";create(t){return this.http.post(`${this.baseUrl}dgrk/paiement.json`,t)}get(){return this.http.get(`${this.baseUrl}dgrk/paiement.json`)}getById(t){return this.http.get(`${this.baseUrl}dgrk/paiement/${t}.json`)}update(t){return this.http.put(`${this.baseUrl}dgrk/paiement/${t.id}.json`,t)}delete(t){return this.http.delete(`${this.baseUrl}dgrk/paiement/${t}.json`)}static \u0275fac=function(n){return new(n||e)(M(xs))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};function VU(e,t){if(e&1){let n=Ki();f(0,"tr")(1,"td"),m(2),h(),f(3,"td"),m(4),h(),f(5,"td"),m(6),h(),f(7,"td"),m(8),h(),f(9,"td"),m(10),h(),f(11,"td"),m(12),h(),f(13,"td"),m(14),h(),f(15,"td"),m(16),h(),f(17,"td"),m(18),h(),f(19,"td"),m(20),h(),f(21,"td")(22,"button",54),X("click",function(){let i=Zn(n).$implicit,o=Zi();return Qn(o.onGetById(i.id))}),_(23,"i",55),h(),m(24," \xA0 "),f(25,"button",56),X("click",function(){let i=Zn(n).$implicit,o=Zi();return Qn(o.onDelete(i.id))}),_(26,"i",57),h()()()}if(e&2){let n=t.$implicit;j(2),Ae(n.noms),j(2),Ae(n.entreprise),j(2),Ae(n.phone),j(2),Ae(n.montant),j(2),Ae(n.device),j(2),Ae(n.statut),j(2),Ae(n.motif),j(2),Ae(n.modepaye),j(2),Ae(n.reference),j(2),Ae(n.date)}}function UU(e,t){e&1&&(f(0,"h2"),m(1,"Aucun paiement"),h())}var Xu=class e{constructor(t,n){this.paiement=t;this.formBuilder=n;let i=new Date().toISOString().substring(0,10);console.log(i),this.paiementForm=this.formBuilder.group({id:null,noms:["",ye.required],entreprise:["",ye.required],montant:["",ye.required],device:["",ye.required],motif:["",ye.required],statut:["",ye.required],reference:["",ye.required],modepaye:["",ye.required],date:i}),this.paiementUpdateForm=this.formBuilder.group({id:null,noms:[""],entreprise:[""],montant:[""],device:[""],motif:[""],statut:[""],reference:[""],modepaye:[""],date:i})}paiementForm;paiementUpdateForm;data;ngOnInit(){this.onGet()}onAdd(){if(!this.paiementForm){alert("Veuillez remplir correctement le formulaire.");return}confirm("Voulez-vous ajouter cette information")&&this.paiement.create(this.paiementForm.value).subscribe({next:t=>{alert("Paiement cr\xE9e avec success"),this.onGet()},error:t=>console.log(t)})}onGet(){this.paiement.get().subscribe({next:t=>{this.data=Object.keys(t).map(n=>C({id:n},t[n]))},error:t=>console.log(t)})}onDelete(t){confirm("Voulez-vous supprimer cette information")&&this.paiement.delete(t).subscribe({next:n=>{this.onGet()},error:n=>console.log(n)})}onUpdate(){confirm("Voulez-vous modifier cette information")&&this.paiement.update(this.paiementUpdateForm.value).subscribe({next:t=>{this.onGet()},error:t=>console.log(t)})}onGetById(t){this.paiement.getById(t).subscribe({next:n=>{this.paiementUpdateForm=this.formBuilder.group({id:t,noms:n.noms,entreprise:n.entreprise,montant:n.montant,device:n.device,statut:n.statut,reference:n.reference,motif:n.motif,modepaye:n.modepaye,date:n.date})},error:n=>console.log(n)})}getDate(){return new Date().toISOString().substring(0,10).toString()}static \u0275fac=function(n){return new(n||e)(R(Ro),R(Mo))};static \u0275cmp=re({type:e,selectors:[["app-paiements"]],standalone:!0,features:[ie],decls:206,vars:3,consts:[["id","pcoded",1,"pcoded"],[1,"pcoded-overlay-box"],[1,"pcoded-container","navbar-wrapper"],[1,"pcoded-main-container"],[1,"pcoded-wrapper"],[1,"pcoded-content"],[1,"pcoded-inner-content"],[1,"main-body"],[1,"page-wrapper"],[1,"page-body"],[1,"card"],[1,"card-header"],[1,"card-header-right"],[1,"list-unstyled","card-option"],[1,"icofont","icofont-simple-left"],[1,"icofont","icofont-maximize","full-card"],[3,"click"],[1,"icofont","icofont-refresh","reload-card"],["data-bs-toggle","modal","data-bs-target","#exampleModal"],[1,"icofont","icofont-plus"],[1,"card-block","table-border-style"],[1,"table-responsive"],[1,"table","table-hover"],["id","styleSelector"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],[3,"formGroup"],[1,"row"],[1,"col"],[1,"mb-3"],["for","noms",1,"col-form-label"],["type","text","id","noms","formControlName","noms",1,"form-control"],["for","entreprise",1,"col-form-label"],["type","text","id","entreprise","formControlName","entreprise",1,"form-control"],["for","montant",1,"col-form-label"],["type","number","id","montant","formControlName","montant",1,"form-control"],["for","device",1,"col-form-label"],["id","device","formControlName","device",1,"form-control"],["for","statut",1,"col-form-label"],["formControlName","statut",1,"form-control"],["for","motif",1,"col-form-label"],["type","text","id","motif","formControlName","motif",1,"form-control"],["for","modepaye",1,"col-form-label"],["id","modepaye","formControlName","modepaye",1,"form-control"],["type","text","id","reference","formControlName","reference",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","exampleUpdateModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["formControlName","montant",1,"form-control"],["data-bs-toggle","modal","data-bs-target","#exampleUpdateModal",1,"btn","btn-primary","btn-icon",3,"click"],[1,"icofont","icofont-list"],[1,"btn","btn-danger","btn-icon",3,"click"],[1,"icofont","icofont-trash"]],template:function(n,r){n&1&&(_(0,"app-loader"),f(1,"div",0),_(2,"div",1),f(3,"div",2),_(4,"app-header"),f(5,"div",3)(6,"div",4),_(7,"app-side-nav"),f(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"h5"),m(16,"Paiements"),h(),f(17,"div",12)(18,"ul",13)(19,"li"),_(20,"i",14),h(),f(21,"li"),_(22,"i",15),h(),f(23,"li",16),X("click",function(){return r.onGet()}),_(24,"i",17),h(),f(25,"li",18),_(26,"i",19),h()()()(),f(27,"div",20)(28,"div",21)(29,"table",22)(30,"thead")(31,"tr")(32,"th"),m(33,"Noms Remettant"),h(),f(34,"th"),m(35,"Entreprise"),h(),f(36,"th"),m(37,"Telephone"),h(),f(38,"th"),m(39,"Montant"),h(),f(40,"th"),m(41,"Device"),h(),f(42,"th"),m(43,"Statut"),h(),f(44,"th"),m(45,"Motif"),h(),f(46,"th"),m(47,"Mode de paiement"),h(),f(48,"th"),m(49,"Reference"),h(),f(50,"th"),m(51,"Date"),h(),f(52,"th"),m(53,"Actions"),h()()(),f(54,"tbody"),Rl(55,VU,27,10,"tr",null,Nl,!1,UU,2,0,"h2"),h()()()()()()(),_(58,"div",23),h()()()()(),f(59,"div",24)(60,"div",25)(61,"div",26)(62,"div",27)(63,"h5",28),m(64,"Formulaire"),h()(),f(65,"div",29)(66,"form",30)(67,"div",31)(68,"div",32)(69,"div",33)(70,"label",34),m(71,"Noms remettant"),h(),_(72,"input",35),h()(),f(73,"div",32)(74,"div",33)(75,"label",36),m(76,"Entreprise"),h(),_(77,"input",37),h()()(),f(78,"div",31)(79,"div",32)(80,"div",33)(81,"label",38),m(82,"Montant"),h(),_(83,"input",39),h()(),f(84,"div",32)(85,"div",33)(86,"label",40),m(87,"device"),h(),f(88,"select",41)(89,"option"),m(90,"USD"),h(),f(91,"option"),m(92,"CDF"),h()()()()(),f(93,"div",31)(94,"div",32)(95,"div",33)(96,"label",42),m(97,"Statut"),h(),f(98,"select",43)(99,"option"),m(100,"Personne Physique"),h(),f(101,"option"),m(102,"Industriel"),h(),f(103,"option"),m(104,"Commercial"),h()()()(),f(105,"div",32)(106,"div",33)(107,"label",44),m(108,"Motif"),h(),_(109,"input",45),h()()(),f(110,"div",31)(111,"div",32)(112,"div",33)(113,"label",46),m(114,"Mode de paiement"),h(),f(115,"select",47)(116,"option"),m(117,"Mobile Money"),h(),f(118,"option"),m(119,"Banque"),h(),f(120,"option"),m(121,"Espece"),h()()(),f(122,"div",32)(123,"div",33)(124,"label",40),m(125,"Reference paiement"),h(),_(126,"input",48),h()()()()()(),f(127,"div",49)(128,"button",50),m(129,"Close"),h(),f(130,"button",51),X("click",function(){return r.onAdd()}),m(131,"Ajouter"),h()()()()(),f(132,"div",52)(133,"div",25)(134,"div",26)(135,"div",27)(136,"h5",28),m(137,"Formulaire"),h()(),f(138,"div",29)(139,"form",30)(140,"div",31)(141,"div",32)(142,"div",33)(143,"label",34),m(144,"Noms remettant"),h(),_(145,"input",35),h()(),f(146,"div",32)(147,"div",33)(148,"label",36),m(149,"Entreprise"),h(),_(150,"input",37),h()()(),f(151,"div",31)(152,"div",32)(153,"div",33)(154,"label",38),m(155,"Montant"),h(),f(156,"label",53),m(157,"XXXXX"),h()()(),f(158,"div",32)(159,"div",33)(160,"label",40),m(161,"device"),h(),f(162,"select",41)(163,"option"),m(164,"USD"),h(),f(165,"option"),m(166,"CDF"),h()()()()(),f(167,"div",31)(168,"div",32)(169,"div",33)(170,"label",42),m(171,"Statut"),h(),f(172,"select",43)(173,"option"),m(174,"Personne Physique"),h(),f(175,"option"),m(176,"Industriel"),h(),f(177,"option"),m(178,"Commercial"),h()()()(),f(179,"div",32)(180,"div",33)(181,"label",44),m(182,"Motif"),h(),_(183,"input",45),h()()(),f(184,"div",31)(185,"div",32)(186,"div",33)(187,"label",46),m(188,"Mode de paiement"),h(),f(189,"select",47)(190,"option"),m(191,"Mobile Money"),h(),f(192,"option"),m(193,"Banque"),h(),f(194,"option"),m(195,"Espece"),h()()()(),f(196,"div",32)(197,"div",33)(198,"label",40),m(199,"Reference paiement"),h(),_(200,"input",48),h()()()()(),f(201,"div",49)(202,"button",50),m(203,"Close"),h(),f(204,"button",51),X("click",function(){return r.onUpdate()}),m(205,"Modifier"),h()()()()()()()),n&2&&(j(55),xl(r.data),j(11),ct("formGroup",r.paiementForm),j(73),ct("formGroup",r.paiementUpdateForm))},dependencies:[vt,yt,_t,No,So,To,Ao,yr,Ca,_r,bo,Do,ai,ci]})};var ed=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=re({type:e,selectors:[["app-transfert"]],standalone:!0,features:[ie],decls:14,vars:0,consts:[["id","pcoded",1,"pcoded"],[1,"pcoded-overlay-box"],[1,"pcoded-container","navbar-wrapper"],[1,"pcoded-main-container"],[1,"pcoded-wrapper"],[1,"pcoded-content"],[1,"pcoded-inner-content"],[1,"main-body"],[1,"page-wrapper"],[1,"page-body"],["id","styleSelector"]],template:function(n,r){n&1&&(_(0,"app-loader"),f(1,"div",0),_(2,"div",1),f(3,"div",2),_(4,"app-header"),f(5,"div",3)(6,"div",4),_(7,"app-side-nav"),f(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),_(12,"div",9),h(),_(13,"div",10),h()()()()()()())},dependencies:[vt,yt,_t]})};var td=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=re({type:e,selectors:[["app-parametre"]],standalone:!0,features:[ie],decls:14,vars:0,consts:[["id","pcoded",1,"pcoded"],[1,"pcoded-overlay-box"],[1,"pcoded-container","navbar-wrapper"],[1,"pcoded-main-container"],[1,"pcoded-wrapper"],[1,"pcoded-content"],[1,"pcoded-inner-content"],[1,"main-body"],[1,"page-wrapper"],[1,"page-body"],["id","styleSelector"]],template:function(n,r){n&1&&(_(0,"app-loader"),f(1,"div",0),_(2,"div",1),f(3,"div",2),_(4,"app-header"),f(5,"div",3)(6,"div",4),_(7,"app-side-nav"),f(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),_(12,"div",9),h(),_(13,"div",10),h()()()()()()())},dependencies:[vt,yt,_t]})};var xo=(e,t)=>{let n=E(an),r=E(Dn);return n.isAuthenticated()?!0:(alert("Veuillez vous connecter"),r.navigate(["/auth/login"]),!1)};function jU(e,t){e&1&&(f(0,"div",8)(1,"label",12),m(2,"Num\xE9ro Mobile Money:"),h(),_(3,"input",13),h())}function BU(e,t){e&1&&(f(0,"div",9)(1,"label",14),m(2,"Num\xE9ro de Carte:"),h(),_(3,"input",15),f(4,"label",16),m(5,"Date d'Expiration:"),h(),_(6,"input",17),f(7,"label",18),m(8,"CVV:"),h(),_(9,"input",19),h())}function $U(e,t){e&1&&(f(0,"div",10)(1,"label",20),m(2,"Num\xE9ro de Compte Bancaire:"),h(),_(3,"input",21),h())}var nd=class e{activeForm="mobile_money";constructor(){}ngOnInit(){}changeActiveForm(t){this.activeForm=t}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=re({type:e,selectors:[["app-form-pay"]],standalone:!0,features:[ie],decls:23,vars:6,consts:[[1,"payment-container"],["id","paymentForm"],[1,"payment-method"],["type","radio","name","method","value","mobile_money",3,"change","checked"],[1,"method-label"],["type","radio","name","method","value","visa",3,"change","checked"],["type","radio","name","method","value","bank",3,"change","checked"],[1,"form-content"],[1,"mobile-money-form"],[1,"visa-form"],[1,"bank-form"],["type","submit"],["for","mobile-number"],["type","text","id","mobile-number","placeholder","Ex: +243 816 717 846"],["for","card-number"],["type","text","id","card-number","placeholder","1234 5678 9012 3456"],["for","expiry"],["type","month","id","expiry"],["for","cvv"],["type","text","id","cvv","placeholder","123"],["for","account-number"],["type","text","id","account-number","placeholder","Ex: 1234567890"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"h1"),m(2,"Formulaire de Paiement"),h(),f(3,"form",1)(4,"div",2)(5,"label")(6,"input",3),X("change",function(){return r.changeActiveForm("mobile_money")}),h(),f(7,"span",4),m(8,"Mobile Money"),h()(),f(9,"label")(10,"input",5),X("change",function(){return r.changeActiveForm("visa")}),h(),f(11,"span",4),m(12,"Carte Visa"),h()(),f(13,"label")(14,"input",6),X("change",function(){return r.changeActiveForm("bank")}),h(),f(15,"span",4),m(16,"Paiement Bancaire"),h()()(),f(17,"div",7),Lr(18,jU,4,0,"div",8)(19,BU,10,0,"div",9)(20,$U,4,0,"div",10),h(),f(21,"button",11),m(22,"Payer Maintenant"),h()()()),n&2&&(j(6),ct("checked",r.activeForm=="mobile_money"),j(4),ct("checked",r.activeForm==="visa"),j(4),ct("checked",r.activeForm==="bank"),j(4),En(r.activeForm=="mobile_money"?18:-1),j(),En(r.activeForm=="visa"?19:-1),j(),En(r.activeForm=="bank"?20:-1))},styles:[".payment-container[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:10px;box-shadow:0 8px 20px #0000001a;width:470px;margin:50px auto;text-align:center;font-family:Arial,sans-serif;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out}.payment-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#004080;font-size:24px;margin-bottom:20px}.payment-method[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:30px}.method-label[_ngcontent-%COMP%]{cursor:pointer;padding:10px 15px;border-radius:5px;border:2px solid #ddd;transition:all .3s;font-size:12px;color:#333}input[type=radio][_ngcontent-%COMP%]:checked + .method-label[_ngcontent-%COMP%]{background-color:#004080;color:#fff;border-color:#004080}.form-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:block;margin-bottom:20px;text-align:left}.form-content[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_slideIn .5s ease-in-out}.mobile-money-form[_ngcontent-%COMP%], .visa-form[_ngcontent-%COMP%], .bank-form[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;box-shadow:0 2px 10px #0000000d}label[_ngcontent-%COMP%]{font-weight:700;color:#555;display:block;margin-bottom:8px}input[type=text][_ngcontent-%COMP%], input[type=month][_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:14px}input[type=text][_ngcontent-%COMP%]:focus, input[type=month][_ngcontent-%COMP%]:focus{border-color:#004080;outline:none;box-shadow:0 0 5px #4caf5080}button[_ngcontent-%COMP%]{background-color:#004080;color:#fff;border:none;padding:12px 20px;font-size:16px;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out;width:100%}button[_ngcontent-%COMP%]:hover{background-color:#004080}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}"]})};function Mb(e,t){let n=`<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
    integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">`,r=document.getElementById(t)?.innerHTML,i=`<!DOCTYPE html><html><head>${n}</head><body onload="window.print()">${r}</html>`,o=null;navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(o=window.open("","_blank","width=1200,height=1200,scrollbars=no,menubar=no,toolbar=no,location=no,status=no,titlebar=no"),o&&(o.document.write(i),o.document.close(),o.focus(),o.onbeforeunload=()=>{o.close()},o.onabort=()=>{o.document.close(),o.close()})):(o=window.open("","_blank","width=1200,height=1200"),o&&(o.document.open(),o.document.write(i),o.document.close()))}var Oo=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=Rt({type:e});static \u0275inj=Nt({imports:[Kf]})};var rd=class e{ones=["","un","deux","trois","quatre","cinq","six","sept","huit","neuf"];teens=["dix","onze","douze","treize","quatorze","quinze","seize","dix-sept","dix-huit","dix-neuf"];tens=["","","vingt","trente","quarante","cinquante","soixante","soixante-dix","quatre-vingt","quatre-vingt-dix"];transform(t){return t===0?"z\xE9ro":this.convertToWords(t)}convertToWords(t){if(t<10)return this.ones[t];if(t<20)return this.teens[t-10];if(t<100){let n=Math.floor(t/10),r=t%10,i=this.tens[n];return r&&(i+="-"+this.ones[r]),i}else if(t<1e3){let n=Math.floor(t/100),r=t%100,i=n>1?this.ones[n]+"-cent":"cent";return r&&(i+=" "+this.convertToWords(r)),i}else if(t<1e6){let n=Math.floor(t/1e3),r=t%1e3,i=n>1?this.convertToWords(n)+" mille":"mille";return r&&(i+=" "+this.convertToWords(r)),i}else return"Nombre trop grand"}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=uf({name:"numberToWords",type:e,pure:!0})};var id=class e{constructor(t,n){this.formBuilder=t;this.paiement=n;this.paiementForm=this.formBuilder.group({id:null,noms:["",ye.required],entreprise:["",ye.required],montant:["",ye.required],device:["",ye.required],motif:["",ye.required],statut:["",ye.required],reference:["",ye.required],modepaye:["",ye.required],date:[""],phone:["",ye.required]})}formData={noms:"",entreprise:"",montant:0,device:"",modepaye:"",reference:""};nomsFac;agentFac;montantFac;dateNow;entrepriseFac;deviceFac;codeAlea;phoneFac;paiementForm;file=null;selectedFileName="";onSubmit(t){if(t.preventDefault(),!this.file){alert("Veuillez s\xE9lectionner un fichier.");return}}resetForm(){this.formData={noms:"",entreprise:"",montant:0,device:"",modepaye:"",reference:""},this.file=null}onFileSelected(t){let n=t.target.files[0];n&&(this.file=n,this.selectedFileName=n.name)}onDragOver(t){t.preventDefault(),document.getElementById("drop-zone")?.classList.add("dragging")}onDragLeave(t){t.preventDefault(),document.getElementById("drop-zone")?.classList.remove("dragging")}onDrop(t){t.preventDefault(),document.getElementById("drop-zone")?.classList.remove("dragging"),t.dataTransfer?.files.length&&(this.file=t.dataTransfer.files[0],this.selectedFileName=this.file.name)}onAdd(){if(!this.paiementForm){alert("Veuillez remplir correctement le formulaire.");return}let n=new Date().toISOString().substring(0,10);this.dateNow=n,this.paiementForm.controls.date.setValue(this.dateNow),this.nomsFac=this.paiementForm.controls.noms.value,this.montantFac=this.paiementForm.controls.montant.value,this.entrepriseFac=this.paiementForm.controls.entreprise.value,this.deviceFac=this.paiementForm.controls.device.value,this.phoneFac=this.paiementForm.controls.phone.value,this.generateCode(),confirm("Voulez-vous ajouter cette information")&&this.paiement.create(this.paiementForm.value).subscribe({next:r=>{alert("Paiement cr\xE9e avec success"),this.onPrint(this.paiementForm.controls.noms.value)},error:r=>console.log(r)})}onPrint(t){Mb(t,"printRecu")}test(){}generateCode(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="";for(let r=0;r<6;r++)n+=t.charAt(Math.floor(Math.random()*t.length));this.codeAlea=n}static \u0275fac=function(n){return new(n||e)(R(Mo),R(Ro))};static \u0275cmp=re({type:e,selectors:[["app-home-page"]],standalone:!0,features:[ie],decls:162,vars:11,consts:[[1,"navbar"],[1,"logo"],["routerLink","/auth/login",1,"admin-button"],[1,"icofont","icofont-user"],[1,"container"],[2,"text-align","center"],[1,"payment-form",3,"formGroup"],[1,"row"],[1,"col"],[1,"form-group"],["type","text","id","noms","name","noms","placeholder","Entrez votre nom","formControlName","noms","required",""],["type","text","id","entreprise","name","entreprise","placeholder","Entrez le nom de votre entreprise","formControlName","entreprise","required",""],["type","number","id","montant","name","montant","placeholder","Entrez le montant","formControlName","montant","required",""],["formControlName","device"],["formControlName","statut"],["type","text","id","device","name","impot","placeholder","Entrez le motif","formControlName","motif","required",""],["id","modepaye","formControlName","modepaye"],["type","text","id","reference","name","reference","placeholder","Entrez la r\xE9f\xE9rence","formControlName","reference","required",""],["href","","data-bs-toggle","modal","data-bs-target","#payeModal"],["type","phone","id","phone","name","phone","placeholder","Entrez le numero","formControlName","phone","required",""],[1,"submit-button",3,"click"],["id","payeModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],["id","recuPaye","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","printRecu",1,"modal-content"],[1,"note-container"],[1,"note-content"],[1,"note-header"],[1,"header-section-left"],[1,"header-section-right"],[1,"note-title"],[1,"note-details"],[1,"note-body"],[1,"note-footer"],[1,"footer-left"],[1,"footer-right"]],template:function(n,r){n&1&&(f(0,"header",0)(1,"div",1),m(2,"DGRK"),h(),f(3,"button",2),_(4,"i",3),m(5," Admin "),h()(),f(6,"main",4)(7,"h1",5),m(8,"Formulaire de Paiement de la DGRK"),h(),f(9,"form",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"label"),m(14,"Nom du remettant"),h(),_(15,"input",10),h()(),m(16," \xA0 "),f(17,"div",8)(18,"div",9)(19,"label"),m(20,"Entreprise"),h(),_(21,"input",11),h()()(),f(22,"div",7)(23,"div",8)(24,"div",9)(25,"label"),m(26,"Montant"),h(),_(27,"input",12),h()(),m(28," \xA0 "),f(29,"div",8)(30,"div",9)(31,"label"),m(32,"Device"),h(),f(33,"select",13)(34,"option"),m(35,"CDF"),h(),f(36,"option"),m(37,"USD"),h()()()()(),f(38,"div",7)(39,"div",8)(40,"div",9)(41,"label"),m(42,"Statut"),h(),f(43,"select",14)(44,"option"),m(45,"Personne Physique"),h(),f(46,"option"),m(47,"Industriel"),h(),f(48,"option"),m(49,"Commercial"),h()()()(),m(50," \xA0 "),f(51,"div",8)(52,"div",9)(53,"label"),m(54,"Impot du "),h(),_(55,"input",15),h()()(),f(56,"div",7)(57,"div",8)(58,"div",9)(59,"label"),m(60,"Mode de Paiement"),h(),f(61,"select",16)(62,"option"),m(63,"Mobile Money"),h(),f(64,"option"),m(65,"Banque"),h(),f(66,"option"),m(67,"Espece"),h()()()(),m(68," \xA0 "),f(69,"div",8)(70,"div",9)(71,"label"),m(72,"R\xE9f\xE9rence de Paiement"),h(),_(73,"input",17),h()()(),f(74,"div",7)(75,"div",8)(76,"h3")(77,"a",18),m(78,"Payez ici"),h()()(),f(79,"div",8)(80,"div",9)(81,"label"),m(82,"Telephone"),h(),_(83,"input",19),h()()()(),f(84,"button",20),X("click",function(){return r.onAdd()}),m(85,"Soumettre"),h()(),f(86,"div",21)(87,"div",22)(88,"div",23)(89,"div",24),_(90,"app-form-pay"),h()()()(),f(91,"div",25)(92,"div",22)(93,"div",26)(94,"div",27)(95,"div",28)(96,"header",29)(97,"div",30)(98,"h4"),m(99,"R\xC9PUBLIQUE D\xC9MOCRATIQUE DU CONGO"),h(),f(100,"p"),m(101,"VILLE DE KINSHASA"),h(),f(102,"p"),m(103,"MINIST\xC8RE DE L'\xC9CONOMIE ET DES FINANCES"),h()(),f(104,"div",31)(105,"p"),m(106,"DGRK"),h()()(),f(107,"h2",32),m(108),h(),f(109,"section",33)(110,"p")(111,"strong"),m(112,"Date :"),h(),m(113),h(),f(114,"p")(115,"strong"),m(116,"Nom ou Raison Sociale :"),h(),m(117),h(),f(118,"p")(119,"strong"),m(120,"T\xE9l\xE9phone :"),h(),m(121),h(),f(122,"p")(123,"strong"),m(124,"Adresse :"),h(),m(125,"XXX"),h()(),f(126,"section",34)(127,"p"),m(128," Le Receveur des Recettes Fiscales certifie par la pr\xE9sente que le contribuable ci-dessus nomm\xE9 a d\xE9pos\xE9 ce jour en nos bureaux la d\xE9claration de "),f(129,"strong"),m(130,"\xAB Imp\xF4t Foncier \xBB"),h(),m(131," pour l'exercice 2023 pour un montant d\xE9clar\xE9 de "),f(132,"strong"),m(133),h(),m(134,", soit la somme de "),f(135,"strong"),m(136),Fw(137,"numberToWords"),h(),m(138,". "),h(),f(139,"p"),m(140," \xC0 verser \xE0 l'un des comptes ci-dessous du Receveur des recettes fiscales de la DGRK : "),h()(),f(141,"section",35)(142,"div",36)(143,"p")(144,"strong"),m(145,"Fait pour valoir ce que de droit"),h()(),f(146,"p"),m(147,"Saisie par : "),f(148,"strong"),m(149,"THADEE BESOLO"),h()(),f(150,"p"),m(151,"Imprim\xE9 par : "),f(152,"strong"),m(153,"CENTRE DE RECETTES DE GOMBE"),h()()(),f(154,"div",37)(155,"p")(156,"strong"),m(157,"THADEE BESOLO"),h()(),f(158,"p"),m(159,"RECEVEUR FISCALE. Direction des Imp\xF4ts"),h(),f(160,"p"),m(161,"Tampon de l'Administration"),h()()()()()()()()),n&2&&(j(9),ct("formGroup",r.paiementForm),j(99),Qi("NOTE DE PERCEPTION N\xB0 ",r.codeAlea,""),j(5),Qi(" ",r.dateNow,""),j(4),Ol(" ",r.nomsFac," | ",r.entrepriseFac,""),j(4),Qi(" ",r.phoneFac,""),j(12),Ol("",r.montantFac," ",r.deviceFac,""),j(3),Ae(Lw(137,9,r.montantFac)))},dependencies:[su,No,So,To,Ao,yr,Ca,_r,bo,Do,gg,ai,ci,nd,Tb,Oo,rd],styles:["body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background:linear-gradient(to bottom right,#f0f8ff,#e6f7ff);color:#333;margin:0;padding:0}.navbar[_ngcontent-%COMP%]{background-color:#036;color:#fff;padding:10px 20px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 5px #0003}.logo[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700}.admin-button[_ngcontent-%COMP%]{background-color:#004080;color:#fff;border:none;padding:10px 15px;font-size:1em;border-radius:5px;cursor:pointer;transition:transform .3s ease}.admin-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.container[_ngcontent-%COMP%]{max-width:800px;margin:30px auto;background:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:1.8em;text-align:center;margin-bottom:20px;color:#004080}.payment-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:20px}.payment-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .payment-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;transition:box-shadow .3s ease,border-color .3s ease}.payment-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#004080;box-shadow:0 0 5px #00408080;outline:none}.payment-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#004080;box-shadow:0 0 5px #00408080;outline:none}.drop-zone[_ngcontent-%COMP%]{border:2px dashed #ccc;padding:20px;text-align:center;color:#666;background-color:#fafafa;border-radius:10px;transition:background-color .3s ease,border-color .3s ease;cursor:pointer}.drop-zone.dragging[_ngcontent-%COMP%]{background-color:#e6f7ff;border-color:#004080;color:#004080}.submit-button[_ngcontent-%COMP%]{background-color:#004080;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;font-size:1em;transition:transform .3s ease,background-color .3s ease;width:100%;margin-top:15px}.submit-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#036}.note-container[_ngcontent-%COMP%]{max-width:500px;width:100%;margin:0 auto;padding:20px;background:#fff;border:1px solid #ccc;border-radius:5px;box-shadow:0 0 10px #0000001a}.note-content[_ngcontent-%COMP%]{padding:20px;background-color:#fff}.note-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #000;padding-bottom:10px;margin-bottom:20px}.header-section-left[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:700}.note-logo[_ngcontent-%COMP%]{max-width:80px;height:auto}.note-title[_ngcontent-%COMP%]{text-align:center;font-size:16px;margin-bottom:20px}.note-details[_ngcontent-%COMP%]{margin-bottom:20px}.note-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.note-table[_ngcontent-%COMP%]{width:50%;border-collapse:collapse;margin-bottom:20px}.note-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .note-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #000;padding:8px;text-align:left}.note-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.footer-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .footer-right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:14px}.footer-right[_ngcontent-%COMP%]{text-align:right}"]})};var Nb=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"auth/login",component:ku},{path:"home",component:id},{path:"auth/register",component:Fu},{path:"dashboard/home",component:Lu,canActivate:[xo]},{path:"dashboard/comptes",component:Ju,canActivate:[xo]},{path:"dashboard/paiements",component:Xu,canActivate:[xo]},{path:"dashboard/transfert",component:ed,canActivate:[xo]},{path:"dashboard/parametre",component:td,canActivate:[xo]}];var Rb="@firebase/database",xb="1.0.8";var mv="";function WU(e){mv=e}var Dg=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Me(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ho(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var Sg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return en(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var uD=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Dg(t)}}catch{}return new Sg},ui=uD("localStorage"),Tg=uD("sessionStorage");var Lo=new ar("@firebase/database"),zU=function(){let e=1;return function(){return e++}}(),dD=function(e){let t=OC(e),n=new au;n.update(t);let r=n.digest();return cu.encodeByteArray(r)},Fa=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Fa.apply(null,r):typeof r=="object"?t+=Me(r):t+=r,t+=" "}return t},di=null,Ob=!0,GU=function(e,t){b(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Lo.logLevel=ne.VERBOSE,di=Lo.log.bind(Lo),t&&Tg.set("logging_enabled",!0)):typeof e=="function"?di=e:(di=null,Tg.remove("logging_enabled"))},Ve=function(...e){if(Ob===!0&&(Ob=!1,di===null&&Tg.get("logging_enabled")===!0&&GU(!0)),di){let t=Fa.apply(null,e);di(t)}},La=function(e){return function(...t){Ve(e,...t)}},Ag=function(...e){let t="FIREBASE INTERNAL ERROR: "+Fa(...e);Lo.error(t)},Pn=function(...e){let t=`FIREBASE FATAL ERROR: ${Fa(...e)}`;throw Lo.error(t),new Error(t)},ht=function(...e){let t="FIREBASE WARNING: "+Fa(...e);Lo.warn(t)},qU=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},hD=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},YU=function(e){if(Xt()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Uo="[MIN_NAME]",hi="[MAX_NAME]",Go=function(e,t){if(e===t)return 0;if(e===Uo||t===hi)return-1;if(t===Uo||e===hi)return 1;{let n=Pb(e),r=Pb(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},KU=function(e,t){return e===t?0:e<t?-1:1},ba=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Me(t))},gv=function(e){if(typeof e!="object"||e===null)return Me(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Me(t[r]),n+=":",n+=gv(e[t[r]]);return n+="}",n},fD=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function It(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var pD=function(e){b(!hD(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,c;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let p=parseInt(u.substr(c,8),2).toString(16);p.length===1&&(p="0"+p),d=d+p}return d.toLowerCase()},ZU=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},QU=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var JU=new RegExp("^-?(0*)\\d{1,10}$"),XU=-2147483648,ej=2147483647,Pb=function(e){if(JU.test(e)){let t=Number(e);if(t>=XU&&t<=ej)return t}return null},Va=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw ht("Exception was thrown by user callback.",n),t},Math.floor(0))}},tj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ma=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Mg=class{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Ng=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ve("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ht(t)}},Na=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),sd="5",mD="v",gD="s",vD="r",yD="f",_D=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ED="ls",wD="p",Rg="ac",ID="websocket",CD="long_polling";var ad=class{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ui.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ui.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function nj(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function bD(e,t,n){b(typeof t=="string","typeof type must == string"),b(typeof n=="object","typeof params must == object");let r;if(t===ID)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===CD)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);nj(e)&&(n.ns=e.namespace);let i=[];return It(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var xg=class{constructor(){this.counters_={}}incrementCounter(t,n=1){en(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return wC(this.counters_)}};var yg={},_g={};function vv(e){let t=e.toString();return yg[t]||(yg[t]=new xg),yg[t]}function rj(e,t){let n=e.toString();return _g[n]||(_g[n]=t()),_g[n]}var Og=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Va(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var kb="start",ij="close",oj="pLPCommand",sj="pRTLPCB",DD="id",SD="pw",TD="ser",aj="cb",cj="seg",lj="ts",uj="d",dj="dframe",AD=1870,MD=30,hj=AD-MD,fj=25e3,pj=3e4,Pg=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=La(t),this.stats_=vv(n),this.urlFn=c=>(this.appCheckToken&&(c[Rg]=this.appCheckToken),bD(n,CD,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Og(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(pj)),YU(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kg((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===kb)this.id=a,this.password=c;else if(s===ij)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[kb]="t",r[TD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[aj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[mD]=sd,this.transportSessionId&&(r[gD]=this.transportSessionId),this.lastSessionId&&(r[ED]=this.lastSessionId),this.applicationId&&(r[wD]=this.applicationId),this.appCheckToken&&(r[Rg]=this.appCheckToken),typeof location<"u"&&location.hostname&&_D.test(location.hostname)&&(r[vD]=yD);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Xt()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ZU()&&!QU()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=Me(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Xp(n),i=fD(r,hj);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Xt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[dj]="t",r[DD]=t,r[SD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=Me(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},kg=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Xt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=zU(),window[oj+this.uniqueCallbackIdentifier]=t,window[sj+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ve("frame writing exception"),a.stack&&Ve(a.stack),Ve(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ve("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[DD]=this.myID,t[SD]=this.myPW,t[TD]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+MD+r.length<=AD;){let s=this.pendingSegs.shift();r=r+"&"+cj+i+"="+s.seg+"&"+lj+i+"="+s.ts+"&"+uj+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(fj)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){Xt()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ve("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var mj=16384,gj=45e3,cd=null;typeof MozWebSocket<"u"?cd=MozWebSocket:typeof WebSocket<"u"&&(cd=WebSocket);var Da=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=La(this.connId),this.stats_=vv(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[mD]=sd,!Xt()&&typeof location<"u"&&location.hostname&&_D.test(location.hostname)&&(a[vD]=yD),r&&(a[gD]=r),i&&(a[ED]=i),o&&(a[Rg]=o),s&&(a[wD]=s),bD(n,ID,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ui.set("previous_websocket_failure",!0);try{let i;if(Xt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${sd}/${mv}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new cd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&cd!==null&&!e.forceDisallow_}static previouslyFailed(){return ui.isInMemoryStorage||ui.get("previous_websocket_failure")===!0}markConnectionHealthy(){ui.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=ho(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(b(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Me(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=fD(r,mj);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(gj))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),vj=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Pg,Da]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Da&&Da.isAvailable(),i=r&&!Da.previouslyFailed();if(n.webSocketOnly&&(r||ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Da];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),yj=6e4,_j=5e3,Ej=10*1024,wj=100*1024,Eg="t",Fb="d",Ij="s",Lb="r",Cj="e",Vb="o",Ub="a",jb="n",Bb="p",bj="h",Fg=class{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=La("c:"+this.id+":"),this.transportManager_=new vj(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ma(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>wj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ej?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Eg in t){let n=t[Eg];n===Ub?this.upgradeIfSecondaryHealthy_():n===Lb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Vb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=ba("t",t),r=ba("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Bb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ub,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:jb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=ba("t",t),r=ba("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=ba(Eg,t);if(Fb in t){let r=t[Fb];if(n===bj){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===jb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Ij?this.onConnectionShutdown_(r):n===Lb?this.onReset_(r):n===Cj?Ag("Server Error: "+r):n===Vb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ag("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),sd!==r&&ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ma(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(yj))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ma(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_j))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Bb,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var ld=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var ud=class{constructor(t){this.allowedEvents_=t,this.listeners_={},b(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){b(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var dd=class e extends ud{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!na()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new e}getInitialEvent(t){return b(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var $b=32,Hb=768,ce=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function oe(){return new ce("")}function Z(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function wr(e){return e.pieces_.length-e.pieceNum_}function le(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ce(e.pieces_,t)}function ND(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Dj(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function RD(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function xD(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ce(t,0)}function Ne(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ce)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ce(n,0)}function Y(e){return e.pieceNum_>=e.pieces_.length}function Et(e,t){let n=Z(e),r=Z(t);if(n===null)return t;if(n===r)return Et(le(e),le(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function OD(e,t){if(wr(e)!==wr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ut(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(wr(e)>wr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Lg=class{constructor(t,n){this.errorPrefix_=n,this.parts_=RD(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=oa(this.parts_[r]);PD(this)}};function Sj(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=oa(t),PD(e)}function Tj(e){let t=e.parts_.pop();e.byteLength_-=oa(t),e.parts_.length>0&&(e.byteLength_-=1)}function PD(e){if(e.byteLength_>Hb)throw new Error(e.errorPrefix_+"has a key path longer than "+Hb+" bytes ("+e.byteLength_+").");if(e.parts_.length>$b)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$b+") or object contains a cycle "+li(e))}function li(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var Vg=class e extends ud{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new e}getInitialEvent(t){return b(t==="visible","Unknown event type: "+t),[this.visible_]}};var Sa=1e3,Aj=60*5*1e3,Wb=30*1e3,Mj=1.3,Nj=3e4,Rj="server_kill",zb=3,yv=(()=>{class e extends ld{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=La("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Sa,this.maxReconnectDelay_=Aj,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Xt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&dd.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Me(s)),b(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new qr,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),b(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&en(n,"w")){let i=Kr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||NC(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Wb)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=MC(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Me(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Ag("Unrecognized action received from server: "+Me(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){b(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Sa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Sa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Nj&&(this.reconnectDelay_=Sa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Mj)}this.onConnectStatus_(!1)}establishConnection_(){return v(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(p){b(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(p)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[p,g]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ve("getToken() completed but was canceled"):(Ve("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,c=new Fg(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,y=>{ht(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(Rj)},s))}catch(p){this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&ht(p),l())}}})}interrupt(n){Ve("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ve("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ra(this.interruptReasons_)&&(this.reconnectDelay_=Sa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>gv(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ce(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ve("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zb&&(this.reconnectDelay_=Wb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ve("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Xt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+mv.replace(/\./g,"-")]=1,na()?n["framework.cordova"]=1:du()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=dd.getInstance().currentlyOnline();return ra(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),Q=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var jo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new Q(Uo,t),i=new Q(Uo,n);return this.compare(r,i)!==0}minPost(){return Q.MIN}};var od,hd=class extends jo{static get __EMPTY_NODE(){return od}static set __EMPTY_NODE(t){od=t}compare(t,n){return Go(t.name,n.name)}isDefinedOn(t){throw Yr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Q.MIN}maxPost(){return new Q(hi,od)}makePost(t,n){return b(typeof t=="string","KeyIndex indexValue must always be a string."),new Q(t,od)}toString(){return".key"}},Vo=new hd;var ko=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},Vt=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??wt.EMPTY_NODE,this.right=s??wt.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return wt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Ug=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new Vt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},wt=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Vt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Vt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ko(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new ko(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new ko(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new ko(this.root_,null,this.comparator_,!0,t)}};wt.EMPTY_NODE=new Ug;function xj(e,t){return Go(e.name,t.name)}function _v(e,t){return Go(e,t)}var jg;function Oj(e){jg=e}var kD=function(e){return typeof e=="number"?"number:"+pD(e):"string:"+e},FD=function(e){if(e.isLeafNode()){let t=e.val();b(typeof t=="string"||typeof t=="number"||typeof t=="object"&&en(t,".sv"),"Priority must be a string or number.")}else b(e===jg||e.isEmpty(),"priority of unexpected type.");b(e===jg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Gb,Bo=(()=>{class e{constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,b(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),FD(this.priorityNode_)}static set __childrenNodeConstructor(n){Gb=n}static get __childrenNodeConstructor(){return Gb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Y(n)?this:Z(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=Z(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(b(i!==".priority"||wr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+kD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=pD(this.value_):n+=this.value_,this.lazyHash_=dD(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(b(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return b(o>=0,"Unknown leaf type: "+r),b(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),LD,VD;function Pj(e){LD=e}function kj(e){VD=e}var Bg=class extends jo{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Go(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Q.MIN}maxPost(){return new Q(hi,new Bo("[PRIORITY-POST]",VD))}makePost(t,n){let r=LD(t);return new Q(n,new Bo("[PRIORITY-POST]",r))}toString(){return".priority"}},je=new Bg;var Fj=Math.log(2),$g=class{constructor(t){let n=o=>parseInt(Math.log(o)/Fj,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},fd=function(e,t,n,r){e.sort(t);let i=function(c,l){let u=l-c,d,p;if(u===0)return null;if(u===1)return d=e[c],p=n?n(d):d,new Vt(p,d.node,Vt.BLACK,null,null);{let g=parseInt(u/2,10)+c,y=i(c,g),w=i(g+1,l);return d=e[g],p=n?n(d):d,new Vt(p,d.node,Vt.BLACK,y,w)}},o=function(c){let l=null,u=null,d=e.length,p=function(y,w){let I=d-y,S=d;d-=y;let B=i(I+1,S),N=e[I],H=n?n(N):N;g(new Vt(H,N.node,w,null,B))},g=function(y){l?(l.left=y,l=y):(u=y,l=y)};for(let y=0;y<c.count;++y){let w=c.nextBitIsOne(),I=Math.pow(2,c.count-(y+1));w?p(I,Vt.BLACK):(p(I,Vt.BLACK),p(I,Vt.RED))}return u},s=new $g(e.length),a=o(s);return new wt(r||t,a)};var wg,Po={},$o=class e{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return b(Po&&je,"ChildrenNode.ts has not been loaded"),wg=wg||new e({".priority":Po},{".priority":je}),wg}get(t){let n=Kr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof wt?n:null}hasIndex(t){return en(this.indexSet_,t.toString())}addIndex(t,n){b(t!==Vo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(Q.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=fd(r,t.getCompare()):a=Po;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let r=ia(this.indexes_,(i,o)=>{let s=Kr(this.indexSet_,o);if(b(s,"Missing index implementation for "+o),i===Po)if(s.isDefinedOn(t.node)){let a=[],c=n.getIterator(Q.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),fd(a,s.getCompare())}else return Po;else{let a=n.get(t.name),c=i;return a&&(c=c.remove(new Q(t.name,a))),c.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=ia(this.indexes_,i=>{if(i===Po)return i;{let o=n.get(t.name);return o?i.remove(new Q(t.name,o)):i}});return new e(r,this.indexSet_)}};var Ta,pe=(()=>{class e{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&FD(this.priorityNode_),this.children_.isEmpty()&&b(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ta||(Ta=new e(new wt(_v),null,$o.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ta}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Ta:r}}getChild(n){let r=Z(n);return r===null?this:this.getImmediateChild(r).getChild(le(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(b(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Q(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Ta:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=Z(n);if(i===null)return r;{b(Z(n)!==".priority"||wr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(le(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(je,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+kD(this.getPriority().val())+":"),this.forEachChild(je,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":dD(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new Q(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Q(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Q(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,Q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,Q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ua?-1:0}withIndex(n){if(n===Vo||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Vo||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(je),o=r.getIterator(je),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Vo?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Hg=class extends pe{constructor(){super(new wt(_v),pe.EMPTY_NODE,$o.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return pe.EMPTY_NODE}isEmpty(){return!1}},Ua=new Hg;Object.defineProperties(Q,{MIN:{value:new Q(Uo,pe.EMPTY_NODE)},MAX:{value:new Q(hi,Ua)}});hd.__EMPTY_NODE=pe.EMPTY_NODE;Bo.__childrenNodeConstructor=pe;Oj(Ua);kj(Ua);var Lj=!0;function Ue(e,t=null){if(e===null)return pe.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),b(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new Bo(n,Ue(t))}if(!(e instanceof Array)&&Lj){let n=[],r=!1;if(It(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=Ue(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Q(s,c)))}}),n.length===0)return pe.EMPTY_NODE;let o=fd(n,xj,s=>s.name,_v);if(r){let s=fd(n,je.getCompare());return new pe(o,Ue(t),new $o({".priority":s},{".priority":je}))}else return new pe(o,Ue(t),$o.Default)}else{let n=pe.EMPTY_NODE;return It(e,(r,i)=>{if(en(e,r)&&r.substring(0,1)!=="."){let o=Ue(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ue(t))}}Pj(Ue);var Wg=class extends jo{constructor(t){super(),this.indexPath_=t,b(!Y(t)&&Z(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Go(t.name,n.name):o}makePost(t,n){let r=Ue(t),i=pe.EMPTY_NODE.updateChild(this.indexPath_,r);return new Q(n,i)}maxPost(){let t=pe.EMPTY_NODE.updateChild(this.indexPath_,Ua);return new Q(hi,t)}toString(){return RD(this.indexPath_,0).join("/")}};var zg=class extends jo{compare(t,n){let r=t.node.compareTo(n.node);return r===0?Go(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Q.MIN}maxPost(){return Q.MAX}makePost(t,n){let r=Ue(t);return new Q(n,r)}toString(){return".value"}},Vj=new zg;function Uj(e){return{type:"value",snapshotNode:e}}function jj(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Bj(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function qb(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function $j(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Gg=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return b(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return b(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Uo}hasEnd(){return this.endSet_}getIndexEndValue(){return b(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return b(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return b(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===je}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function Yb(e){let t={};if(e.isDefault())return t;let n;if(e.index_===je?n="$priority":e.index_===Vj?n="$value":e.index_===Vo?n="$key":(b(e.index_ instanceof Wg,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Me(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=Me(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Me(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Me(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Me(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Kb(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==je&&(t.i=e.index_.toString()),t}var qg=class e extends ld{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=La("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(b(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let c=Yb(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Kr(this.listens_,s)===a){let p;l?l===401?p="permission_denied":p="rest_error:"+l:p="ok",i(p,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=Yb(t._queryParams),r=t._path.toString(),i=new qr;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Zr(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=ho(a.responseText)}catch{ht("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&ht("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Yg=class{constructor(){this.rootNode_=pe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function pd(){return{value:null,children:new Map}}function UD(e,t,n){if(Y(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=Z(t);e.children.has(r)||e.children.set(r,pd());let i=e.children.get(r);t=le(t),UD(i,t,n)}}function Kg(e,t,n){e.value!==null?n(t,e.value):Hj(e,(r,i)=>{let o=new ce(t.toString()+"/"+r);Kg(i,o,n)})}function Hj(e,t){e.children.forEach((n,r)=>{t(r,n)})}var Zg=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&It(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var Zb=10*1e3,Wj=30*1e3,zj=5*60*1e3,Qg=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Zg(t);let r=Zb+(Wj-Zb)*Math.random();Ma(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;It(t,(i,o)=>{o>0&&en(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Ma(this.reportStats_.bind(this),Math.floor(Math.random()*2*zj))}};var On=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(On||{});function jD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function BD(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $D(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Jg=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=On.ACK_USER_WRITE,this.source=jD()}operationForChild(t){if(Y(this.path)){if(this.affectedTree.value!=null)return b(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ce(t));return new e(oe(),n,this.revert)}}else return b(Z(this.path)===t,"operationForChild called for unrelated child."),new e(le(this.path),this.affectedTree,this.revert)}};var Ho=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=On.OVERWRITE}operationForChild(t){return Y(this.path)?new e(this.source,oe(),this.snap.getImmediateChild(t)):new e(this.source,le(this.path),this.snap)}};var md=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=On.MERGE}operationForChild(t){if(Y(this.path)){let n=this.children.subtree(new ce(t));return n.isEmpty()?null:n.value?new Ho(this.source,oe(),n.value):new e(this.source,oe(),n)}else return b(Z(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Oa=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Y(t))return this.isFullyInitialized()&&!this.filtered_;let n=Z(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};function Gj(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push($j(s.childName,s.snapshotNode))}),Aa(e,i,"child_removed",t,r,n),Aa(e,i,"child_added",t,r,n),Aa(e,i,"child_moved",o,r,n),Aa(e,i,"child_changed",t,r,n),Aa(e,i,"value",t,r,n),i}function Aa(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>Yj(e,a,c)),s.forEach(a=>{let c=qj(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function qj(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Yj(e,t,n){if(t.childName==null||n.childName==null)throw Yr("Should only compare child_ events.");let r=new Q(t.childName,t.snapshotNode),i=new Q(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function HD(e,t){return{eventCache:e,serverCache:t}}function Ra(e,t,n,r){return HD(new Oa(t,n,r),e.serverCache)}function WD(e,t,n,r){return HD(e.eventCache,new Oa(t,n,r))}function Xg(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function fi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Ig,Kj=()=>(Ig||(Ig=new wt(KU)),Ig),Ze=class e{constructor(t,n=Kj()){this.value=t,this.children=n}static fromObject(t){let n=new e(null);return It(t,(r,i)=>{n=n.set(new ce(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:oe(),value:this.value};if(Y(t))return null;{let r=Z(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(le(t),n);return o!=null?{path:Ne(new ce(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Y(t))return this;{let n=Z(t),r=this.children.get(n);return r!==null?r.subtree(le(t)):new e(null)}}set(t,n){if(Y(t))return new e(n,this.children);{let r=Z(t),o=(this.children.get(r)||new e(null)).set(le(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(Y(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=Z(t),r=this.children.get(n);if(r){let i=r.remove(le(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(Y(t))return this.value;{let n=Z(t),r=this.children.get(n);return r?r.get(le(t)):null}}setTree(t,n){if(Y(t))return n;{let r=Z(t),o=(this.children.get(r)||new e(null)).setTree(le(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(oe(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Ne(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,oe(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Y(t))return null;{let o=Z(t),s=this.children.get(o);return s?s.findOnPath_(le(t),Ne(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,oe(),n)}foreachOnPath_(t,n,r){if(Y(t))return this;{this.value&&r(n,this.value);let i=Z(t),o=this.children.get(i);return o?o.foreachOnPath_(le(t),Ne(n,i),r):new e(null)}}foreach(t){this.foreach_(oe(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ne(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var jt=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new Ze(null))}};function xa(e,t,n){if(Y(t))return new jt(new Ze(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=Et(i,t);return o=o.updateChild(s,n),new jt(e.writeTree_.set(i,o))}else{let i=new Ze(n),o=e.writeTree_.setTree(t,i);return new jt(o)}}}function Qb(e,t,n){let r=e;return It(n,(i,o)=>{r=xa(r,Ne(t,i),o)}),r}function Jb(e,t){if(Y(t))return jt.empty();{let n=e.writeTree_.setTree(t,new Ze(null));return new jt(n)}}function ev(e,t){return pi(e,t)!=null}function pi(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Et(n.path,t)):null}function Xb(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(je,(r,i)=>{t.push(new Q(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Q(r,i.value))}),t}function Er(e,t){if(Y(t))return e;{let n=pi(e,t);return n!=null?new jt(new Ze(n)):new jt(e.writeTree_.subtree(t))}}function tv(e){return e.writeTree_.isEmpty()}function Wo(e,t){return zD(oe(),e.writeTree_,t)}function zD(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(b(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=zD(Ne(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Ne(e,".priority"),r)),n}}function GD(e,t){return QD(t,e)}function Zj(e,t,n,r,i){b(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=xa(e.visibleWrites,t,n)),e.lastWriteId=r}function Qj(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function Jj(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);b(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&Xj(a,r.path)?i=!1:Ut(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return e2(e),!0;if(r.snap)e.visibleWrites=Jb(e.visibleWrites,r.path);else{let a=r.children;It(a,c=>{e.visibleWrites=Jb(e.visibleWrites,Ne(r.path,c))})}return!0}else return!1}function Xj(e,t){if(e.snap)return Ut(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&Ut(Ne(e.path,n),t))return!0;return!1}function e2(e){e.visibleWrites=qD(e.allWrites,t2,oe()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function t2(e){return e.visible}function qD(e,t,n){let r=jt.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)Ut(n,s)?(a=Et(n,s),r=xa(r,a,o.snap)):Ut(s,n)&&(a=Et(s,n),r=xa(r,oe(),o.snap.getChild(a)));else if(o.children){if(Ut(n,s))a=Et(n,s),r=Qb(r,a,o.children);else if(Ut(s,n))if(a=Et(s,n),Y(a))r=Qb(r,oe(),o.children);else{let c=Kr(o.children,Z(a));if(c){let l=c.getChild(le(a));r=xa(r,oe(),l)}}}else throw Yr("WriteRecord should have .snap or .children")}}return r}function YD(e,t,n,r,i){if(!r&&!i){let o=pi(e.visibleWrites,t);if(o!=null)return o;{let s=Er(e.visibleWrites,t);if(tv(s))return n;if(n==null&&!ev(s,oe()))return null;{let a=n||pe.EMPTY_NODE;return Wo(s,a)}}}else{let o=Er(e.visibleWrites,t);if(!i&&tv(o))return n;if(!i&&n==null&&!ev(o,oe()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Ut(l.path,t)||Ut(t,l.path))},a=qD(e.allWrites,s,t),c=n||pe.EMPTY_NODE;return Wo(a,c)}}}function n2(e,t,n){let r=pe.EMPTY_NODE,i=pi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(je,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Er(e.visibleWrites,t);return n.forEachChild(je,(s,a)=>{let c=Wo(Er(o,new ce(s)),a);r=r.updateImmediateChild(s,c)}),Xb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Er(e.visibleWrites,t);return Xb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function r2(e,t,n,r,i){b(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Ne(t,n);if(ev(e.visibleWrites,o))return null;{let s=Er(e.visibleWrites,o);return tv(s)?i.getChild(n):Wo(s,i.getChild(n))}}function i2(e,t,n,r){let i=Ne(t,n),o=pi(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Er(e.visibleWrites,i);return Wo(s,r.getNode().getImmediateChild(n))}else return null}function o2(e,t){return pi(e.visibleWrites,t)}function s2(e,t,n,r,i,o,s){let a,c=Er(e.visibleWrites,t),l=pi(c,oe());if(l!=null)a=l;else if(n!=null)a=Wo(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),p=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),g=p.getNext();for(;g&&u.length<i;)d(g,r)!==0&&u.push(g),g=p.getNext();return u}else return[]}function a2(){return{visibleWrites:jt.empty(),allWrites:[],lastWriteId:-1}}function nv(e,t,n,r){return YD(e.writeTree,e.treePath,t,n,r)}function KD(e,t){return n2(e.writeTree,e.treePath,t)}function eD(e,t,n,r){return r2(e.writeTree,e.treePath,t,n,r)}function gd(e,t){return o2(e.writeTree,Ne(e.treePath,t))}function c2(e,t,n,r,i,o){return s2(e.writeTree,e.treePath,t,n,r,i,o)}function Ev(e,t,n){return i2(e.writeTree,e.treePath,t,n)}function ZD(e,t){return QD(Ne(e.treePath,t),e.writeTree)}function QD(e,t){return{treePath:e,writeTree:t}}var rv=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;b(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),b(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,qb(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Bj(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,jj(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,qb(r,t.snapshotNode,i.oldSnap));else throw Yr("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var iv=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},JD=new iv,Pa=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new Oa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ev(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fi(this.viewCache_),o=c2(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function l2(e,t){b(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),b(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function u2(e,t,n,r,i){let o=new rv,s,a;if(n.type===On.OVERWRITE){let l=n;l.source.fromUser?s=ov(e,t,l.path,l.snap,r,i,o):(b(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Y(l.path),s=vd(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===On.MERGE){let l=n;l.source.fromUser?s=h2(e,t,l.path,l.children,r,i,o):(b(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=sv(e,t,l.path,l.children,r,i,a,o))}else if(n.type===On.ACK_USER_WRITE){let l=n;l.revert?s=m2(e,t,l.path,r,i,o):s=f2(e,t,l.path,l.affectedTree,r,i,o)}else if(n.type===On.LISTEN_COMPLETE)s=p2(e,t,n.path,r,o);else throw Yr("Unknown operation type: "+n.type);let c=o.getChanges();return d2(t,s,c),{viewCache:s,changes:c}}function d2(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Xg(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Uj(Xg(t)))}}function XD(e,t,n,r,i,o){let s=t.eventCache;if(gd(r,n)!=null)return t;{let a,c;if(Y(n))if(b(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=fi(t),u=l instanceof pe?l:pe.EMPTY_NODE,d=KD(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let l=nv(r,fi(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=Z(n);if(l===".priority"){b(wr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=t.serverCache.getNode();let d=eD(r,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=le(n),d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let p=eD(r,n,s.getNode(),c);p!=null?d=s.getNode().getImmediateChild(l).updateChild(u,p):d=s.getNode().getImmediateChild(l)}else d=Ev(r,l,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return Ra(t,a,s.isFullyInitialized()||Y(n),e.filter.filtersNodes())}}function vd(e,t,n,r,i,o,s,a){let c=t.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if(Y(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let g=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),g,null)}else{let g=Z(n);if(!c.isCompleteForPath(n)&&wr(n)>1)return t;let y=le(n),I=c.getNode().getImmediateChild(g).updateChild(y,r);g===".priority"?l=u.updatePriority(c.getNode(),I):l=u.updateChild(c.getNode(),g,I,y,JD,null)}let d=WD(t,l,c.isFullyInitialized()||Y(n),u.filtersNodes()),p=new Pa(i,d,o);return XD(e,d,n,i,p,a)}function ov(e,t,n,r,i,o,s){let a=t.eventCache,c,l,u=new Pa(i,t,o);if(Y(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=Ra(t,l,!0,e.filter.filtersNodes());else{let d=Z(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),c=Ra(t,l,a.isFullyInitialized(),a.isFiltered());else{let p=le(n),g=a.getNode().getImmediateChild(d),y;if(Y(p))y=r;else{let w=u.getCompleteChild(d);w!=null?ND(p)===".priority"&&w.getChild(xD(p)).isEmpty()?y=w:y=w.updateChild(p,r):y=pe.EMPTY_NODE}if(g.equals(y))c=t;else{let w=e.filter.updateChild(a.getNode(),d,y,p,u,s);c=Ra(t,w,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function tD(e,t){return e.eventCache.isCompleteForChild(t)}function h2(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{let u=Ne(n,c);tD(t,Z(u))&&(a=ov(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Ne(n,c);tD(t,Z(u))||(a=ov(e,a,u,l,i,o,s))}),a}function nD(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function sv(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;Y(n)?l=r:l=new Ze(null).setTree(n,r);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,p)=>{if(u.hasChild(d)){let g=t.serverCache.getNode().getImmediateChild(d),y=nD(e,g,p);c=vd(e,c,new ce(d),y,i,o,s,a)}}),l.children.inorderTraversal((d,p)=>{let g=!t.serverCache.isCompleteForChild(d)&&p.value===null;if(!u.hasChild(d)&&!g){let y=t.serverCache.getNode().getImmediateChild(d),w=nD(e,y,p);c=vd(e,c,new ce(d),w,i,o,s,a)}}),c}function f2(e,t,n,r,i,o,s){if(gd(i,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(Y(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return vd(e,t,n,c.getNode().getChild(n),i,o,a,s);if(Y(n)){let l=new Ze(null);return c.getNode().forEachChild(Vo,(u,d)=>{l=l.set(new ce(u),d)}),sv(e,t,n,l,i,o,a,s)}else return t}else{let l=new Ze(null);return r.foreach((u,d)=>{let p=Ne(n,u);c.isCompleteForPath(p)&&(l=l.set(u,c.getNode().getChild(p)))}),sv(e,t,n,l,i,o,a,s)}}function p2(e,t,n,r,i){let o=t.serverCache,s=WD(t,o.getNode(),o.isFullyInitialized()||Y(n),o.isFiltered());return XD(e,s,n,r,JD,i)}function m2(e,t,n,r,i,o){let s;if(gd(r,n)!=null)return t;{let a=new Pa(r,t,i),c=t.eventCache.getNode(),l;if(Y(n)||Z(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=nv(r,fi(t));else{let d=t.serverCache.getNode();b(d instanceof pe,"serverChildren would be complete if leaf node"),u=KD(r,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=Z(n),d=Ev(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,le(n),a,o):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,pe.EMPTY_NODE,le(n),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=nv(r,fi(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||gd(r,oe())!=null,Ra(t,l,s,e.filter.filtersNodes())}}function g2(e,t){let n=fi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Y(t)&&!n.getImmediateChild(Z(t)).isEmpty())?n.getChild(t):null}function rD(e,t,n,r){t.type===On.MERGE&&t.source.queryId!==null&&(b(fi(e.viewCache_),"We should always have a full cache before handling merges"),b(Xg(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=u2(e.processor_,i,t,n,r);return l2(e.processor_,o.viewCache),b(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,v2(e,o.changes,o.viewCache.eventCache.getNode(),null)}function v2(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return Gj(e.eventGenerator_,t,n,i)}var iD;function y2(e){b(!iD,"__referenceConstructor has already been defined"),iD=e}function wv(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return b(o!=null,"SyncTree gave us an op for an invalid query."),rD(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(rD(s,t,n,r));return o}}function Iv(e,t){let n=null;for(let r of e.views.values())n=n||g2(r,t);return n}var oD;function _2(e){b(!oD,"__referenceConstructor has already been defined"),oD=e}var yd=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=a2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function E2(e,t,n,r,i){return Zj(e.pendingWriteTree_,t,n,r,i),i?Ed(e,new Ho(jD(),t,n)):[]}function Fo(e,t,n=!1){let r=Qj(e.pendingWriteTree_,t);if(Jj(e.pendingWriteTree_,t)){let o=new Ze(null);return r.snap!=null?o=o.set(oe(),!0):It(r.children,s=>{o=o.set(new ce(s),!0)}),Ed(e,new Jg(r.path,o,n))}else return[]}function _d(e,t,n){return Ed(e,new Ho(BD(),t,n))}function w2(e,t,n){let r=Ze.fromObject(n);return Ed(e,new md(BD(),t,r))}function I2(e,t,n,r){let i=rS(e,r);if(i!=null){let o=iS(i),s=o.path,a=o.queryId,c=Et(s,t),l=new Ho($D(a),c,n);return oS(e,s,l)}else return[]}function C2(e,t,n,r){let i=rS(e,r);if(i){let o=iS(i),s=o.path,a=o.queryId,c=Et(s,t),l=Ze.fromObject(n),u=new md($D(a),c,l);return oS(e,s,u)}else return[]}function eS(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let c=Et(s,t),l=Iv(a,c);if(l)return l});return YD(i,t,o,n,!0)}function Ed(e,t){return tS(t,e.syncPointTree_,null,GD(e.pendingWriteTree_,oe()))}function tS(e,t,n,r){if(Y(e.path))return nS(e,t,n,r);{let i=t.get(oe());n==null&&i!=null&&(n=Iv(i,oe()));let o=[],s=Z(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=ZD(r,s);o=o.concat(tS(a,c,l,u))}return i&&(o=o.concat(wv(i,e,r,n))),o}}function nS(e,t,n,r){let i=t.get(oe());n==null&&i!=null&&(n=Iv(i,oe()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=ZD(r,s),u=e.operationForChild(s);u&&(o=o.concat(nS(u,a,c,l)))}),i&&(o=o.concat(wv(i,e,r,n))),o}function rS(e,t){return e.tagToQueryMap.get(t)}function iS(e){let t=e.indexOf("$");return b(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ce(e.substr(0,t))}}function oS(e,t,n){let r=e.syncPointTree_.get(t);b(r,"Missing sync point for query tag that we're tracking");let i=GD(e.pendingWriteTree_,t);return wv(r,n,i,null)}var av=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},cv=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=Ne(this.path_,t);return new e(this.syncTree_,n)}node(){return eS(this.syncTree_,this.path_)}},b2=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},sD=function(e,t,n){if(!e||typeof e!="object")return e;if(b(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return D2(e[".sv"],t,n);if(typeof e[".sv"]=="object")return S2(e[".sv"],t);b(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},D2=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:b(!1,"Unexpected server value: "+e)}},S2=function(e,t,n){e.hasOwnProperty("increment")||b(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&b(!1,"Unexpected increment value: "+r);let i=t.node();if(b(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},T2=function(e,t,n,r){return Cv(t,new cv(n,e),r)},A2=function(e,t,n){return Cv(e,new av(t),n)};function Cv(e,t,n){let r=e.getPriority().val(),i=sD(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=sD(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new Bo(a,Ue(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Bo(i))),s.forEachChild(je,(a,c)=>{let l=Cv(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var ka=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function bv(e,t){let n=t instanceof ce?t:new ce(t),r=e,i=Z(n);for(;i!==null;){let o=Kr(r.node.children,i)||{children:{},childCount:0};r=new ka(i,r,o),n=le(n),i=Z(n)}return r}function qo(e){return e.node.value}function sS(e,t){e.node.value=t,lv(e)}function aS(e){return e.node.childCount>0}function M2(e){return qo(e)===void 0&&!aS(e)}function wd(e,t){It(e.node.children,(n,r)=>{t(new ka(n,e,r))})}function cS(e,t,n,r){n&&!r&&t(e),wd(e,i=>{cS(i,t,!0,r)}),n&&r&&t(e)}function N2(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function ja(e){return new ce(e.parent===null?e.name:ja(e.parent)+"/"+e.name)}function lv(e){e.parent!==null&&R2(e.parent,e.name,e)}function R2(e,t,n){let r=M2(n),i=en(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,lv(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,lv(e))}var x2=/[\[\].#$\/\u0000-\u001F\u007F]/,O2=/[\[\].#$\u0000-\u001F\u007F]/,Cg=10*1024*1024,lS=function(e){return typeof e=="string"&&e.length!==0&&!x2.test(e)},P2=function(e){return typeof e=="string"&&e.length!==0&&!O2.test(e)},k2=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),P2(e)};var uS=function(e,t,n){let r=n instanceof ce?new Lg(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+li(r));if(typeof t=="function")throw new Error(e+"contains a function "+li(r)+" with contents = "+t.toString());if(hD(t))throw new Error(e+"contains "+t.toString()+" "+li(r));if(typeof t=="string"&&t.length>Cg/3&&oa(t)>Cg)throw new Error(e+"contains a string greater than "+Cg+" utf8 bytes "+li(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(It(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!lS(s)))throw new Error(e+" contains an invalid key ("+s+") "+li(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Sj(r,s),uS(e,a,r),Tj(r)}),i&&o)throw new Error(e+' contains ".value" child '+li(r)+" in addition to actual children.")}};var F2=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!lS(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!k2(n))throw new Error(xC(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var uv=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function L2(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!OD(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function mi(e,t,n){L2(e,n),V2(e,r=>Ut(r,t)||Ut(t,r))}function V2(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(U2(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function U2(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();di&&Ve("event: "+n.toString()),Va(r)}}}var j2="repo_interrupt",B2=25,dv=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pd(),this.transactionQueueTree_=new ka,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function $2(e,t,n){if(e.stats_=vv(e.repoInfo_),e.forceRestClient_||tj())e.server_=new qg(e.repoInfo_,(r,i,o,s)=>{aD(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>cD(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Me(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new yv(e.repoInfo_,t,(r,i,o,s)=>{aD(e,r,i,o,s)},r=>{cD(e,r)},r=>{W2(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=rj(e.repoInfo_,()=>new Qg(e.stats_,e.server_)),e.infoData_=new Yg,e.infoSyncTree_=new yd({startListening:(r,i,o,s)=>{let a=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=_d(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Dv(e,"connected",!1),e.serverSyncTree_=new yd({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);mi(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function H2(e){let n=e.infoData_.getNode(new ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function dS(e){return b2({timestamp:H2(e)})}function aD(e,t,n,r,i){e.dataUpdateCount++;let o=new ce(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let c=ia(n,l=>Ue(l));s=C2(e.serverSyncTree_,o,c,i)}else{let c=Ue(n);s=I2(e.serverSyncTree_,o,c,i)}else if(r){let c=ia(n,l=>Ue(l));s=w2(e.serverSyncTree_,o,c)}else{let c=Ue(n);s=_d(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Tv(e,o)),mi(e.eventQueue_,a,s)}function cD(e,t){Dv(e,"connected",t),t===!1&&G2(e)}function W2(e,t){It(t,(n,r)=>{Dv(e,n,r)})}function Dv(e,t,n){let r=new ce("/.info/"+t),i=Ue(n);e.infoData_.updateSnapshot(r,i);let o=_d(e.infoSyncTree_,r,i);mi(e.eventQueue_,r,o)}function z2(e){return e.nextWriteId_++}function G2(e){hS(e,"onDisconnectEvents");let t=dS(e),n=pd();Kg(e.onDisconnect_,oe(),(i,o)=>{let s=T2(i,o,e.serverSyncTree_,t);UD(n,i,s)});let r=[];Kg(n,oe(),(i,o)=>{r=r.concat(_d(e.serverSyncTree_,i,o));let s=Z2(e,i);Tv(e,s)}),e.onDisconnect_=pd(),mi(e.eventQueue_,oe(),r)}function q2(e){e.persistentConnection_&&e.persistentConnection_.interrupt(j2)}function hS(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ve(n,...t)}function fS(e,t,n){return eS(e.serverSyncTree_,t,n)||pe.EMPTY_NODE}function Sv(e,t=e.transactionQueueTree_){if(t||Id(e,t),qo(t)){let n=mS(e,t);b(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Y2(e,ja(t),n)}else aS(t)&&wd(t,n=>{Sv(e,n)})}function Y2(e,t,n){let r=n.map(l=>l.currentWriteId),i=fS(e,t,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];b(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Et(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{hS(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let p=0;p<n.length;p++)n[p].status=2,u=u.concat(Fo(e.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&d.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();Id(e,bv(e.transactionQueueTree_,t)),Sv(e,e.transactionQueueTree_),mi(e.eventQueue_,t,u);for(let p=0;p<d.length;p++)Va(d[p])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ht("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Tv(e,t)}},s)}function Tv(e,t){let n=pS(e,t),r=ja(n),i=mS(e,n);return K2(e,i,r),r}function K2(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=Et(n,c.path),u=!1,d;if(b(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Fo(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=B2)u=!0,d="maxretry",i=i.concat(Fo(e.serverSyncTree_,c.currentWriteId,!0));else{let p=fS(e,c.path,s);c.currentInputSnapshot=p;let g=t[a].update(p.val());if(g!==void 0){uS("transaction failed: Data returned ",g,c.path);let y=Ue(g);typeof g=="object"&&g!=null&&en(g,".priority")||(y=y.updatePriority(p.getPriority()));let I=c.currentWriteId,S=dS(e),B=A2(y,p,S);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=B,c.currentWriteId=z2(e),s.splice(s.indexOf(I),1),i=i.concat(E2(e.serverSyncTree_,c.path,B,c.currentWriteId,c.applyLocally)),i=i.concat(Fo(e.serverSyncTree_,I,!0))}else u=!0,d="nodata",i=i.concat(Fo(e.serverSyncTree_,c.currentWriteId,!0))}mi(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(p){setTimeout(p,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Id(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Va(r[a]);Sv(e,e.transactionQueueTree_)}function pS(e,t){let n,r=e.transactionQueueTree_;for(n=Z(t);n!==null&&qo(r)===void 0;)r=bv(r,n),t=le(t),n=Z(t);return r}function mS(e,t){let n=[];return gS(e,t,n),n.sort((r,i)=>r.order-i.order),n}function gS(e,t,n){let r=qo(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);wd(t,i=>{gS(e,i,n)})}function Id(e,t){let n=qo(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,sS(t,n.length>0?n:void 0)}wd(t,r=>{Id(e,r)})}function Z2(e,t){let n=ja(pS(e,t)),r=bv(e.transactionQueueTree_,t);return N2(r,i=>{bg(e,i)}),bg(e,r),cS(r,i=>{bg(e,i)}),n}function bg(e,t){let n=qo(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(b(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(b(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Fo(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?sS(t,void 0):n.length=o+1,mi(e.eventQueue_,ja(t),i);for(let s=0;s<r.length;s++)Va(r[s])}}function Q2(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function J2(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ht(`Invalid query segment '${n}' in query '${e}'`)}return t}var lD=function(e,t){let n=X2(e),r=n.namespace;n.domain==="firebase.com"&&Pn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Pn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||qU();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ad(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ce(n.pathString)}},X2=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=Q2(e.substring(u,d)));let p=J2(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let g=t.slice(0,l);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{let y=t.indexOf(".");r=t.substring(0,y).toLowerCase(),n=t.substring(y+1),o=r}"ns"in p&&(o=p.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var hv=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Y(this._path)?null:ND(this._path)}get ref(){return new zo(this._repo,this._path)}get _queryIdentifier(){let t=Kb(this._queryParams),n=gv(t);return n==="{}"?"default":n}get _queryObject(){return Kb(this._queryParams)}isEqual(t){if(t=Ye(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=OD(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Dj(this._path)}};var zo=class e extends hv{constructor(t,n){super(t,n,new Gg,!1)}get parent(){let t=xD(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}};y2(zo);_2(zo);var eB="FIREBASE_DATABASE_EMULATOR_HOST",fv={},tB=!1;function nB(e,t,n,r){e.repoInfo_=new ad(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function rB(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||Pn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ve("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=lD(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[eB]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=lD(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new Na(Na.OWNER):new Ng(e.name,e.options,t);F2("Invalid Firebase Database URL",s),Y(s.path)||Pn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=oB(a,e,u,new Mg(e.name,n));return new pv(d,e)}function iB(e,t){let n=fv[t];(!n||n[e.key]!==e)&&Pn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),q2(e),delete n[e.key]}function oB(e,t,n,r){let i=fv[t.name];i||(i={},fv[t.name]=i);let o=i[e.toURLString()];return o&&Pn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new dv(e,tB,n,r),i[e.toURLString()]=o,o}var pv=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zo(this._repo,oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(iB(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Pn("Cannot call "+t+" on a deleted database.")}};function vS(e=lr(),t){let n=Jr(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=lu("database");r&&yS(n,...r)}return n}function yS(e,t,n,r={}){e=Ye(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Pn("Cannot call useEmulator() after instance has already been initialized.");let i=e._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Pn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Na(Na.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:uu(r.mockUserToken,e.app.options.projectId);o=new Na(s)}nB(i,t,n,o)}function sB(e){WU(rn),nn(new Ke("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return rB(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),he(Rb,xb,e),he(Rb,xb,"esm2017")}yv.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};yv.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};sB();var Ba=class{constructor(t){return t}},_S="database",Av=class{constructor(){return ei(_S)}};var Mv=new D("angularfire2.database-instances");function aB(e,t){let n=vo(_S,e,t);return n&&new Ba(n)}function cB(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new Ba(r)}}var lB={provide:Av,deps:[[new De,Mv]]},uB={provide:Ba,useFactory:aB,deps:[[new De,Mv],Lt]};function ES(e,...t){return he("angularfire",An.full,"rtdb"),Fe([uB,lB,{provide:Mv,useFactory:cB(e),multi:!0,deps:[J,Te,dr,Mn,[new De,si],[new De,ur],...t]}])}var wS=Ft(vS,!0);var TS="firebasestorage.googleapis.com",dB="storageBucket",hB=2*60*1e3,fB=10*60*1e3;var cn=class e extends dt{constructor(t,n,r=0){super(Nv(t),`Firebase Storage: ${n} (${Nv(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,e.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Nv(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Fn=function(e){return e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment",e}(Fn||{});function Nv(e){return"storage/"+e}function pB(){let e="An unknown error occurred, please check the error payload for server response.";return new cn(Fn.UNKNOWN,e)}function mB(){return new cn(Fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gB(){return new cn(Fn.CANCELED,"User canceled the upload/download.")}function vB(e){return new cn(Fn.INVALID_URL,"Invalid URL '"+e+"'.")}function yB(e){return new cn(Fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function IS(e){return new cn(Fn.INVALID_ARGUMENT,e)}function AS(){return new cn(Fn.APP_DELETED,"The Firebase app was deleted.")}function _B(e){return new cn(Fn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var kn=class e{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw yB(t)}static makeFromUrl(t,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function l(H){H.path_=decodeURIComponent(H.path)}let u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${u}/b/${i}/o${p}`,"i"),y={bucket:1,path:3},w=n===TS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",S=new RegExp(`^https?://${w}/${i}/${I}`,"i"),N=[{regex:a,indices:c,postModify:o},{regex:g,indices:y,postModify:l},{regex:S,indices:{bucket:1,path:2},postModify:l}];for(let H=0;H<N.length;H++){let ue=N[H],se=ue.regex.exec(t);if(se){let $e=se[ue.indices.bucket],ln=se[ue.indices.path];ln||(ln=""),r=new e($e,ln),ue.postModify(r);break}}if(r==null)throw vB(t);return r}},Rv=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function EB(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let l=!1;function u(...I){l||(l=!0,t.apply(null,I))}function d(I){i=setTimeout(()=>{i=null,e(g,c())},I)}function p(){o&&clearTimeout(o)}function g(I,...S){if(l){p();return}if(I){p(),u.call(null,I,...S);return}if(c()||s){p(),u.call(null,I,...S);return}r<64&&(r*=2);let N;a===1?(a=2,N=0):N=(r+Math.random())*1e3,d(N)}let y=!1;function w(I){y||(y=!0,p(),!l&&(i!==null?(I||(a=2),clearTimeout(i),d(0)):I||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,w(!0)},n),w}function wB(e){e(!1)}function IB(e){return e!==void 0}function CS(e,t,n,r){if(r<t)throw IS(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw IS(`Invalid value for '${e}'. Expected ${n} or less.`)}function CB(e){let t=encodeURIComponent,n="?";for(let r in e)if(e.hasOwnProperty(r)){let i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var xv=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}(xv||{});function bB(e,t){let n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}var Ov=class{constructor(t,n,r,i,o,s,a,c,l,u,d,p=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=d,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){let t=(r,i)=>{if(i){r(!1,new Yo(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===xv.NO_ERROR,c=o.getStatus();if(!a||bB(c,this.additionalRetryCodes_)&&this.retry){let u=o.getErrorCode()===xv.ABORT;r(!1,new Yo(!1,null,u));return}let l=this.successCodes_.indexOf(c)!==-1;r(!0,new Yo(l,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());IB(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=pB();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?AS():gB();s(c)}else{let c=mB();s(c)}};this.canceled_?n(!1,new Yo(!1,null,!0)):this.backoffId_=EB(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&wB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Yo=class{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}};function DB(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function SB(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function TB(e,t){t&&(e["X-Firebase-GMPID"]=t)}function AB(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function MB(e,t,n,r,i,o,s=!0){let a=CB(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return TB(l,t),DB(l,n),SB(l,o),AB(l,r),new Ov(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}function NB(e){if(e.length===0)return null;let t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function RB(e){let t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}var G9=256*1024;var Pv=class e{constructor(t,n){this._service=t,n instanceof kn?this._location=n:this._location=kn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new e(t,n)}get root(){let t=new kn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RB(this._location.path)}get storage(){return this._service}get parent(){let t=NB(this._location.path);if(t===null)return null;let n=new kn(this._location.bucket,t);return new e(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw _B(t)}};function bS(e,t){let n=t?.[dB];return n==null?null:kn.makeFromBucketSpec(n,e)}function xB(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";let{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:uu(i,e.app.options.projectId))}var kv=class{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=TS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hB,this._maxUploadRetryTime=fB,this._requests=new Set,i!=null?this._bucket=kn.makeFromBucketSpec(i,this._host):this._bucket=bS(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=kn.makeFromBucketSpec(this._url,t):this._bucket=bS(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){CS("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){CS("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return v(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let n=yield t.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return v(this,null,function*(){let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Pv(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new Rv(AS());{let s=MB(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,n){return v(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()})}},DS="@firebase/storage",SS="0.13.2";var MS="storage";function NS(e=lr(),t){e=Ye(e);let r=Jr(e,MS).getImmediate({identifier:t}),i=lu("storage");return i&&RS(r,...i),r}function RS(e,t,n,r={}){xB(e,t,n,r)}function OB(e,{instanceIdentifier:t}){let n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new kv(n,r,i,t,rn)}function PB(){nn(new Ke(MS,OB,"PUBLIC").setMultipleInstances(!0)),he(DS,SS,""),he(DS,SS,"esm2017")}PB();var $a=class{constructor(t){return t}},xS="storage",Fv=class{constructor(){return ei(xS)}};var Lv=new D("angularfire2.storage-instances");function kB(e,t){let n=vo(xS,e,t);return n&&new $a(n)}function FB(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new $a(r)}}var LB={provide:Fv,deps:[[new De,Lv]]},VB={provide:$a,useFactory:kB,deps:[[new De,Lv],Lt]};function OS(e,...t){return he("angularfire",An.full,"gcs"),Fe([VB,LB,{provide:Lv,useFactory:FB(e),multi:!0,deps:[J,Te,dr,Mn,[new De,si],[new De,ur],...t]}])}var PS=Ft(NS,!0);var kS={firebase:{projectId:"alien-trainer-384312",appId:"1:136787582474:web:da57f94d521038a5cf49f3",databaseURL:"https://alien-trainer-384312-default-rtdb.firebaseio.com",storageBucket:"alien-trainer-384312.appspot.com",locationId:"us-central",apiKey:"AIzaSyCGuwJgEallw-z_UjEbG3rhObSdznXzhNw",authDomain:"alien-trainer-384312.firebaseapp.com",messagingSenderId:"136787582474",measurementId:"G-SHPLFLND84"}};var FS={providers:[Ww({eventCoalescing:!0}),vC(Nb),kI(),YC(()=>KC(kS.firebase)),z0(()=>q0()),ES(()=>wS()),OS(()=>PS()),II(CI()),df(Oo)]};var Cd=class e{title="dgrk-app";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=re({type:e,selectors:[["app-root"]],standalone:!0,features:[ie],decls:1,vars:0,template:function(n,r){n&1&&_(0,"router-outlet")},dependencies:[Hp]})};OI(Cd,FS).catch(e=>console.error(e));
