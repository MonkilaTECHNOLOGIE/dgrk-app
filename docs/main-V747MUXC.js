var gS=Object.defineProperty,vS=Object.defineProperties;var yS=Object.getOwnPropertyDescriptors;var Fa=Object.getOwnPropertySymbols,_S=Object.getPrototypeOf,Sv=Object.prototype.hasOwnProperty,Tv=Object.prototype.propertyIsEnumerable,ES=Reflect.get;var Dv=(t,e,n)=>e in t?gS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,C=(t,e)=>{for(var n in e||={})Sv.call(e,n)&&Dv(t,n,e[n]);if(Fa)for(var n of Fa(e))Tv.call(e,n)&&Dv(t,n,e[n]);return t},H=(t,e)=>vS(t,yS(e));var Av=(t,e)=>{var n={};for(var r in t)Sv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Fa)for(var r of Fa(t))e.indexOf(r)<0&&Tv.call(t,r)&&(n[r]=t[r]);return n};var vr=(t,e,n)=>ES(_S(t),n,e);var y=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function Mv(t,e){return Object.is(t,e)}var we=null,La=!1,Va=1,kn=Symbol("SIGNAL");function z(t){let e=we;return we=t,e}function Nv(){return we}var zo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function yd(t){if(La)throw new Error("");if(we===null)return;we.consumerOnSignalRead(t);let e=we.nextProducerIndex++;if($a(we),e<we.producerNode.length&&we.producerNode[e]!==t&&Ho(we)){let n=we.producerNode[e];Ba(n,we.producerIndexOfThis[e])}we.producerNode[e]!==t&&(we.producerNode[e]=t,we.producerIndexOfThis[e]=Ho(we)?Pv(t,we,e):0),we.producerLastReadVersion[e]=t.version}function wS(){Va++}function Rv(t){if(!(Ho(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Va)){if(!t.producerMustRecompute(t)&&!Ed(t)){t.dirty=!1,t.lastCleanEpoch=Va;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Va}}function xv(t){if(t.liveConsumerNode===void 0)return;let e=La;La=!0;try{for(let n of t.liveConsumerNode)n.dirty||IS(n)}finally{La=e}}function Ov(){return we?.consumerAllowSignalWrites!==!1}function IS(t){t.dirty=!0,xv(t),t.consumerMarkedDirty?.(t)}function ja(t){return t&&(t.nextProducerIndex=0),z(t)}function _d(t,e){if(z(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ho(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ba(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ed(t){$a(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Rv(n),r!==n.version))return!0}return!1}function wd(t){if($a(t),Ho(t))for(let e=0;e<t.producerNode.length;e++)Ba(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Pv(t,e,n){if(kv(t),t.liveConsumerNode.length===0&&Fv(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Pv(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ba(t,e){if(kv(t),t.liveConsumerNode.length===1&&Fv(t))for(let r=0;r<t.producerNode.length;r++)Ba(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];$a(i),i.producerIndexOfThis[r]=e}}function Ho(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function $a(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function kv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Fv(t){return t.producerNode!==void 0}function Lv(t){let e=Object.create(CS);e.computation=t;let n=()=>{if(Rv(e),yd(e),e.value===Ua)throw e.error;return e.value};return n[kn]=e,n}var gd=Symbol("UNSET"),vd=Symbol("COMPUTING"),Ua=Symbol("ERRORED"),CS=H(C({},zo),{value:gd,dirty:!0,error:null,equal:Mv,producerMustRecompute(t){return t.value===gd||t.value===vd},producerRecomputeValue(t){if(t.value===vd)throw new Error("Detected cycle in computations.");let e=t.value;t.value=vd;let n=ja(t),r;try{r=t.computation()}catch(i){r=Ua,t.error=i}finally{_d(t,n)}if(e!==gd&&e!==Ua&&r!==Ua&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function bS(){throw new Error}var Vv=bS;function Uv(){Vv()}function jv(t){Vv=t}var DS=null;function Bv(t){let e=Object.create(Hv);e.value=t;let n=()=>(yd(e),e.value);return n[kn]=e,n}function Id(t,e){Ov()||Uv(),t.equal(t.value,e)||(t.value=e,SS(t))}function $v(t,e){Ov()||Uv(),Id(t,e(t.value))}var Hv=H(C({},zo),{equal:Mv,value:void 0});function SS(t){t.version++,wS(),xv(t),DS?.()}function k(t){return typeof t=="function"}function fi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ha=fi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function yr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(k(r))try{r()}catch(o){e=o instanceof Ha?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zv(o)}catch(s){e=e??[],s instanceof Ha?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ha(e)}}add(e){var n;if(e&&e!==this)if(this.closed)zv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&yr(n,e)}remove(e){let{_finalizers:n}=this;n&&yr(n,e),e instanceof t&&e._removeParent(this)}};pe.EMPTY=(()=>{let t=new pe;return t.closed=!0,t})();var Cd=pe.EMPTY;function za(t){return t instanceof pe||t&&"closed"in t&&k(t.remove)&&k(t.add)&&k(t.unsubscribe)}function zv(t){k(t)?t():t.unsubscribe()}var bt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var pi={setTimeout(t,e,...n){let{delegate:r}=pi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=pi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Wa(t){pi.setTimeout(()=>{let{onUnhandledError:e}=bt;if(e)e(t);else throw t})}function Wo(){}var Wv=bd("C",void 0,void 0);function Gv(t){return bd("E",void 0,t)}function qv(t){return bd("N",t,void 0)}function bd(t,e,n){return{kind:t,value:e,error:n}}var _r=null;function mi(t){if(bt.useDeprecatedSynchronousErrorHandling){let e=!_r;if(e&&(_r={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=_r;if(_r=null,n)throw r}}else t()}function Yv(t){bt.useDeprecatedSynchronousErrorHandling&&_r&&(_r.errorThrown=!0,_r.error=t)}var Er=class extends pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,za(e)&&e.add(this)):this.destination=MS}static create(e,n,r){return new gi(e,n,r)}next(e){this.isStopped?Sd(qv(e),this):this._next(e)}error(e){this.isStopped?Sd(Gv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Sd(Wv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TS=Function.prototype.bind;function Dd(t,e){return TS.call(t,e)}var Td=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ga(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ga(r)}else Ga(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ga(n)}}},gi=class extends Er{constructor(e,n,r){super();let i;if(k(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&bt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Dd(e.next,o),error:e.error&&Dd(e.error,o),complete:e.complete&&Dd(e.complete,o)}):i=e}this.destination=new Td(i)}};function Ga(t){bt.useDeprecatedSynchronousErrorHandling?Yv(t):Wa(t)}function AS(t){throw t}function Sd(t,e){let{onStoppedNotification:n}=bt;n&&pi.setTimeout(()=>n(t,e))}var MS={closed:!0,next:Wo,error:AS,complete:Wo};var vi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Qe(t){return t}function Ad(...t){return Md(t)}function Md(t){return t.length===0?Qe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var W=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=RS(n)?n:new gi(n,r,i);return mi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Kv(r),new r((i,o)=>{let s=new gi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[vi](){return this}pipe(...n){return Md(n)(this)}toPromise(n){return n=Kv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Kv(t){var e;return(e=t??bt.Promise)!==null&&e!==void 0?e:Promise}function NS(t){return t&&k(t.next)&&k(t.error)&&k(t.complete)}function RS(t){return t&&t instanceof Er||NS(t)&&za(t)}function Nd(t){return k(t?.lift)}function K(t){return e=>{if(Nd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(t,e,n,r,i){return new Rd(t,e,n,r,i)}var Rd=class extends Er{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function yi(){return K((t,e)=>{let n=null;t._refCount++;let r=G(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var _i=class extends W{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Nd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new pe;let n=this.getSubject();e.add(this.source.subscribe(G(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=pe.EMPTY)}return e}refCount(){return yi()(this)}};var Zv=fi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=(()=>{class t extends W{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new qa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Zv}next(n){mi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){mi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){mi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Cd:(this.currentObservers=null,o.push(n),new pe(()=>{this.currentObservers=null,yr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new W;return n.source=this,n}}return t.create=(e,n)=>new qa(e,n),t})(),qa=class extends be{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Cd}};var Me=class extends be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var xd={now(){return(xd.delegate||Date).now()},delegate:void 0};var Ya=class extends pe{constructor(e,n){super()}schedule(e,n=0){return this}};var Go={setInterval(t,e,...n){let{delegate:r}=Go;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Go;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ei=class extends Ya{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Go.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Go.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,yr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var wi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};wi.now=xd.now;var Ii=class extends wi{constructor(e,n=wi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Od=new Ii(Ei);var Ka=class extends Ei{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Za=class extends Ii{};var Pd=new Za(Ka);var Je=new W(t=>t.complete());function Qv(t){return t&&k(t.schedule)}function Jv(t){return t[t.length-1]}function Qa(t){return k(Jv(t))?t.pop():void 0}function Fn(t){return Qv(Jv(t))?t.pop():void 0}function kd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ey(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Xv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wr(t){return this instanceof wr?(this.v=t,this):new wr(t)}function ty(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(_){return Promise.resolve(_).then(g,d)}}function a(g,_){r[g]&&(i[g]=function(w){return new Promise(function(I,S){o.push([g,w,I,S])>1||c(g,w)})},_&&(i[g]=_(i[g])))}function c(g,_){try{l(r[g](_))}catch(w){p(o[0][3],w)}}function l(g){g.value instanceof wr?Promise.resolve(g.value.v).then(u,d):p(o[0][2],g)}function u(g){c("next",g)}function d(g){c("throw",g)}function p(g,_){g(_),o.shift(),o.length&&c(o[0][0],o[0][1])}}function ny(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Xv=="function"?Xv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ja=t=>t&&typeof t.length=="number"&&typeof t!="function";function Xa(t){return k(t?.then)}function ec(t){return k(t[vi])}function tc(t){return Symbol.asyncIterator&&k(t?.[Symbol.asyncIterator])}function nc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var rc=xS();function ic(t){return k(t?.[rc])}function oc(t){return ty(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield wr(n.read());if(i)return yield wr(void 0);yield yield wr(r)}}finally{n.releaseLock()}})}function sc(t){return k(t?.getReader)}function ye(t){if(t instanceof W)return t;if(t!=null){if(ec(t))return OS(t);if(Ja(t))return PS(t);if(Xa(t))return kS(t);if(tc(t))return ry(t);if(ic(t))return FS(t);if(sc(t))return LS(t)}throw nc(t)}function OS(t){return new W(e=>{let n=t[vi]();if(k(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function PS(t){return new W(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function kS(t){return new W(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Wa)})}function FS(t){return new W(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function ry(t){return new W(e=>{VS(t,e).catch(n=>e.error(n))})}function LS(t){return ry(oc(t))}function VS(t,e){var n,r,i,o;return ey(this,void 0,void 0,function*(){try{for(n=ny(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function ze(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ln(t,e=0){return K((n,r)=>{n.subscribe(G(r,i=>ze(r,t,()=>r.next(i),e),()=>ze(r,t,()=>r.complete(),e),i=>ze(r,t,()=>r.error(i),e)))})}function Vn(t,e=0){return K((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function iy(t,e){return ye(t).pipe(Vn(e),Ln(e))}function oy(t,e){return ye(t).pipe(Vn(e),Ln(e))}function sy(t,e){return new W(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function ay(t,e){return new W(n=>{let r;return ze(n,e,()=>{r=t[rc](),ze(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>k(r?.return)&&r.return()})}function ac(t,e){if(!t)throw new Error("Iterable cannot be null");return new W(n=>{ze(n,e,()=>{let r=t[Symbol.asyncIterator]();ze(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function cy(t,e){return ac(oc(t),e)}function ly(t,e){if(t!=null){if(ec(t))return iy(t,e);if(Ja(t))return sy(t,e);if(Xa(t))return oy(t,e);if(tc(t))return ac(t,e);if(ic(t))return ay(t,e);if(sc(t))return cy(t,e)}throw nc(t)}function he(t,e){return e?ly(t,e):ye(t)}function O(...t){let e=Fn(t);return he(t,e)}function Ci(t,e){let n=k(t)?t:()=>t,r=i=>i.error(n());return new W(e?i=>e.schedule(r,0,i):r)}function Fd(t){return!!t&&(t instanceof W||k(t.lift)&&k(t.subscribe))}var ln=fi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function F(t,e){return K((n,r)=>{let i=0;n.subscribe(G(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:US}=Array;function jS(t,e){return US(e)?t(...e):t(e)}function cc(t){return F(e=>jS(t,e))}var{isArray:BS}=Array,{getPrototypeOf:$S,prototype:HS,keys:zS}=Object;function lc(t){if(t.length===1){let e=t[0];if(BS(e))return{args:e,keys:null};if(WS(e)){let n=zS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function WS(t){return t&&typeof t=="object"&&$S(t)===HS}function uc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function dc(...t){let e=Fn(t),n=Qa(t),{args:r,keys:i}=lc(t);if(r.length===0)return he([],e);let o=new W(GS(r,e,i?s=>uc(i,s):Qe));return n?o.pipe(cc(n)):o}function GS(t,e,n=Qe){return r=>{uy(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)uy(e,()=>{let l=he(t[c],e),u=!1;l.subscribe(G(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function uy(t,e,n){t?ze(n,t,e):e()}function dy(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,p=()=>{d&&!c.length&&!l&&e.complete()},g=w=>l<r?_(w):c.push(w),_=w=>{o&&e.next(w),l++;let I=!1;ye(n(w,u++)).subscribe(G(e,S=>{i?.(S),o?g(S):e.next(S)},()=>{I=!0},void 0,()=>{if(I)try{for(l--;c.length&&l<r;){let S=c.shift();s?ze(e,s,()=>_(S)):_(S)}p()}catch(S){e.error(S)}}))};return t.subscribe(G(e,g,()=>{d=!0,p()})),()=>{a?.()}}function Ie(t,e,n=1/0){return k(e)?Ie((r,i)=>F((o,s)=>e(r,o,i,s))(ye(t(r,i))),n):(typeof e=="number"&&(n=e),K((r,i)=>dy(r,i,t,n)))}function Ld(t=1/0){return Ie(Qe,t)}function hy(){return Ld(1)}function bi(...t){return hy()(he(t,Fn(t)))}function hc(t){return new W(e=>{ye(t()).subscribe(e)})}function Vd(...t){let e=Qa(t),{args:n,keys:r}=lc(t),i=new W(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;ye(n[u]).subscribe(G(o,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?uc(r,a):a),o.complete())}))}});return e?i.pipe(cc(e)):i}function Xe(t,e){return K((n,r)=>{let i=0;n.subscribe(G(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Un(t){return K((e,n)=>{let r=null,i=!1,o;r=e.subscribe(G(n,void 0,void 0,s=>{o=ye(t(s,Un(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function fy(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(G(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function jn(t,e){return k(e)?Ie(t,e,1):Ie(t,1)}function Bn(t){return K((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function un(t){return t<=0?()=>Je:K((e,n)=>{let r=0;e.subscribe(G(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ud(t){return F(()=>t)}function fc(t=qS){return K((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function qS(){return new ln}function Ir(t){return K((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Dt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xe((i,o)=>t(i,o,r)):Qe,un(1),n?Bn(e):fc(()=>new ln))}function Di(t){return t<=0?()=>Je:K((e,n)=>{let r=[];e.subscribe(G(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function jd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xe((i,o)=>t(i,o,r)):Qe,Di(1),n?Bn(e):fc(()=>new ln))}function Bd(t,e){return K(fy(t,e,arguments.length>=2,!0))}function $d(...t){let e=Fn(t);return K((n,r)=>{(e?bi(t,n,e):bi(t,n)).subscribe(r)})}function et(t,e){return K((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(G(r,c=>{i?.unsubscribe();let l=0,u=o++;ye(t(c,u)).subscribe(i=G(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Hd(t){return K((e,n)=>{ye(t).subscribe(G(n,()=>n.complete(),Wo)),!n.closed&&e.subscribe(n)})}function ve(t,e,n){let r=k(t)||e||n?{next:t,error:e,complete:n}:t;return r?K((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(G(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Qe}var Xy="https://g.co/ng/security#xss",A=class extends Error{constructor(e,n){super(el(e,n)),this.code=e}};function el(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function as(t){return{toString:t}.toString()}var pc="__parameters__";function YS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function KS(t,e,n){return as(()=>{let r=YS(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(pc)?c[pc]:Object.defineProperty(c,pc,{value:[]})[pc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var sh=globalThis;function se(t){for(let e in t)if(t[e]===se)return e;throw Error("Could not find renamed property on target object.")}function ZS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function We(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(We).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function py(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var QS=se({__forward_ref__:se});function Wt(t){return t.__forward_ref__=Wt,t.toString=function(){return We(this())},t}function $e(t){return e_(t)?t():t}function e_(t){return typeof t=="function"&&t.hasOwnProperty(QS)&&t.__forward_ref__===Wt}function T(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Rr(t){return{providers:t.providers||[],imports:t.imports||[]}}function tl(t){return my(t,n_)||my(t,r_)}function t_(t){return tl(t)!==null}function my(t,e){return t.hasOwnProperty(e)?t[e]:null}function JS(t){let e=t&&(t[n_]||t[r_]);return e||null}function gy(t){return t&&(t.hasOwnProperty(vy)||t.hasOwnProperty(XS))?t[vy]:null}var n_=se({\u0275prov:se}),vy=se({\u0275inj:se}),r_=se({ngInjectableDef:se}),XS=se({ngInjectorDef:se}),D=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=T({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function i_(t){return t&&!!t.\u0275providers}var eT=se({\u0275cmp:se}),tT=se({\u0275dir:se}),nT=se({\u0275pipe:se}),rT=se({\u0275mod:se}),Tc=se({\u0275fac:se}),Ko=se({__NG_ELEMENT_ID__:se}),yy=se({__NG_ENV_ID__:se});function nl(t){return typeof t=="string"?t:t==null?"":String(t)}function iT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():nl(t)}function oT(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,t)}function Jh(t,e){throw new A(-201,!1)}var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(j||{}),ah;function o_(){return ah}function ht(t){let e=ah;return ah=t,e}function s_(t,e,n){let r=tl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&j.Optional)return null;if(e!==void 0)return e;Jh(t,"Injector")}var sT={},Zo=sT,ch="__NG_DI_FLAG__",Ac="ngTempTokenPath",aT="ngTokenPath",cT=/\n/gm,lT="\u0275",_y="__source",Mi;function uT(){return Mi}function $n(t){let e=Mi;return Mi=t,e}function dT(t,e=j.Default){if(Mi===void 0)throw new A(-203,!1);return Mi===null?s_(t,void 0,e):Mi.get(t,e&j.Optional?null:void 0,e)}function M(t,e=j.Default){return(o_()||dT)($e(t),e)}function E(t,e=j.Default){return M(t,rl(e))}function rl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lh(t){let e=[];for(let n=0;n<t.length;n++){let r=$e(t[n]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,o=j.Default;for(let s=0;s<r.length;s++){let a=r[s],c=fT(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(M(i,o))}else e.push(M(r))}return e}function hT(t,e){return t[ch]=e,t.prototype[ch]=e,t}function fT(t){return t[ch]}function pT(t,e,n,r){let i=t[Ac];throw e[_y]&&i.unshift(e[_y]),t.message=mT(`
`+t.message,i,n,r),t[aT]=i,t[Ac]=null,t}function mT(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==lT?t.slice(2):t;let i=We(e);if(Array.isArray(e))i=e.map(We).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):We(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(cT,`
  `)}`}var Ce=hT(KS("Optional"),8);function Ri(t,e){let n=t.hasOwnProperty(Tc);return n?t[Tc]:null}function Xh(t,e){t.forEach(n=>Array.isArray(n)?Xh(n,e):e(n))}function a_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Mc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function vT(t,e,n){let r=cs(t,e);return r>=0?t[r|1]=n:(r=~r,gT(t,r,e,n)),r}function zd(t,e){let n=cs(t,e);if(n>=0)return t[n|1]}function cs(t,e){return yT(t,e,1)}function yT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var xi={},tt=[],br=new D(""),c_=new D("",-1),l_=new D(""),Nc=class{get(e,n=Zo){if(n===Zo){let r=new Error(`NullInjectorError: No provider for ${We(e)}!`);throw r.name="NullInjectorError",r}return n}},u_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(u_||{}),Ht=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ht||{}),zn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(zn||{});function _T(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function uh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];ET(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function d_(t){return t===3||t===4||t===6}function ET(t){return t.charCodeAt(0)===64}function Qo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Ey(t,n,i,null,e[++r]):Ey(t,n,i,null,null))}}return t}function Ey(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var h_="ng-template";function wT(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&_T(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ef(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ef(t){return t.type===4&&t.value!==h_}function IT(t,e,n){let r=t.type===4&&!n?h_:t.value;return e===r}function CT(t,e,n){let r=4,i=t.attrs,o=i!==null?ST(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!St(r)&&!St(c))return!1;if(s&&St(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!IT(t,c,n)||c===""&&e.length===1){if(St(r))return!1;s=!0}}else if(r&8){if(i===null||!wT(t,i,c,n)){if(St(r))return!1;s=!0}}else{let l=e[++a],u=bT(c,i,ef(t),n);if(u===-1){if(St(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(St(r))return!1;s=!0}}}}return St(r)||s}function St(t){return(t&1)===0}function bT(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return TT(e,t)}function DT(t,e,n=!1){for(let r=0;r<e.length;r++)if(CT(t,e[r],n))return!0;return!1}function ST(t){for(let e=0;e<t.length;e++){let n=t[e];if(d_(n))return e}return t.length}function TT(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function wy(t,e){return t?":not("+e.trim()+")":e}function AT(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!St(s)&&(e+=wy(o,i),i=""),r=s,o=o||!St(r);n++}return i!==""&&(e+=wy(o,i)),e}function MT(t){return t.map(AT).join(",")}function NT(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!St(i))break;i=o}r++}return{attrs:e,classes:n}}function ne(t){return as(()=>{let e=v_(t),n=H(C({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===u_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ht.Emulated,styles:t.styles||tt,_:null,schemas:t.schemas||null,tView:null,id:""});y_(n);let r=t.dependencies;return n.directiveDefs=Cy(r,!1),n.pipeDefs=Cy(r,!0),n.id=OT(n),n})}function RT(t){return Dr(t)||f_(t)}function xT(t){return t!==null}function xr(t){return as(()=>({type:t.type,bootstrap:t.bootstrap||tt,declarations:t.declarations||tt,imports:t.imports||tt,exports:t.exports||tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Iy(t,e){if(t==null)return xi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=zn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==zn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ee(t){return as(()=>{let e=v_(t);return y_(e),e})}function Dr(t){return t[eT]||null}function f_(t){return t[tT]||null}function p_(t){return t[nT]||null}function m_(t){let e=Dr(t)||f_(t)||p_(t);return e!==null?e.standalone:!1}function g_(t,e){let n=t[rT]||null;if(!n&&e===!0)throw new Error(`Type ${We(t)} does not have '\u0275mod' property.`);return n}function v_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||xi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||tt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Iy(t.inputs,e),outputs:Iy(t.outputs),debugInfo:null}}function y_(t){t.features?.forEach(e=>e(t))}function Cy(t,e){if(!t)return null;let n=e?p_:RT;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(xT)}function OT(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ke(t){return{\u0275providers:t}}function PT(...t){return{\u0275providers:__(!0,t),\u0275fromNgModule:!0}}function __(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Xh(e,s=>{let a=s;dh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&E_(i,o),n}function E_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];tf(i,o=>{e(o,r)})}}function dh(t,e,n,r){if(t=$e(t),!t)return!1;let i=null,o=gy(t),s=!o&&Dr(t);if(!o&&!s){let c=t.ngModule;if(o=gy(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)dh(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Xh(o.imports,u=>{dh(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&E_(l,e)}if(!a){let l=Ri(i)||(()=>new i);e({provide:i,useFactory:l,deps:tt},i),e({provide:l_,useValue:i,multi:!0},i),e({provide:br,useValue:()=>M(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;tf(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function tf(t,e){for(let n of t)i_(n)&&(n=n.\u0275providers),Array.isArray(n)?tf(n,e):e(n)}var kT=se({provide:String,useValue:se});function w_(t){return t!==null&&typeof t=="object"&&kT in t}function FT(t){return!!(t&&t.useExisting)}function LT(t){return!!(t&&t.useFactory)}function Oi(t){return typeof t=="function"}function VT(t){return!!t.useClass}var il=new D(""),Ic={},UT={},Wd;function nf(){return Wd===void 0&&(Wd=new Nc),Wd}var Ge=class{},Jo=class extends Ge{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fh(e,s=>this.processProvider(s)),this.records.set(c_,Si(void 0,this)),i.has("environment")&&this.records.set(Ge,Si(void 0,this));let o=this.records.get(il);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(l_,tt,j.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),z(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=$n(this),r=ht(void 0),i;try{return e()}finally{$n(n),ht(r)}}get(e,n=Zo,r=j.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(yy))return e[yy](this);r=rl(r);let i,o=$n(this),s=ht(void 0);try{if(!(r&j.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=zT(e)&&tl(e);l&&this.injectableDefInScope(l)?c=Si(hh(e),Ic):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&j.Self?nf():this.parent;return n=r&j.Optional&&n===Zo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ac]=a[Ac]||[]).unshift(We(e)),o)throw a;return pT(a,e,"R3InjectorError",this.source)}else throw a}finally{ht(s),$n(o)}}resolveInjectorInitializers(){let e=z(null),n=$n(this),r=ht(void 0),i;try{let o=this.get(br,tt,j.Self);for(let s of o)s()}finally{$n(n),ht(r),z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(We(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){e=$e(e);let n=Oi(e)?e:$e(e&&e.provide),r=BT(e);if(!Oi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Si(void 0,Ic,!0),i.factory=()=>lh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=z(null);try{return n.value===Ic&&(n.value=UT,n.value=n.factory()),typeof n.value=="object"&&n.value&&HT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{z(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=$e(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function hh(t){let e=tl(t),n=e!==null?e.factory:Ri(t);if(n!==null)return n;if(t instanceof D)throw new A(204,!1);if(t instanceof Function)return jT(t);throw new A(204,!1)}function jT(t){if(t.length>0)throw new A(204,!1);let n=JS(t);return n!==null?()=>n.factory(t):()=>new t}function BT(t){if(w_(t))return Si(void 0,t.useValue);{let e=I_(t);return Si(e,Ic)}}function I_(t,e,n){let r;if(Oi(t)){let i=$e(t);return Ri(i)||hh(i)}else if(w_(t))r=()=>$e(t.useValue);else if(LT(t))r=()=>t.useFactory(...lh(t.deps||[]));else if(FT(t))r=()=>M($e(t.useExisting));else{let i=$e(t&&(t.useClass||t.provide));if($T(t))r=()=>new i(...lh(t.deps));else return Ri(i)||hh(i)}return r}function Si(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $T(t){return!!t.deps}function HT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function zT(t){return typeof t=="function"||typeof t=="object"&&t instanceof D}function fh(t,e){for(let n of t)Array.isArray(n)?fh(n,e):n&&i_(n)?fh(n.\u0275providers,e):e(n)}function Rt(t,e){t instanceof Jo&&t.assertNotDestroyed();let n,r=$n(t),i=ht(void 0);try{return e()}finally{$n(r),ht(i)}}function WT(){return o_()!==void 0||uT()!=null}function GT(t){return typeof t=="function"}var nt=0,L=1,P=2,Pe=3,Tt=4,xt=5,Mt=6,Rc=7,xe=8,Pi=9,zt=10,me=11,Xo=12,by=13,zi=14,rt=15,ki=16,Ti=17,Fi=18,ol=19,C_=20,Hn=21,Gd=22,ft=23,De=25,b_=1,es=6,dn=7,xc=8,Oc=9,Oe=10,Pc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Pc||{});function At(t){return Array.isArray(t)&&typeof t[b_]=="object"}function Gt(t){return Array.isArray(t)&&t[b_]===!0}function D_(t){return(t.flags&4)!==0}function ls(t){return t.componentOffset>-1}function rf(t){return(t.flags&1)===1}function Wn(t){return!!t.template}function kc(t){return(t[P]&512)!==0}var ph=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function S_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function mn(){return T_}function T_(t){return t.type.prototype.ngOnChanges&&(t.setInput=YT),qT}mn.ngInherit=!0;function qT(){let t=M_(this),e=t?.current;if(e){let n=t.previous;if(n===xi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function YT(t,e,n,r,i){let o=this.declaredInputs[r],s=M_(t)||KT(t,{previous:xi,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new ph(l&&l.currentValue,n,c===xi),S_(t,e,i,n)}var A_="__ngSimpleChanges__";function M_(t){return t[A_]||null}function KT(t,e){return t[A_]=e}var Dy=null;var Bt=function(t,e,n){Dy?.(t,e,n)},ZT="svg",QT="math";function Nt(t){for(;Array.isArray(t);)t=t[nt];return t}function N_(t,e){return Nt(e[t])}function it(t,e){return Nt(e[t.index])}function of(t,e){return t.data[e]}function JT(t,e){return t[e]}function qn(t,e){let n=e[t];return At(n)?n:n[nt]}function sf(t){return(t[P]&128)===128}function XT(t){return Gt(t[Pe])}function Li(t,e){return e==null?null:t[e]}function R_(t){t[Ti]=0}function x_(t){t[P]&1024||(t[P]|=1024,sf(t)&&al(t))}function eA(t,e){for(;t>0;)e=e[zi],t--;return e}function sl(t){return!!(t[P]&9216||t[ft]?.dirty)}function mh(t){t[zt].changeDetectionScheduler?.notify(8),t[P]&64&&(t[P]|=1024),sl(t)&&al(t)}function al(t){t[zt].changeDetectionScheduler?.notify(0);let e=Sr(t);for(;e!==null&&!(e[P]&8192||(e[P]|=8192,!sf(e)));)e=Sr(e)}function O_(t,e){if((t[P]&256)===256)throw new A(911,!1);t[Hn]===null&&(t[Hn]=[]),t[Hn].push(e)}function tA(t,e){if(t[Hn]===null)return;let n=t[Hn].indexOf(e);n!==-1&&t[Hn].splice(n,1)}function Sr(t){let e=t[Pe];return Gt(e)?e[Pe]:e}var $={lFrame:$_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var P_=!1;function nA(){return $.lFrame.elementDepthCount}function rA(){$.lFrame.elementDepthCount++}function iA(){$.lFrame.elementDepthCount--}function k_(){return $.bindingsEnabled}function us(){return $.skipHydrationRootTNode!==null}function oA(t){return $.skipHydrationRootTNode===t}function sA(t){$.skipHydrationRootTNode=t}function aA(){$.skipHydrationRootTNode=null}function ce(){return $.lFrame.lView}function pt(){return $.lFrame.tView}function Fe(t){return $.lFrame.contextLView=t,t[xe]}function Le(t){return $.lFrame.contextLView=null,t}function ot(){let t=F_();for(;t!==null&&t.type===64;)t=t.parent;return t}function F_(){return $.lFrame.currentTNode}function cA(){let t=$.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ds(t,e){let n=$.lFrame;n.currentTNode=t,n.isParent=e}function L_(){return $.lFrame.isParent}function lA(){$.lFrame.isParent=!1}function uA(){return $.lFrame.contextLView}function V_(){return P_}function Sy(t){P_=t}function dA(t){return $.lFrame.bindingIndex=t}function hs(){return $.lFrame.bindingIndex++}function hA(t){let e=$.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function fA(){return $.lFrame.inI18n}function pA(t,e){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=t,gh(e)}function mA(){return $.lFrame.currentDirectiveIndex}function gh(t){$.lFrame.currentDirectiveIndex=t}function gA(t){let e=$.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function U_(t){$.lFrame.currentQueryIndex=t}function vA(t){let e=t[L];return e.type===2?e.declTNode:e.type===1?t[xt]:null}function j_(t,e,n){if(n&j.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&j.Host);)if(i=vA(o),i===null||(o=o[zi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=$.lFrame=B_();return r.currentTNode=e,r.lView=t,!0}function af(t){let e=B_(),n=t[L];$.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function B_(){let t=$.lFrame,e=t===null?null:t.child;return e===null?$_(t):e}function $_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function H_(){let t=$.lFrame;return $.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var z_=H_;function cf(){let t=H_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yA(t){return($.lFrame.contextLView=eA(t,$.lFrame.contextLView))[xe]}function Or(){return $.lFrame.selectedIndex}function Tr(t){$.lFrame.selectedIndex=t}function W_(){let t=$.lFrame;return of(t.tView,t.selectedIndex)}function G_(){return $.lFrame.currentNamespace}var q_=!0;function lf(){return q_}function Yn(t){q_=t}function _A(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=T_(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function uf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Cc(t,e,n){Y_(t,e,3,n)}function bc(t,e,n,r){(t[P]&3)===n&&Y_(t,e,n,r)}function qd(t,e){let n=t[P];(n&3)===e&&(n&=16383,n+=1,t[P]=n)}function Y_(t,e,n,r){let i=r!==void 0?t[Ti]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ti]+=65536),(a<o||o==-1)&&(EA(t,n,e,c),t[Ti]=(t[Ti]&4294901760)+c+2),c++}function Ty(t,e){Bt(4,t,e);let n=z(null);try{e.call(t)}finally{z(n),Bt(5,t,e)}}function EA(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[P]>>14<t[Ti]>>16&&(t[P]&3)===e&&(t[P]+=16384,Ty(a,o)):Ty(a,o)}var Ni=-1,Ar=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function wA(t){return t instanceof Ar}function IA(t){return(t.flags&8)!==0}function CA(t){return(t.flags&16)!==0}var Yd={},vh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=rl(r);let i=this.injector.get(e,Yd,r);return i!==Yd||n===Yd?i:this.parentInjector.get(e,n,r)}};function K_(t){return t!==Ni}function Fc(t){return t&32767}function bA(t){return t>>16}function Lc(t,e){let n=bA(t),r=e;for(;n>0;)r=r[zi],n--;return r}var yh=!0;function Ay(t){let e=yh;return yh=t,e}var DA=256,Z_=DA-1,Q_=5,SA=0,$t={};function TA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ko)&&(r=n[Ko]),r==null&&(r=n[Ko]=SA++);let i=r&Z_,o=1<<i;e.data[t+(i>>Q_)]|=o}function Vc(t,e){let n=J_(t,e);if(n!==-1)return n;let r=e[L];r.firstCreatePass&&(t.injectorIndex=e.length,Kd(r.data,t),Kd(e,null),Kd(r.blueprint,null));let i=df(t,e),o=t.injectorIndex;if(K_(i)){let s=Fc(i),a=Lc(i,e),c=a[L].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Kd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function J_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function df(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=rE(i),r===null)return Ni;if(n++,i=i[zi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ni}function _h(t,e,n){TA(t,e,n)}function AA(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(d_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function X_(t,e,n){if(n&j.Optional||t!==void 0)return t;Jh(e,"NodeInjector")}function eE(t,e,n,r){if(n&j.Optional&&r===void 0&&(r=null),!(n&(j.Self|j.Host))){let i=t[Pi],o=ht(void 0);try{return i?i.get(e,r,n&j.Optional):s_(e,r,n&j.Optional)}finally{ht(o)}}return X_(r,e,n)}function tE(t,e,n,r=j.Default,i){if(t!==null){if(e[P]&2048&&!(r&j.Self)){let s=OA(t,e,n,r,$t);if(s!==$t)return s}let o=nE(t,e,n,r,$t);if(o!==$t)return o}return eE(e,n,r,i)}function nE(t,e,n,r,i){let o=RA(n);if(typeof o=="function"){if(!j_(e,t,r))return r&j.Host?X_(i,n,r):eE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&j.Optional))Jh(n);else return s}finally{z_()}}else if(typeof o=="number"){let s=null,a=J_(t,e),c=Ni,l=r&j.Host?e[rt][xt]:null;for((a===-1||r&j.SkipSelf)&&(c=a===-1?df(t,e):e[a+8],c===Ni||!Ny(r,!1)?a=-1:(s=e[L],a=Fc(c),e=Lc(c,e)));a!==-1;){let u=e[L];if(My(o,a,u.data)){let d=MA(a,e,n,s,r,l);if(d!==$t)return d}c=e[a+8],c!==Ni&&Ny(r,e[L].data[a+8]===l)&&My(o,a,e)?(s=u,a=Fc(c),e=Lc(c,e)):a=-1}}return i}function MA(t,e,n,r,i,o){let s=e[L],a=s.data[t+8],c=r==null?ls(a)&&yh:r!=s&&(a.type&3)!==0,l=i&j.Host&&o===a,u=NA(a,s,n,c,l);return u!==null?Vi(e,s,u,a):$t}function NA(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,p=i?a+u:l;for(let g=d;g<p;g++){let _=s[g];if(g<c&&n===_||g>=c&&_.type===n)return g}if(i){let g=s[c];if(g&&Wn(g)&&g.type===n)return c}return null}function Vi(t,e,n,r){let i=t[n],o=e.data;if(wA(i)){let s=i;s.resolving&&oT(iT(o[n]));let a=Ay(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?ht(s.injectImpl):null,u=j_(t,r,j.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&_A(n,o[n],e)}finally{l!==null&&ht(l),Ay(a),s.resolving=!1,z_()}}return i}function RA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ko)?t[Ko]:void 0;return typeof e=="number"?e>=0?e&Z_:xA:e}function My(t,e,n){let r=1<<t;return!!(n[e+(t>>Q_)]&r)}function Ny(t,e){return!(t&j.Self)&&!(t&j.Host&&e)}var Cr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return tE(this._tNode,this._lView,e,rl(r),n)}};function xA(){return new Cr(ot(),ce())}function gn(t){return as(()=>{let e=t.prototype.constructor,n=e[Tc]||Eh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Tc]||Eh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Eh(t){return e_(t)?()=>{let e=Eh($e(t));return e&&e()}:Ri(t)}function OA(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[P]&2048&&!(s[P]&512);){let a=nE(o,s,n,r|j.Self,$t);if(a!==$t)return a;let c=o.parent;if(!c){let l=s[C_];if(l){let u=l.get(n,$t,r);if(u!==$t)return u}c=rE(s),s=s[zi]}o=c}return i}function rE(t){let e=t[L],n=e.type;return n===2?e.declTNode:n===1?t[xt]:null}function hf(t){return AA(ot(),t)}function Ry(t,e=null,n=null,r){let i=iE(t,e,n,r);return i.resolveInjectorInitializers(),i}function iE(t,e=null,n=null,r,i=new Set){let o=[n||tt,PT(t)];return r=r||(typeof t=="object"?void 0:We(t)),new Jo(o,e||nf(),r||null,i)}var Se=class t{static{this.THROW_IF_NOT_FOUND=Zo}static{this.NULL=new Nc}static create(e,n){if(Array.isArray(e))return Ry({name:""},n,e,"");{let r=e.name??"";return Ry({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=T({token:t,providedIn:"any",factory:()=>M(c_)})}static{this.__NG_ELEMENT_ID__=-1}};var PA=new D("");PA.__NG_ELEMENT_ID__=t=>{let e=ot();if(e===null)throw new A(204,!1);if(e.type&2)return e.value;if(t&j.Optional)return null;throw new A(204,!1)};var kA="ngOriginalError";function Zd(t){return t[kA]}var oE=!0,sE=(()=>{class t{static{this.__NG_ELEMENT_ID__=FA}static{this.__NG_ENV_ID__=n=>n}}return t})(),wh=class extends sE{constructor(e){super(),this._lView=e}onDestroy(e){return O_(this._lView,e),()=>tA(this._lView,e)}};function FA(){return new wh(ce())}var Kn=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Me(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Ih=class extends be{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,WT()&&(this.destroyRef=E(sE,{optional:!0})??void 0,this.pendingTasks=E(Kn,{optional:!0})??void 0)}emit(e){let n=z(null);try{super.next(e)}finally{z(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof pe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},_e=Ih;function Uc(...t){}function aE(t){let e,n;function r(){t=Uc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function xy(t){return queueMicrotask(()=>t()),()=>{t=Uc}}var ff="isAngularZone",jc=ff+"_ID",LA=0,X=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _e(!1),this.onMicrotaskEmpty=new _e(!1),this.onStable=new _e(!1),this.onError=new _e(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=oE}=e;if(typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,jA(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ff)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,VA,Uc,Uc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},VA={};function pf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function UA(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){aE(()=>{t.callbackScheduled=!1,Ch(t),t.isCheckStableRunning=!0,pf(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ch(t)}function jA(t){let e=()=>{UA(t)},n=LA++;t._inner=t._inner.fork({name:"angular",properties:{[ff]:!0,[jc]:n,[jc+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(BA(c))return r.invokeTask(o,s,a,c);try{return Oy(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Py(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Oy(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!$A(c)&&e(),Py(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ch(t),pf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ch(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Oy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Py(t){t._nesting--,pf(t)}var bh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _e,this.onMicrotaskEmpty=new _e,this.onStable=new _e,this.onError=new _e}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function BA(t){return cE(t,"__ignore_ng_zone__")}function $A(t){return cE(t,"__scheduler_tick__")}function cE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var hn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Zd(e);for(;n&&Zd(n);)n=Zd(n);return n||null}},HA=new D("",{providedIn:"root",factory:()=>{let t=E(X),e=E(hn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function zA(){return mf(ot(),ce())}function mf(t,e){return new qt(it(t,e))}var qt=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=zA}}return t})();var WA="ngSkipHydration",GA="ngskiphydration";function lE(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===GA)return!0}return!1}function uE(t){return t.hasAttribute(WA)}function Bc(t){return(t.flags&128)===128}function qA(t){if(Bc(t))return!0;let e=t.parent;for(;e;){if(Bc(t)||lE(e))return!0;e=e.parent}return!1}var dE=new Map,YA=0;function KA(){return YA++}function ZA(t){dE.set(t[ol],t)}function Dh(t){dE.delete(t[ol])}var ky="__ngContext__";function Mr(t,e){At(e)?(t[ky]=e[ol],ZA(e)):t[ky]=e}function hE(t){return pE(t[Xo])}function fE(t){return pE(t[Tt])}function pE(t){for(;t!==null&&!Gt(t);)t=t[Tt];return t}var Sh;function mE(t){Sh=t}function cl(){if(Sh!==void 0)return Sh;if(typeof document<"u")return document;throw new A(210,!1)}var ll=new D("",{providedIn:"root",factory:()=>QA}),QA="ng",gf=new D(""),st=new D("",{providedIn:"platform",factory:()=>"unknown"});var vf=new D("",{providedIn:"root",factory:()=>cl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function JA(){let t=new Wi;return E(st)==="browser"&&(t.store=XA(cl(),E(ll))),t}var Wi=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=T({token:t,providedIn:"root",factory:JA})}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function XA(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var gE="h",vE="b",Th=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Th||{}),eM="e",tM="t",yf="c",yE="x",$c="r",nM="i",rM="n",_E="d";var iM="__nghData__",EE=iM,Qd="ngh",oM="nghm",wE=()=>null;function sM(t,e,n=!1){let r=t.getAttribute(Qd);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=e.get(Wi,null,{optional:!0});u!==null&&(c=u.get(EE,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,ul(l,0,t.nextSibling)),a?t.setAttribute(Qd,a):t.removeAttribute(Qd),l}function aM(){wE=sM}function _f(t,e,n=!1){return wE(t,e,n)}function cM(t){let e=t._lView;return e[L].type===2?null:(kc(e)&&(e=e[De]),e)}function lM(t){return t.textContent?.replace(/\s/gm,"")}function uM(t){let e=cl(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=lM(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function ul(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Ah(t,e){return t.segmentHeads?.[e]??null}function dM(t,e){let n=t.data,r=n[eM]?.[e]??null;return r===null&&n[yf]?.[e]&&(r=Ef(t,e)),r}function IE(t,e){return t.data[yf]?.[e]??null}function Ef(t,e){let n=IE(t,e)??[],r=0;for(let i of n)r+=i[$c]*(i[yE]??1);return r}function hM(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[_E];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function fs(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[_E];t.disconnectedNodes=n?new Set(n):null}return!!hM(t)?.has(e)}var mc=new D(""),CE=!1,bE=new D("",{providedIn:"root",factory:()=>CE});var gc;function fM(){if(gc===void 0&&(gc=null,sh.trustedTypes))try{gc=sh.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return gc}function Fy(t){return fM()?.createScriptURL(t)||t}var Hc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xy})`}};function ps(t){return t instanceof Hc?t.changingThisBreaksApplicationSecurity:t}function wf(t,e){let n=pM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Xy})`)}return n===e}function pM(t){return t instanceof Hc&&t.getTypeName()||null}var mM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function DE(t){return t=String(t),t.match(mM)?t:"unsafe:"+t}var dl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(dl||{});function gM(t){let e=TE();return e?e.sanitize(dl.URL,t)||"":wf(t,"URL")?ps(t):DE(nl(t))}function vM(t){let e=TE();if(e)return Fy(e.sanitize(dl.RESOURCE_URL,t)||"");if(wf(t,"ResourceURL"))return Fy(ps(t));throw new A(904,!1)}function yM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?vM:gM}function SE(t,e,n){return yM(e,n)(t)}function TE(){let t=ce();return t&&t[zt].sanitizer}var _M=/^>|^->|<!--|-->|--!>|<!-$/g,EM=/(<|>)/g,wM="\u200B$1\u200B";function IM(t){return t.replace(_M,e=>e.replace(EM,wM))}function CM(t){return t.ownerDocument.body}function AE(t){return t instanceof Function?t():t}function vc(t){return(t??E(Se)).get(st)==="browser"}var fn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(fn||{}),bM;function If(t,e){return bM(t,e)}function Ai(t,e,n,r,i){if(r!=null){let o,s=!1;Gt(r)?o=r:At(r)&&(s=!0,r=r[nt]);let a=Nt(r);t===0&&n!==null?i==null?OE(e,n,a):zc(e,n,a,i||null,!0):t===1&&n!==null?zc(e,n,a,i||null,!0):t===2?Sf(e,a,s):t===3&&e.destroyNode(a),o!=null&&UM(e,t,o,n,i)}}function ME(t,e){return t.createText(e)}function DM(t,e,n){t.setValue(e,n)}function NE(t,e){return t.createComment(IM(e))}function Cf(t,e,n){return t.createElement(e,n)}function SM(t,e){RE(t,e),e[nt]=null,e[xt]=null}function TM(t,e,n,r,i,o){r[nt]=i,r[xt]=e,fl(t,r,n,1,i,o)}function RE(t,e){e[zt].changeDetectionScheduler?.notify(9),fl(t,e,e[me],2,null,null)}function AM(t){let e=t[Xo];if(!e)return Jd(t[L],t);for(;e;){let n=null;if(At(e))n=e[Xo];else{let r=e[Oe];r&&(n=r)}if(!n){for(;e&&!e[Tt]&&e!==t;)At(e)&&Jd(e[L],e),e=e[Pe];e===null&&(e=t),At(e)&&Jd(e[L],e),n=e&&e[Tt]}e=n}}function MM(t,e,n,r){let i=Oe+r,o=n.length;r>0&&(n[i-1][Tt]=e),r<o-Oe?(e[Tt]=n[i],a_(n,Oe+r,e)):(n.push(e),e[Tt]=null),e[Pe]=n;let s=e[ki];s!==null&&n!==s&&xE(s,e);let a=e[Fi];a!==null&&a.insertView(t),mh(e),e[P]|=128}function xE(t,e){let n=t[Oc],r=e[Pe];if(At(r))t[P]|=Pc.HasTransplantedViews;else{let i=r[Pe][rt];e[rt]!==i&&(t[P]|=Pc.HasTransplantedViews)}n===null?t[Oc]=[e]:n.push(e)}function bf(t,e){let n=t[Oc],r=n.indexOf(e);n.splice(r,1)}function ts(t,e){if(t.length<=Oe)return;let n=Oe+e,r=t[n];if(r){let i=r[ki];i!==null&&i!==t&&bf(i,r),e>0&&(t[n-1][Tt]=r[Tt]);let o=Mc(t,Oe+e);SM(r[L],r);let s=o[Fi];s!==null&&s.detachView(o[L]),r[Pe]=null,r[Tt]=null,r[P]&=-129}return r}function hl(t,e){if(!(e[P]&256)){let n=e[me];n.destroyNode&&fl(t,e,n,3,null,null),AM(e)}}function Jd(t,e){if(e[P]&256)return;let n=z(null);try{e[P]&=-129,e[P]|=256,e[ft]&&wd(e[ft]),RM(t,e),NM(t,e),e[L].type===1&&e[me].destroy();let r=e[ki];if(r!==null&&Gt(e[Pe])){r!==e[Pe]&&bf(r,e);let i=e[Fi];i!==null&&i.detachView(t)}Dh(e)}finally{z(n)}}function NM(t,e){let n=t.cleanup,r=e[Rc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Rc]=null);let i=e[Hn];if(i!==null){e[Hn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function RM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ar)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Bt(4,a,c);try{c.call(a)}finally{Bt(5,a,c)}}else{Bt(4,i,o);try{o.call(i)}finally{Bt(5,i,o)}}}}}function xM(t,e,n){return OM(t,e.parent,n)}function OM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[nt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ht.None||o===Ht.Emulated)return null}return it(r,n)}}function zc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function OE(t,e,n){t.appendChild(e,n)}function Ly(t,e,n,r,i){r!==null?zc(t,e,n,r,i):OE(t,e,n)}function PE(t,e){return t.parentNode(e)}function PM(t,e){return t.nextSibling(e)}function kM(t,e,n){return LM(t,e,n)}function FM(t,e,n){return t.type&40?it(t,n):null}var LM=FM,Vy;function Df(t,e,n,r){let i=xM(t,r,e),o=e[me],s=r.parent||e[xt],a=kM(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Ly(o,i,n[c],a,!1);else Ly(o,i,n,a,!1);Vy!==void 0&&Vy(o,r,e,n,i)}function qo(t,e){if(e!==null){let n=e.type;if(n&3)return it(e,t);if(n&4)return Mh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return qo(t,r);{let i=t[e.index];return Gt(i)?Mh(-1,i):Nt(i)}}else{if(n&128)return qo(t,e.next);if(n&32)return If(e,t)()||Nt(t[e.index]);{let r=kE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Sr(t[rt]);return qo(i,r)}else return qo(t,e.next)}}}return null}function kE(t,e){if(e!==null){let r=t[rt][xt],i=e.projection;return r.projection[i]}return null}function Mh(t,e){let n=Oe+t+1;if(n<e.length){let r=e[n],i=r[L].firstChild;if(i!==null)return qo(r,i)}return e[dn]}function Sf(t,e,n){t.removeChild(null,e,n)}function FE(t){t.textContent=""}function Tf(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Mr(Nt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Tf(t,e,n.child,r,i,o,!1),Ai(e,t,i,a,o);else if(c&32){let l=If(n,r),u;for(;u=l();)Ai(e,t,i,u,o);Ai(e,t,i,a,o)}else c&16?VM(t,e,r,n,i,o):Ai(e,t,i,a,o);n=s?n.projectionNext:n.next}}function fl(t,e,n,r,i,o){Tf(n,r,t.firstChild,e,i,o,!1)}function VM(t,e,n,r,i,o){let s=n[rt],c=s[xt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ai(e,t,i,u,o)}else{let l=c,u=s[Pe];Bc(r)&&(l.flags|=128),Tf(t,e,l,u,i,o,!0)}}function UM(t,e,n,r,i){let o=n[dn],s=Nt(n);o!==s&&Ai(e,t,r,o,i);for(let a=Oe;a<n.length;a++){let c=n[a];fl(c[L],c,t,e,r,o)}}function jM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:fn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=fn.Important),t.setStyle(n,r,i,o))}}function BM(t,e,n){t.setAttribute(e,"style",n)}function LE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function VE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&uh(t,e,r),i!==null&&LE(t,e,i),o!==null&&BM(t,e,o)}var Pr={};function q(t=1){UE(pt(),ce(),Or()+t,!1)}function UE(t,e,n,r){if(!r)if((e[P]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Cc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&bc(e,o,0,n)}Tr(n)}function R(t,e=j.Default){let n=ce();if(n===null)return M(t,e);let r=ot();return tE(r,n,$e(t),e)}function jE(t,e,n,r,i,o){let s=z(null);try{let a=null;i&zn.SignalBased&&(a=e[r][kn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&zn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):S_(e,a,r,o)}finally{z(s)}}function $M(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Tr(~i);else{let o=i,s=n[++r],a=n[++r];pA(s,o);let c=e[o];a(2,c)}}}finally{Tr(-1)}}function pl(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[nt]=i,d[P]=r|4|128|8|64,(l!==null||t&&t[P]&2048)&&(d[P]|=2048),R_(d),d[Pe]=d[zi]=t,d[xe]=n,d[zt]=s||t&&t[zt],d[me]=a||t&&t[me],d[Pi]=c||t&&t[Pi]||null,d[xt]=o,d[ol]=KA(),d[Mt]=u,d[C_]=l,d[rt]=e.type==2?t[rt]:d,d}function ml(t,e,n,r,i){let o=t.data[e];if(o===null)o=HM(t,e,n,r,i),fA()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=cA();o.injectorIndex=s===null?-1:s.injectorIndex}return ds(o,!0),o}function HM(t,e,n,r,i){let o=F_(),s=L_(),a=s?o:o&&o.parent,c=t.data[e]=KM(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function BE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $E(t,e,n,r,i){let o=Or(),s=r&2;try{Tr(-1),s&&e.length>De&&UE(t,e,De,!1),Bt(s?2:0,i),n(r,i)}finally{Tr(o),Bt(s?3:1,i)}}function HE(t,e,n){if(D_(e)){let r=z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{z(r)}}}function zE(t,e,n){k_()&&(nN(t,e,n,it(n,e)),(n.flags&64)===64&&ZE(t,e,n))}function WE(t,e,n=it){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function GE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Af(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Af(t,e,n,r,i,o,s,a,c,l,u){let d=De+r,p=d+i,g=zM(d,p),_=typeof l=="function"?l():l;return g[L]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:u}}function zM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Pr);return n}function WM(t,e,n,r){let o=r.get(bE,CE)||n===Ht.ShadowDom,s=t.selectRootElement(e,o);return GM(s),s}function GM(t){qE(t)}var qE=()=>null;function qM(t){uE(t)?FE(t):uM(t)}function YM(){qE=qM}function KM(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return us()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Uy(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=zn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?jy(r,n,l,a,c):jy(r,n,l,a)}return r}function jy(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function ZM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],p=n?n.get(d):null,g=p?p.inputs:null,_=p?p.outputs:null;c=Uy(0,d.inputs,u,c,g),l=Uy(1,d.outputs,u,l,_);let w=c!==null&&s!==null&&!ef(e)?fN(c,u,s):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function QM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function JM(t,e,n,r,i,o,s,a){let c=it(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Mf(t,n,u,r,i),ls(e)&&XM(n,e.index)):e.type&3?(r=QM(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function XM(t,e){let n=qn(e,t);n[P]&16||(n[P]|=64)}function YE(t,e,n,r){if(k_()){let i=r===null?null:{"":-1},o=iN(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&KE(t,e,n,s,i,a),i&&oN(n,r,i)}n.mergedAttrs=Qo(n.mergedAttrs,n.attrs)}function KE(t,e,n,r,i,o){for(let l=0;l<r.length;l++)_h(Vc(n,e),t,r[l].type);aN(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=BE(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Qo(n.mergedAttrs,u.hostAttrs),cN(t,n,e,c,u),sN(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}ZM(t,n,o)}function eN(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;tN(s)!=a&&s.push(a),s.push(n,r,o)}}function tN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function nN(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;ls(n)&&lN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Vc(n,e),Mr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Vi(e,t,a,n);if(Mr(l,e),s!==null&&hN(e,a-i,l,c,n,s),Wn(c)){let u=qn(n.index,e);u[xe]=Vi(e,t,a,n)}}}function ZE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=mA();try{Tr(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];gh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&rN(c,l)}}finally{Tr(-1),gh(s)}}function rN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function iN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(DT(e,s.selectors,!1))if(r||(r=[]),Wn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Nh(t,e,c)}else r.unshift(s),Nh(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Nh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function oN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new A(-301,!1);r.push(e[i],o)}}}function sN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Wn(e)&&(n[""]=t)}}function aN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function cN(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ri(i.type,!0)),s=new Ar(o,Wn(i),R);t.blueprint[r]=s,n[r]=s,eN(t,e,r,BE(t,n,i.hostVars,Pr),i)}function lN(t,e,n){let r=it(e,t),i=GE(n),o=t[zt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=gl(t,pl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function uN(t,e,n,r,i,o){let s=it(t,e);dN(e[me],s,o,t.value,n,r,i)}function dN(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?nl(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function hN(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];jE(r,n,c,l,u,d)}}function fN(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function QE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function JE(t,e){let n=t.contentQueries;if(n!==null){let r=z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];U_(o),a.contentQueries(2,e[s],s)}}}finally{z(r)}}}function gl(t,e){return t[Xo]?t[by][Tt]=e:t[Xo]=e,t[by]=e,e}function Rh(t,e,n){U_(0);let r=z(null);try{e(t,n)}finally{z(r)}}function pN(t){return t[Rc]??=[]}function mN(t){return t.cleanup??=[]}function XE(t,e){let n=t[Pi],r=n?n.get(hn,null):null;r&&r.handleError(e)}function Mf(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];jE(u,l,r,a,c,i)}}function gN(t,e,n){let r=N_(e,t);DM(t[me],r,n)}function vN(t,e){let n=qn(e,t),r=n[L];yN(r,n);let i=n[nt];i!==null&&n[Mt]===null&&(n[Mt]=_f(i,n[Pi])),Nf(r,n,n[xe])}function yN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Nf(t,e,n){af(e);try{let r=t.viewQuery;r!==null&&Rh(1,r,n);let i=t.template;i!==null&&$E(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Fi]?.finishViewCreation(t),t.staticContentQueries&&JE(t,e),t.staticViewQueries&&Rh(2,t.viewQuery,n);let o=t.components;o!==null&&_N(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[P]&=-5,cf()}}function _N(t,e){for(let n=0;n<e.length;n++)vN(t,e[n])}function Rf(t,e,n,r){let i=z(null);try{let o=e.tView,a=t[P]&4096?4096:16,c=pl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[ki]=l;let u=t[Fi];return u!==null&&(c[Fi]=u.createEmbeddedView(o)),Nf(o,c,n),c}finally{z(i)}}function ew(t,e){let n=Oe+e;if(n<t.length)return t[n]}function ns(t,e){return!e||e.firstChild===null||Bc(t)}function vl(t,e,n,r=!0){let i=e[L];if(MM(i,e,t,n),r){let s=Mh(n,t),a=e[me],c=PE(a,t[dn]);c!==null&&TM(i,t[xt],a,e,c,s)}let o=e[Mt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function tw(t,e){let n=ts(t,e);return n!==void 0&&hl(n[L],n),n}function Wc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Nt(o)),Gt(o)&&EN(o,r);let s=n.type;if(s&8)Wc(t,e,n.child,r);else if(s&32){let a=If(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=kE(e,n);if(Array.isArray(a))r.push(...a);else{let c=Sr(e[rt]);Wc(c[L],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function EN(t,e){for(let n=Oe;n<t.length;n++){let r=t[n],i=r[L].firstChild;i!==null&&Wc(r[L],r,i,e)}t[dn]!==t[nt]&&e.push(t[dn])}var nw=[];function wN(t){return t[ft]??IN(t)}function IN(t){let e=nw.pop()??Object.create(bN);return e.lView=t,e}function CN(t){t.lView[ft]!==t&&(t.lView=null,nw.push(t))}var bN=H(C({},zo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{al(t.lView)},consumerOnSignalRead(){this.lView[ft]=this}});function DN(t){let e=t[ft]??Object.create(SN);return e.lView=t,e}var SN=H(C({},zo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Sr(t.lView);for(;e&&!rw(e[L]);)e=Sr(e);e&&x_(e)},consumerOnSignalRead(){this.lView[ft]=this}});function rw(t){return t.type!==2}var TN=100;function iw(t,e=!0,n=0){let r=t[zt],i=r.rendererFactory,o=!1;o||i.begin?.();try{AN(t,n)}catch(s){throw e&&XE(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function AN(t,e){let n=V_();try{Sy(!0),xh(t,e);let r=0;for(;sl(t);){if(r===TN)throw new A(103,!1);r++,xh(t,1)}}finally{Sy(n)}}function MN(t,e,n,r){let i=e[P];if((i&256)===256)return;let o=!1,s=!1;!o&&e[zt].inlineEffectRunner?.flush(),af(e);let a=!0,c=null,l=null;o||(rw(t)?(l=wN(e),c=ja(l)):Nv()===null?(a=!1,l=DN(e),c=ja(l)):e[ft]&&(wd(e[ft]),e[ft]=null));try{R_(e),dA(t.bindingStartIndex),n!==null&&$E(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let g=t.preOrderCheckHooks;g!==null&&Cc(e,g,null)}else{let g=t.preOrderHooks;g!==null&&bc(e,g,0,null),qd(e,0)}if(s||NN(e),ow(e,0),t.contentQueries!==null&&JE(t,e),!o)if(u){let g=t.contentCheckHooks;g!==null&&Cc(e,g)}else{let g=t.contentHooks;g!==null&&bc(e,g,1),qd(e,1)}$M(t,e);let d=t.components;d!==null&&aw(e,d,0);let p=t.viewQuery;if(p!==null&&Rh(2,p,r),!o)if(u){let g=t.viewCheckHooks;g!==null&&Cc(e,g)}else{let g=t.viewHooks;g!==null&&bc(e,g,2),qd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Gd]){for(let g of e[Gd])g();e[Gd]=null}o||(e[P]&=-73)}catch(u){throw o||al(e),u}finally{l!==null&&(_d(l,c),a&&CN(l)),cf()}}function ow(t,e){for(let n=hE(t);n!==null;n=fE(n))for(let r=Oe;r<n.length;r++){let i=n[r];sw(i,e)}}function NN(t){for(let e=hE(t);e!==null;e=fE(e)){if(!(e[P]&Pc.HasTransplantedViews))continue;let n=e[Oc];for(let r=0;r<n.length;r++){let i=n[r];x_(i)}}}function RN(t,e,n){let r=qn(e,t);sw(r,n)}function sw(t,e){sf(t)&&xh(t,e)}function xh(t,e){let r=t[L],i=t[P],o=t[ft],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ed(o)),s||=!1,o&&(o.dirty=!1),t[P]&=-9217,s)MN(r,t,r.template,t[xe]);else if(i&8192){ow(t,1);let a=r.components;a!==null&&aw(t,a,1)}}function aw(t,e,n){for(let r=0;r<e.length;r++)RN(t,e[r],n)}function xf(t,e){let n=V_()?64:1088;for(t[zt].changeDetectionScheduler?.notify(e);t;){t[P]|=n;let r=Sr(t);if(kc(t)&&!r)return t;t=r}return null}var Ui=class{get rootNodes(){let e=this._lView,n=e[L];return Wc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xe]}set context(e){this._lView[xe]=e}get destroyed(){return(this._lView[P]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pe];if(Gt(e)){let n=e[xc],r=n?n.indexOf(this):-1;r>-1&&(ts(e,r),Mc(n,r))}this._attachedToViewContainer=!1}hl(this._lView[L],this._lView)}onDestroy(e){O_(this._lView,e)}markForCheck(){xf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){mh(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,iw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=kc(this._lView),n=this._lView[ki];n!==null&&!e&&bf(n,this._lView),RE(this._lView[L],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e;let n=kc(this._lView),r=this._lView[ki];r!==null&&!n&&xE(r,this._lView),mh(this._lView)}};var xN=new RegExp(`^(\\d+)*(${vE}|${gE})*(.*)`);function ON(t){let e=t.match(xN),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function PN(t){return!t.prev&&t.parent?.type===8}function Xd(t){return t.index-De}function kN(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function yl(t,e,n,r){let i=Xd(r),o=kN(t,i);if(o===void 0){let s=t.data[rM];if(s?.[i])o=LN(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(PN(r)){let l=Xd(r.parent);o=Ah(t,l)}else{let l=it(c,n);if(a)o=l.firstChild;else{let u=Xd(c),d=Ah(t,u);if(c.type===2&&d){let g=Ef(t,u)+1;o=_l(g,d)}else o=l.nextSibling}}}}return o}function _l(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function FN(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Th.FirstChild:n=n.firstChild;break;case Th.NextSibling:n=n.nextSibling;break}}return n}function LN(t,e){let[n,...r]=ON(t),i;if(n===gE)i=e[rt][nt];else if(n===vE)i=CM(e[rt][nt]);else{let o=Number(n);i=Nt(e[o+De])}return FN(i,r)}var VN=!1;function UN(t){VN=t}function jN(t){let e=t[Mt];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[me];for(let o of r.values())BN(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function BN(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-De);i&&Sf(t,i,!1)}}function cw(t){let e=t[es]??[],r=t[Pe][me];for(let i of e)$N(i,r);t[es]=tt}function $N(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[$c];for(;n<i;){let o=r.nextSibling;Sf(e,r,!1),r=o,n++}}}function lw(t){cw(t);let e=t[nt];At(e)&&Gc(e);for(let n=Oe;n<t.length;n++)Gc(t[n])}function Gc(t){jN(t);let e=t[L];for(let n=De;n<e.bindingStartIndex;n++)if(Gt(t[n])){let r=t[n];lw(r)}else At(t[n])&&Gc(t[n])}function HN(t){let e=t._views;for(let n of e){let r=cM(n);r!==null&&r[nt]!==null&&(At(r)?Gc(r):lw(r))}}function zN(t,e){let n=[];for(let r of e)for(let i=0;i<(r[yE]??1);i++){let o={data:r,firstChild:null};r[$c]>0&&(o.firstChild=t,t=_l(r[$c],t)),n.push(o)}return[t,n]}var uw=()=>null;function WN(t,e){let n=t[es];return!e||n===null||n.length===0?null:n[0].data[nM]===e?n.shift():(cw(t),null)}function GN(){uw=WN}function rs(t,e){return uw(t,e)}var ji=class{},El=new D("",{providedIn:"root",factory:()=>!1});var dw=new D(""),hw=new D(""),Oh=class{},qc=class{};function qN(t){let e=Error(`No component factory found for ${We(t)}.`);return e[YN]=t,e}var YN="ngComponent";var Ph=class{resolveComponentFactory(e){throw qN(e)}},Bi=class{static{this.NULL=new Ph}},$i=class{},vn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>KN()}}return t})();function KN(){let t=ce(),e=ot(),n=qn(e.index,t);return(At(n)?n:t)[me]}var ZN=(()=>{class t{static{this.\u0275prov=T({token:t,providedIn:"root",factory:()=>null})}}return t})();function kh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=py(i,a);else if(o==2){let c=a,l=e[++s];r=py(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Yc=class extends Bi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Dr(e);return new is(n,this.ngModule)}};function By(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:zn.None;e?n.push({propName:s,templateName:r,isSignal:(a&zn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function QN(t){let e=t.toLowerCase();return e==="svg"?ZT:e==="math"?QT:null}var is=class extends qc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=By(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return By(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=MT(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=z(null);try{i=i||this.ngModule;let s=i instanceof Ge?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new vh(e,s):e,c=a.get($i,null);if(c===null)throw new A(407,!1);let l=a.get(ZN,null),u=a.get(ji,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},p=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?WM(p,r,this.componentDef.encapsulation,a):Cf(p,g,QN(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let I=null;_!==null&&(I=_f(_,a,!0));let S=Af(0,null,null,1,0,null,null,null,null,null,null),U=pl(null,S,null,w,null,null,d,p,a,null,I);af(U);let N,B,ue=null;try{let oe=this.componentDef,He,cn=null;oe.findHostDirectiveDefs?(He=[],cn=new Map,oe.findHostDirectiveDefs(oe,He,cn),He.push(oe)):He=[oe];let $o=JN(U,_);ue=XN($o,_,oe,He,U,d,p),B=of(S,De),_&&nR(p,oe,_,r),n!==void 0&&rR(B,this.ngContentSelectors,n),N=tR(ue,oe,He,cn,U,[iR]),Nf(S,U,null)}catch(oe){throw ue!==null&&Dh(ue),Dh(U),oe}finally{cf()}return new Fh(this.componentType,N,mf(B,U),U,B)}finally{z(o)}}},Fh=class extends Oh{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ui(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Mf(o[L],o,i,e,n),this.previousInputValues.set(e,n);let s=qn(this._tNode.index,o);xf(s,1)}}get injector(){return new Cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function JN(t,e){let n=t[L],r=De;return t[r]=e,ml(n,r,2,"#host",null)}function XN(t,e,n,r,i,o,s){let a=i[L];eR(r,t,e,s);let c=null;e!==null&&(c=_f(e,i[Pi]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=pl(i,GE(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Nh(a,t,r.length-1),gl(i,d),i[t.index]=d}function eR(t,e,n,r){for(let i of t)e.mergedAttrs=Qo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(kh(e,e.mergedAttrs,!0),n!==null&&VE(r,n,e))}function tR(t,e,n,r,i,o){let s=ot(),a=i[L],c=it(s,i);KE(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,p=Vi(i,a,d,s);Mr(p,i)}ZE(a,i,s),c&&Mr(c,i);let l=Vi(i,a,s.directiveStart+s.componentOffset,s);if(t[xe]=i[xe]=l,o!==null)for(let u of o)u(l,e);return HE(a,s,i),l}function nR(t,e,n,r){if(r)uh(t,n,["ng-version","18.2.12"]);else{let{attrs:i,classes:o}=NT(e.selectors[0]);i&&uh(t,n,i),o&&o.length>0&&LE(t,n,o.join(" "))}}function rR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function iR(){let t=ot();uf(ce()[L],t)}var wl=(()=>{class t{static{this.__NG_ELEMENT_ID__=oR}}return t})();function oR(){let t=ot();return aR(t,ce())}var sR=wl,fw=class extends sR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return mf(this._hostTNode,this._hostLView)}get injector(){return new Cr(this._hostTNode,this._hostLView)}get parentInjector(){let e=df(this._hostTNode,this._hostLView);if(K_(e)){let n=Lc(e,this._hostLView),r=Fc(e),i=n[L].data[r+8];return new Cr(i,n)}else return new Cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=$y(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Oe}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=rs(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ns(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!GT(e),a;if(s)a=n;else{let _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let c=s?e:new is(Dr(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let w=(s?l:this.parentInjector).get(Ge,null);w&&(o=w)}let u=Dr(c.componentType??{}),d=rs(this._lContainer,u?.id??null),p=d?.firstChild??null,g=c.create(l,i,p,o);return this.insertImpl(g.hostView,a,ns(this._hostTNode,d)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(XT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Pe],l=new fw(c,c[xt],c[Pe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return vl(s,i,o,r),e.attachToViewContainerRef(),a_(eh(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=$y(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ts(this._lContainer,n);r&&(Mc(eh(this._lContainer),n),hl(r[L],r))}detach(e){let n=this._adjustIndex(e,-1),r=ts(this._lContainer,n);return r&&Mc(eh(this._lContainer),n)!=null?new Ui(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function $y(t){return t[xc]}function eh(t){return t[xc]||(t[xc]=[])}function aR(t,e){let n,r=e[t.index];return Gt(r)?n=r:(n=QE(r,e,null,t),e[t.index]=n,gl(e,n)),pw(n,e,t,r),new fw(n,t,e)}function cR(t,e){let n=t[me],r=n.createComment(""),i=it(e,t),o=PE(n,i);return zc(n,o,r,PM(n,i),!1),r}var pw=mw,Of=()=>!1;function lR(t,e,n){return Of(t,e,n)}function mw(t,e,n,r){if(t[dn])return;let i;n.type&8?i=Nt(r):i=cR(e,n),t[dn]=i}function uR(t,e,n){if(t[dn]&&t[es])return!0;let r=n[Mt],i=e.index-De;if(!r||qA(e)||fs(r,i))return!1;let s=Ah(r,i),a=r.data[yf]?.[i],[c,l]=zN(s,a);return t[dn]=c,t[es]=l,!0}function dR(t,e,n,r){Of(t,n,e)||mw(t,e,n,r)}function hR(){pw=dR,Of=uR}var Hy=new Set;function Yt(t){Hy.has(t)||(Hy.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ms(t,e){Yt("NgSignals");let n=Bv(t),r=n[kn];return e?.equal&&(r.equal=e.equal),n.set=i=>Id(r,i),n.update=i=>$v(r,i),n.asReadonly=fR.bind(n),n}function fR(){let t=this[kn];if(t.readonlyFn===void 0){let e=()=>this();e[kn]=t,t.readonlyFn=e}return t.readonlyFn}function pR(t){return Object.getPrototypeOf(t.prototype).constructor}function mt(t){let e=pR(t.type),n=!0,r=[t];for(;e;){let i;if(Wn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=yc(t.inputs),s.inputTransforms=yc(t.inputTransforms),s.declaredInputs=yc(t.declaredInputs),s.outputs=yc(t.outputs);let a=i.hostBindings;a&&_R(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&vR(t,c),l&&yR(t,l),mR(t,i),ZS(t.outputs,i.outputs),Wn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===mt&&(n=!1)}}e=Object.getPrototypeOf(e)}gR(r)}function mR(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function gR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qo(i.hostAttrs,n=Qo(n,i.hostAttrs))}}function yc(t){return t===xi?{}:t===tt?[]:t}function vR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function yR(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function _R(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Pf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Gn=class{},os=class{};var Lh=class extends Gn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yc(this);let o=g_(e);this._bootstrapComponents=AE(o.bootstrap),this._r3Injector=iE(e,n,[{provide:Gn,useValue:this},{provide:Bi,useValue:this.componentFactoryResolver},...r],We(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Vh=class extends os{constructor(e){super(),this.moduleType=e}create(e){return new Lh(this.moduleType,e,[])}};var Kc=class extends Gn{constructor(e){super(),this.componentFactoryResolver=new Yc(this),this.instance=null;let n=new Jo([...e.providers,{provide:Gn,useValue:this},{provide:Bi,useValue:this.componentFactoryResolver}],e.parent||nf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function kf(t,e,n=null){return new Kc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Gi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function gs(t){return(t.flags&32)===32}function ER(t,e,n,r,i,o,s,a,c){let l=e.consts,u=ml(e,t,4,s||null,a||null);YE(e,n,u,Li(l,c)),uf(e,u);let d=u.tView=Af(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Uh(t,e,n,r,i,o,s,a,c,l){let u=n+De,d=e.firstCreatePass?ER(u,e,t,r,i,o,s,a,c):e.data[u];ds(d,!1);let p=gw(e,t,d,n);lf()&&Df(e,t,p,d),Mr(p,t);let g=QE(p,t,p,d);return t[u]=g,gl(t,g),lR(g,d,t),rf(d)&&zE(e,t,d),c!=null&&WE(t,d,l),d}function yn(t,e,n,r,i,o,s,a){let c=ce(),l=pt(),u=Li(l.consts,o);return Uh(c,l,t,e,n,r,i,u,s,a),yn}var gw=vw;function vw(t,e,n,r){return Yn(!0),e[me].createComment("")}function wR(t,e,n,r){let i=e[Mt],o=!i||us()||gs(n)||fs(i,r);if(Yn(o),o)return vw(t,e,n,r);let s=i.data[tM]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=yl(i,t,e,n);ul(i,r,a);let c=Ef(i,r);return _l(c,a)}function IR(){gw=wR}var Yo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Yo||{}),CR=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t})}}return t})(),zy=class t{constructor(){this.ngZone=E(X),this.scheduler=E(ji),this.errorHandler=E(hn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Yo.EarlyRead,Yo.Write,Yo.MixedReadWrite,Yo.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t})}};function vs(t,e,n,r){let i=ce(),o=hs();if(Gi(i,o,e)){let s=pt(),a=W_();uN(a,i,t,e,n,r)}return vs}function bR(t,e,n,r){return Gi(t,hs(),n)?e+nl(n)+r:Pr}function _c(t,e){return t<<17|e<<2}function Nr(t){return t>>17&32767}function DR(t){return(t&2)==2}function SR(t,e){return t&131071|e<<17}function jh(t){return t|2}function Hi(t){return(t&131068)>>2}function th(t,e){return t&-131069|e<<2}function TR(t){return(t&1)===1}function Bh(t){return t|1}function AR(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Nr(s),c=Hi(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||cs(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let p=Nr(t[a+1]);t[r+1]=_c(p,a),p!==0&&(t[p+1]=th(t[p+1],r)),t[a+1]=SR(t[a+1],r)}else t[r+1]=_c(a,0),a!==0&&(t[a+1]=th(t[a+1],r)),a=r;else t[r+1]=_c(c,0),a===0?a=r:t[c+1]=th(t[c+1],r),c=r;l&&(t[r+1]=jh(t[r+1])),Wy(t,u,r,!0),Wy(t,u,r,!1),MR(e,u,t,r,o),s=_c(a,c),o?e.classBindings=s:e.styleBindings=s}function MR(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&cs(o,e)>=0&&(n[r+1]=Bh(n[r+1]))}function Wy(t,e,n,r){let i=t[n+1],o=e===null,s=r?Nr(i):Hi(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];NR(c,e)&&(a=!0,t[s+1]=r?Bh(l):jh(l)),s=r?Nr(l):Hi(l)}a&&(t[n+1]=r?jh(i):Bh(i))}function NR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?cs(t,e)>=0:!1}function at(t,e,n){let r=ce(),i=hs();if(Gi(r,i,e)){let o=pt(),s=W_();JM(o,s,r,t,e,r[me],n,!1)}return at}function Gy(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Mf(t,n,o[s],s,r)}function Il(t,e){return RR(t,e,null,!0),Il}function RR(t,e,n,r){let i=ce(),o=pt(),s=hA(2);if(o.firstUpdatePass&&OR(o,t,s,r),e!==Pr&&Gi(i,s,e)){let a=o.data[Or()];VR(o,a,i,i[me],t,i[s+1]=UR(e,n),r,s)}}function xR(t,e){return e>=t.expandoStartIndex}function OR(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Or()],s=xR(t,n);jR(o,r)&&e===null&&!s&&(e=!1),e=PR(i,o,e,r),AR(i,o,e,n,s,r)}}function PR(t,e,n,r){let i=gA(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=nh(null,t,e,n,r),n=ss(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=nh(i,t,e,n,r),o===null){let c=kR(t,e,r);c!==void 0&&Array.isArray(c)&&(c=nh(null,t,e,c[1],r),c=ss(c,e.attrs,r),FR(t,e,r,c))}else o=LR(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function kR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Hi(r)!==0)return t[Nr(r)]}function FR(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Nr(i)]=r}function LR(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ss(r,s,n)}return ss(r,e.attrs,n)}function nh(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ss(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ss(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),vT(t,s,n?!0:e[++o]))}return t===void 0?null:t}function VR(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=TR(l)?qy(c,e,n,i,Hi(l),s):void 0;if(!Zc(u)){Zc(o)||DR(l)&&(o=qy(c,null,n,i,a,s));let d=N_(Or(),n);jM(r,s,d,i,o)}}function qy(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=n[i+1];p===Pr&&(p=d?tt:void 0);let g=d?zd(p,r):u===r?p:void 0;if(l&&!Zc(g)&&(g=zd(c,r)),Zc(g)&&(a=g,s))return a;let _=t[i+1];i=s?Nr(_):Hi(_)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=zd(c,r))}return a}function Zc(t){return t!==void 0}function UR(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=We(ps(t)))),t}function jR(t,e){return(t.flags&(e?8:16))!==0}var $h=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function rh(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function BR(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=t.at(o),u=e[o],d=rh(o,l,o,u,n);if(d!==0){d<0&&t.updateValue(o,u),o++;continue}let p=t.at(s),g=e[c],_=rh(s,p,c,g,n);if(_!==0){_<0&&t.updateValue(s,g),s--,c--;continue}let w=n(o,l),I=n(s,p),S=n(o,u);if(Object.is(S,I)){let U=n(c,g);Object.is(U,w)?(t.swap(o,s),t.updateValue(s,g),c--,s--):t.move(s,o),t.updateValue(o,u),o++;continue}if(r??=new Qc,i??=Ky(t,o,s,n),Hh(t,r,o,S))t.updateValue(o,u),o++,s++;else if(i.has(S))r.set(w,t.detach(o)),s--;else{let U=t.create(o,e[o]);t.attach(o,U),o++,s++}}for(;o<=c;)Yy(t,r,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=t.at(o),d=l.value,p=rh(o,u,o,d,n);if(p!==0)p<0&&t.updateValue(o,d),o++,l=c.next();else{r??=new Qc,i??=Ky(t,o,s,n);let g=n(o,d);if(Hh(t,r,o,g))t.updateValue(o,d),o++,s++,l=c.next();else if(!i.has(g))t.attach(o,t.create(o,d)),o++,s++,l=c.next();else{let _=n(o,u);r.set(_,t.detach(o)),s--}}}for(;!l.done;)Yy(t,r,n,t.length,l.value),l=c.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function Hh(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Yy(t,e,n,r,i){if(Hh(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function Ky(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Qc=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Ot(t,e){Yt("NgControlFlow");let n=ce(),r=hs(),i=n[r]!==Pr?n[r]:-1,o=i!==-1?Jc(n,De+i):void 0,s=0;if(Gi(n,r,t)){let a=z(null);try{if(o!==void 0&&tw(o,s),t!==-1){let c=De+t,l=Jc(n,c),u=qh(n[L],c),d=rs(l,u.tView.ssrId),p=Rf(n,u,e,{dehydratedView:d});vl(l,p,s,ns(u,d))}}finally{z(a)}}else if(o!==void 0){let a=ew(o,s);a!==void 0&&(a[xe]=e)}}var zh=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Oe}};function Cl(t){return t}var Wh=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function bl(t,e,n,r,i,o,s,a,c,l,u,d,p){Yt("NgControlFlow");let g=ce(),_=pt(),w=c!==void 0,I=ce(),S=a?s.bind(I[rt][xe]):s,U=new Wh(w,S);I[De+t]=U,Uh(g,_,t+1,e,n,r,i,Li(_.consts,o)),w&&Uh(g,_,t+2,c,l,u,d,Li(_.consts,p))}var Gh=class extends $h{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Oe}at(e){return this.getLView(e)[xe].$implicit}attach(e,n){let r=n[Mt];this.needsIndexUpdate||=e!==this.length,vl(this.lContainer,n,e,ns(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,$R(this.lContainer,e)}create(e,n){let r=rs(this.lContainer,this.templateTNode.tView.ssrId),i=Rf(this.hostLView,this.templateTNode,new zh(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){hl(e[L],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[xe].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[xe].$index=e}getLView(e){return HR(this.lContainer,e)}};function Dl(t){let e=z(null),n=Or();try{let r=ce(),i=r[L],o=r[n],s=n+1,a=Jc(r,s);if(o.liveCollection===void 0){let l=qh(i,s);o.liveCollection=new Gh(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(BR(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=hs(),u=c.length===0;if(Gi(r,l,u)){let d=n+2,p=Jc(r,d);if(u){let g=qh(i,d),_=rs(p,g.tView.ssrId),w=Rf(r,g,void 0,{dehydratedView:_});vl(p,w,0,ns(g,_))}else tw(p,0)}}}finally{z(e)}}function Jc(t,e){return t[e]}function $R(t,e){return ts(t,e)}function HR(t,e){return ew(t,e)}function qh(t,e){return of(t,e)}function zR(t,e,n,r,i,o){let s=e.consts,a=Li(s,i),c=ml(e,t,2,r,a);return YE(e,n,c,Li(s,o)),c.attrs!==null&&kh(c,c.attrs,!1),c.mergedAttrs!==null&&kh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f(t,e,n,r){let i=ce(),o=pt(),s=De+t,a=i[me],c=o.firstCreatePass?zR(s,o,i,e,n,r):o.data[s],l=yw(o,i,c,a,e,t);i[s]=l;let u=rf(c);return ds(c,!0),VE(a,l,c),!gs(c)&&lf()&&Df(o,i,l,c),nA()===0&&Mr(l,i),rA(),u&&(zE(o,i,c),HE(o,c,i)),r!==null&&WE(i,c),f}function h(){let t=ot();L_()?lA():(t=t.parent,ds(t,!1));let e=t;oA(e)&&aA(),iA();let n=pt();return n.firstCreatePass&&(uf(n,t),D_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&IA(e)&&Gy(n,e,ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&CA(e)&&Gy(n,e,ce(),e.stylesWithoutHost,!1),h}function v(t,e,n,r){return f(t,e,n,r),h(),v}var yw=(t,e,n,r,i,o)=>(Yn(!0),Cf(r,i,G_()));function WR(t,e,n,r,i,o){let s=e[Mt],a=!s||us()||gs(n)||fs(s,o);if(Yn(a),a)return Cf(r,i,G_());let c=yl(s,t,e,n);return IE(s,o)&&ul(s,o,c.nextSibling),s&&(lE(n)||uE(c))&&ls(n)&&(sA(n),FE(c)),c}function GR(){yw=WR}var qR=(t,e,n,r)=>(Yn(!0),NE(e[me],""));function YR(t,e,n,r){let i,o=e[Mt],s=!o||us()||fs(o,r)||gs(n);if(Yn(s),s)return NE(e[me],"");let a=yl(o,t,e,n),c=dM(o,r);return ul(o,r,a),i=_l(c,a),i}function KR(){qR=YR}function Zn(){return ce()}var Xc="en-US";var ZR=Xc;function QR(t){typeof t=="string"&&(ZR=t.toLowerCase().replace(/_/g,"-"))}var JR=(t,e,n)=>{};function Z(t,e,n,r){let i=ce(),o=pt(),s=ot();return ex(o,i,i[me],s,t,e,r),Z}function XR(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Rc],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function ex(t,e,n,r,i,o,s){let a=rf(r),l=t.firstCreatePass&&mN(t),u=e[xe],d=pN(e),p=!0;if(r.type&3||s){let w=it(r,e),I=s?s(w):w,S=d.length,U=s?B=>s(Nt(B[r.index])):r.index,N=null;if(!s&&a&&(N=XR(t,e,i,r.index)),N!==null){let B=N.__ngLastListenerFn__||N;B.__ngNextListenerFn__=o,N.__ngLastListenerFn__=o,p=!1}else{o=Qy(r,e,u,o),JR(w,i,o);let B=n.listen(I,i,o);d.push(o,B),l&&l.push(i,U,S,S+1)}}else o=Qy(r,e,u,o);let g=r.outputs,_;if(p&&g!==null&&(_=g[i])){let w=_.length;if(w)for(let I=0;I<w;I+=2){let S=_[I],U=_[I+1],ue=e[S][U].subscribe(o),oe=d.length;d.push(o,ue),l&&l.push(i,r.index,oe,-(oe+1))}}}function Zy(t,e,n,r){let i=z(null);try{return Bt(6,e,n),n(r)!==!1}catch(o){return XE(t,o),!1}finally{Bt(7,e,n),z(i)}}function Qy(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?qn(t.index,e):e;xf(s,5);let a=Zy(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Zy(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Qn(t=1){return yA(t)}function ys(t){let e=uA();return JT(e,De+t)}function m(t,e=""){let n=ce(),r=pt(),i=t+De,o=r.firstCreatePass?ml(r,i,1,e,null):r.data[i],s=_w(r,n,o,e,t);n[i]=s,lf()&&Df(r,n,s,o),ds(o,!1)}var _w=(t,e,n,r,i)=>(Yn(!0),ME(e[me],r));function tx(t,e,n,r,i){let o=e[Mt],s=!o||us()||gs(n)||fs(o,i);return Yn(s),s?ME(e[me],r):yl(o,t,e,n)}function nx(){_w=tx}function Ne(t){return Ew("",t,""),Ne}function Ew(t,e,n){let r=ce(),i=bR(r,t,e,n);return i!==Pr&&gN(r,Or(),i),Ew}function rx(t,e,n){let r=pt();if(r.firstCreatePass){let i=Wn(t);Yh(n,r.data,r.blueprint,i,!0),Yh(e,r.data,r.blueprint,i,!1)}}function Yh(t,e,n,r,i){if(t=$e(t),Array.isArray(t))for(let o=0;o<t.length;o++)Yh(t[o],e,n,r,i);else{let o=pt(),s=ce(),a=ot(),c=Oi(t)?t:$e(t.provide),l=I_(t),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(Oi(t)||!t.multi){let g=new Ar(l,i,R),_=oh(c,e,i?u:u+p,d);_===-1?(_h(Vc(a,s),o,c),ih(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[_]=g,s[_]=g)}else{let g=oh(c,e,u+p,d),_=oh(c,e,u,u+p),w=g>=0&&n[g],I=_>=0&&n[_];if(i&&!I||!i&&!w){_h(Vc(a,s),o,c);let S=sx(i?ox:ix,n.length,i,r,l);!i&&I&&(n[_].providerFactory=S),ih(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(S),s.push(S)}else{let S=ww(n[i?_:g],l,!i&&r);ih(o,t,g>-1?g:_,S)}!i&&r&&I&&n[_].componentProviders++}}}function ih(t,e,n,r){let i=Oi(e),o=VT(e);if(i||o){let c=(o?$e(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function ww(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function oh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ix(t,e,n,r){return Kh(this.multi,[])}function ox(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Vi(n,n[L],this.providerFactory.index,r);o=a.slice(0,s),Kh(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Kh(i,o);return o}function Kh(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function sx(t,e,n,r,i){let o=new Ar(t,n,R);return o.multi=[],o.index=e,o.componentProviders=0,ww(o,i,r&&!n),o}function Jn(t,e=[]){return n=>{n.providersResolver=(r,i)=>rx(r,i?i(t):t,e)}}var ax=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=__(!1,n.type),i=r.length>0?kf([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=T({token:t,providedIn:"environment",factory:()=>new t(M(Ge))})}}return t})();function re(t){Yt("NgStandalone"),t.getStandaloneInjector=e=>e.get(ax).getOrCreateStandaloneInjector(t)}var pn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Iw=new pn("18.2.12");var Sl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var Cw=new D("");function kr(t){return!!t&&typeof t.then=="function"}function bw(t){return!!t&&typeof t.subscribe=="function"}var Dw=new D(""),Sw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=E(Dw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(kr(o))n.push(o);else if(bw(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qi=new D("");function cx(){jv(()=>{throw new A(600,!1)})}function lx(t){return t.isBoundToModule}var ux=10;function dx(t,e,n){try{let r=n();return kr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Kt=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(HA),this.afterRenderManager=E(CR),this.zonelessEnabled=E(El),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new be,this.afterTick=new be,this.componentTypes=[],this.components=[],this.isStable=E(Kn).hasPendingTasks.pipe(F(n=>!n)),this._injector=E(Ge)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof qc;if(!this._injector.get(Sw).done){let p=!i&&m_(n),g=!1;throw new A(405,g)}let s;i?s=n:s=this._injector.get(Bi).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=lx(s)?void 0:this._injector.get(Gn),c=r||s.selector,l=s.create(Se.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(Cw,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Dc(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new A(101,!1);let n=z(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,z(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get($i,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<ux;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)hx(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>sl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Dc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(qi,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Dc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new A(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Dc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Ec;function Tl(t){Ec??=new WeakMap;let e=Ec.get(t);if(e)return e;let n=t.isStable.pipe(Dt(r=>r)).toPromise().then(()=>{});return Ec.set(t,n),t.onDestroy(()=>Ec?.delete(t)),n}function hx(t,e,n,r){if(!n&&!sl(t))return;iw(t,e,n&&!r?0:1)}var Zh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ff=(()=>{class t{compileModuleSync(n){return new Vh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=g_(n),o=AE(i.declarations).reduce((s,a)=>{let c=Dr(a);return c&&s.push(new is(c)),s},[]);return new Zh(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var fx=(()=>{class t{constructor(){this.zone=E(X),this.changeDetectionScheduler=E(ji),this.applicationRef=E(Kt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),px=new D("",{factory:()=>!1});function Tw({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new X(H(C({},Mw()),{scheduleInRootZone:n})),[{provide:X,useFactory:t},{provide:br,multi:!0,useFactory:()=>{let r=E(fx,{optional:!0});return()=>r.initialize()}},{provide:br,multi:!0,useFactory:()=>{let r=E(mx);return()=>{r.initialize()}}},e===!0?{provide:dw,useValue:!0}:[],{provide:hw,useValue:n??oE}]}function Aw(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Tw({ngZoneFactory:()=>{let i=Mw(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Yt("NgZone_CoalesceEvent"),new X(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return ke([{provide:px,useValue:!0},{provide:El,useValue:!1},r])}function Mw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var mx=(()=>{class t{constructor(){this.subscription=new pe,this.initialized=!1,this.zone=E(X),this.pendingTasks=E(Kn)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{X.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{X.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var gx=(()=>{class t{constructor(){this.appRef=E(Kt),this.taskService=E(Kn),this.ngZone=E(X),this.zonelessEnabled=E(El),this.disableScheduling=E(dw,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new pe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(jc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(hw,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof bh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?xy:aE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(jc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vx(){return typeof $localize<"u"&&$localize.locale||Xc}var Lf=new D("",{providedIn:"root",factory:()=>E(Lf,j.Optional|j.SkipSelf)||vx()});var Qh=new D("");function wc(t){return!t.moduleRef}function yx(t){let e=wc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(X);return n.run(()=>{wc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(hn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),wc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Qh);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Qh);s.add(o),t.moduleRef.onDestroy(()=>{Dc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return dx(r,n,()=>{let o=e.get(Sw);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Lf,Xc);if(QR(s||Xc),wc(t)){let a=e.get(Kt);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return _x(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function _x(t,e){let n=t.injector.get(Kt);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new A(-403,!1);e.push(t)}var Sc=null;function Ex(t=[],e){return Se.create({name:e,providers:[{provide:il,useValue:"platform"},{provide:Qh,useValue:new Set([()=>Sc=null])},...t]})}function wx(t=[]){if(Sc)return Sc;let e=Ex(t);return Sc=e,cx(),Ix(e),e}function Ix(t){t.get(gf,null)?.forEach(n=>n())}var Yi=(()=>{class t{static{this.__NG_ELEMENT_ID__=Cx}}return t})();function Cx(t){return bx(ot(),ce(),(t&16)===16)}function bx(t,e,n){if(ls(t)&&!n){let r=qn(t.index,e);return new Ui(r,r)}else if(t.type&175){let r=e[rt];return new Ui(r,e)}return null}function Nw(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=wx(r),o=[Tw({}),{provide:ji,useExisting:gx},...n||[]],s=new Kc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return yx({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var Jy=!1;function Dx(){Jy||(Jy=!0,aM(),GR(),nx(),KR(),IR(),hR(),GN(),YM())}function Sx(t,e){return Tl(t)}function Rw(){return ke([{provide:mc,useFactory:()=>{let t=!0;return vc()&&(t=!!E(Wi,{optional:!0})?.get(EE,null)),t&&Yt("NgHydration"),t}},{provide:br,useValue:()=>{UN(!1),vc()&&E(mc)&&(Tx(),Dx())},multi:!0},{provide:bE,useFactory:()=>vc()&&E(mc)},{provide:qi,useFactory:()=>{if(vc()&&E(mc)){let t=E(Kt),e=E(Se);return()=>{Sx(t,e).then(()=>{HN(t)})}}return()=>{}},multi:!0}])}function Tx(){let t=cl(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===oM){e=n;break}if(!e)throw new A(-507,!1)}function Fr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function _s(t,e){Yt("NgSignals");let n=Lv(t);return e?.equal&&(n[kn].equal=e.equal),n}function _n(t){let e=z(null);try{return t()}finally{z(e)}}var Pw=null;function En(){return Pw}function kw(t){Pw??=t}var Al=class{};var qe=new D(""),Fw=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:()=>E(Ax),providedIn:"platform"})}}return t})();var Ax=(()=>{class t extends Fw{constructor(){super(),this._doc=E(qe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return En().getBaseHref(this._doc)}onPopState(n){let r=En().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=En().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Lw(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function xw(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Lr(t){return t&&t[0]!=="?"?"?"+t:t}var Zi=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:()=>E(Vw),providedIn:"root"})}}return t})(),Mx=new D(""),Vw=(()=>{class t extends Zi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??E(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Lw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Lr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Lr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Lr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(M(Fw),M(Mx,8))}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Es=(()=>{class t{constructor(n){this._subject=new _e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=xx(xw(Ow(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Lr(r))}normalize(n){return t.stripTrailingSlash(Rx(this._basePath,Ow(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Lr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Lr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Lr}static{this.joinWithSlash=Lw}static{this.stripTrailingSlash=xw}static{this.\u0275fac=function(r){return new(r||t)(M(Zi))}}static{this.\u0275prov=T({token:t,factory:()=>Nx(),providedIn:"root"})}}return t})();function Nx(){return new Es(M(Zi))}function Rx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Ow(t){return t.replace(/\/index.html$/,"")}function xx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Ml(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Uw="browser",Ox="server";function ws(t){return t===Ox}var Ki=class{};var Cs=class{},xl=class{},Zt=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Uf=class{encodeKey(e){return Bw(e)}encodeValue(e){return Bw(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Px(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var kx=/%(\d[a-f0-9])/gi,Fx={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Bw(t){return encodeURIComponent(t).replace(kx,(e,n)=>Fx[n]??e)}function Nl(t){return`${t}`}var er=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Uf,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Px(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Nl):[Nl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Nl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Nl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var jf=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Lx(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function $w(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Hw(t){return typeof Blob<"u"&&t instanceof Blob}function zw(t){return typeof FormData<"u"&&t instanceof FormData}function Vx(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Is=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(Lx(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Zt,this.context??=new jf,!this.params)this.params=new er,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||$w(this.body)||Hw(this.body)||zw(this.body)||Vx(this.body)?this.body:this.body instanceof er?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||zw(this.body)?null:Hw(this.body)?this.body.type||null:$w(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof er?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),u)),new t(n,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},tr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(tr||{}),bs=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Zt,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ol=class t extends bs{constructor(e={}){super(e),this.type=tr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Vr=class t extends bs{constructor(e={}){super(e),this.type=tr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Xn=class extends bs{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},tI=200,Ux=204;function Vf(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ds=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Is)o=n;else{let c;i.headers instanceof Zt?c=i.headers:c=new Zt(i.headers);let l;i.params&&(i.params instanceof er?l=i.params:l=new er({fromObject:i.params})),o=new Is(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=O(o).pipe(jn(c=>this.handler.handle(c)));if(n instanceof Is||i.observe==="events")return s;let a=s.pipe(Xe(c=>c instanceof Vr));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(F(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(F(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(F(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(F(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new er().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Vf(i,r))}post(n,r,i={}){return this.request("POST",n,Vf(i,r))}put(n,r,i={}){return this.request("PUT",n,Vf(i,r))}static{this.\u0275fac=function(r){return new(r||t)(M(Cs))}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac})}}return t})(),jx=/^\)\]\}',?\n/,Bx="X-Request-URL";function Ww(t){if(t.url)return t.url;let e=Bx.toLocaleLowerCase();return t.headers.get(e)}var $x=(()=>{class t{constructor(){this.fetchImpl=E(Bf,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=E(X)}handle(n){return new W(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then($f,o=>r.error(new Xn({error:o}))),()=>i.abort()})}doRequest(n,r,i){return y(this,null,function*(){let o=this.createRequestInit(n),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,C({signal:r},o)));Hx(g),i.next({type:tr.Sent}),s=yield g}catch(g){i.error(new Xn({error:g,status:g.status??0,statusText:g.statusText,url:n.urlWithParams,headers:g.headers}));return}let a=new Zt(s.headers),c=s.statusText,l=Ww(s)??n.urlWithParams,u=s.status,d=null;if(n.reportProgress&&i.next(new Ol({headers:a,status:u,statusText:c,url:l})),s.body){let g=s.headers.get("content-length"),_=[],w=s.body.getReader(),I=0,S,U,N=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>y(this,null,function*(){for(;;){let{done:ue,value:oe}=yield w.read();if(ue)break;if(_.push(oe),I+=oe.length,n.reportProgress){U=n.responseType==="text"?(U??"")+(S??=new TextDecoder).decode(oe,{stream:!0}):void 0;let He=()=>i.next({type:tr.DownloadProgress,total:g?+g:void 0,loaded:I,partialText:U});N?N.run(He):He()}}}));let B=this.concatChunks(_,I);try{let ue=s.headers.get("Content-Type")??"";d=this.parseBody(n,B,ue)}catch(ue){i.error(new Xn({error:ue,headers:new Zt(s.headers),status:s.status,statusText:s.statusText,url:Ww(s)??n.urlWithParams}));return}}u===0&&(u=d?tI:0),u>=200&&u<300?(i.next(new Vr({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new Xn({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(jx,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac})}}return t})(),Bf=class{};function $f(){}function Hx(t){t.then($f,$f)}function zx(t,e){return e(t)}function Wx(t,e,n){return(r,i)=>Rt(n,()=>e(r,o=>t(o,i)))}var nI=new D(""),rI=new D(""),Gx=new D("",{providedIn:"root",factory:()=>!0});var Gw=(()=>{class t extends Cs{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=E(Kn),this.contributeToStability=E(Gx)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(nI),...this.injector.get(rI,[])]));this.chain=r.reduceRight((i,o)=>Wx(i,o,this.injector),zx)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Ir(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(M(xl),M(Ge))}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac})}}return t})();var qx=/^\)\]\}',?\n/;function Yx(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var qw=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new A(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?he(r.\u0275loadImpl()):O(null)).pipe(et(()=>new W(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((w,I)=>s.setRequestHeader(w,I.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let w=n.detectContentTypeHeader();w!==null&&s.setRequestHeader("Content-Type",w)}if(n.responseType){let w=n.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let w=s.statusText||"OK",I=new Zt(s.getAllResponseHeaders()),S=Yx(s)||n.url;return c=new Ol({headers:I,status:s.status,statusText:w,url:S}),c},u=()=>{let{headers:w,status:I,statusText:S,url:U}=l(),N=null;I!==Ux&&(N=typeof s.response>"u"?s.responseText:s.response),I===0&&(I=N?tI:0);let B=I>=200&&I<300;if(n.responseType==="json"&&typeof N=="string"){let ue=N;N=N.replace(qx,"");try{N=N!==""?JSON.parse(N):null}catch(oe){N=ue,B&&(B=!1,N={error:oe,text:N})}}B?(o.next(new Vr({body:N,headers:w,status:I,statusText:S,url:U||void 0})),o.complete()):o.error(new Xn({error:N,headers:w,status:I,statusText:S,url:U||void 0}))},d=w=>{let{url:I}=l(),S=new Xn({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});o.error(S)},p=!1,g=w=>{p||(o.next(l()),p=!0);let I={type:tr.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(I.total=w.total),n.responseType==="text"&&s.responseText&&(I.partialText=s.responseText),o.next(I)},_=w=>{let I={type:tr.UploadProgress,loaded:w.loaded};w.lengthComputable&&(I.total=w.total),o.next(I)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:tr.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(M(Ki))}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac})}}return t})(),iI=new D(""),Kx="XSRF-TOKEN",Zx=new D("",{providedIn:"root",factory:()=>Kx}),Qx="X-XSRF-TOKEN",Jx=new D("",{providedIn:"root",factory:()=>Qx}),Pl=class{},Xx=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ml(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(M(qe),M(st),M(Zx))}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac})}}return t})();function eO(t,e){let n=t.url.toLowerCase();if(!E(iI)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=E(Pl).getToken(),i=E(Jx);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function oI(...t){let e=[Ds,qw,Gw,{provide:Cs,useExisting:Gw},{provide:xl,useFactory:()=>E($x,{optional:!0})??E(qw)},{provide:nI,useValue:eO,multi:!0},{provide:iI,useValue:!0},{provide:Pl,useClass:Xx}];for(let n of t)e.push(...n.\u0275providers);return ke(e)}var tO=new D(""),Yw="b",Kw="h",Zw="s",Qw="st",Jw="u",Xw="rt",Rl=new D(""),nO=["GET","HEAD"];function rO(t,e){let g=E(Rl),{isCacheActive:n}=g,r=Av(g,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!nO.includes(o)||!r.includeRequestsWithAuthHeaders&&iO(t)||r.filter?.(t)===!1)return e(t);let s=E(Wi),a=E(tO,{optional:!0}),c=ws(E(st));if(a&&!c)throw new A(2803,!1);let l=c&&a?cO(t.url,a):t.url,u=sO(t,l),d=s.get(u,null),p=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(p=i.includeHeaders),d){let{[Yw]:_,[Xw]:w,[Kw]:I,[Zw]:S,[Qw]:U,[Jw]:N}=d,B=_;switch(w){case"arraybuffer":B=new TextEncoder().encode(_).buffer;break;case"blob":B=new Blob([_]);break}let ue=new Zt(I);return O(new Vr({body:B,headers:ue,status:S,statusText:U,url:N}))}return e(t).pipe(ve(_=>{_ instanceof Vr&&c&&s.set(u,{[Yw]:_.body,[Kw]:oO(_.headers,p),[Zw]:_.status,[Qw]:_.statusText,[Jw]:l,[Xw]:t.responseType})}))}function iO(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function oO(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function eI(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function sO(t,e){let{params:n,method:r,responseType:i}=t,o=eI(n),s=t.serializeBody();s instanceof URLSearchParams?s=eI(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),c=aO(a);return c}function aO(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function sI(t){return[{provide:Rl,useFactory:()=>(Yt("NgHttpTransferCache"),C({isCacheActive:!0},t))},{provide:rI,useValue:rO,multi:!0,deps:[Wi,Rl]},{provide:qi,multi:!0,useFactory:()=>{let e=E(Kt),n=E(Rl);return()=>{Tl(e).then(()=>{n.isCacheActive=!1})}}}]}function cO(t,e){let n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}var Wf=class extends Al{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Gf=class t extends Wf{static makeCurrent(){kw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=lO();return n==null?null:uO(n)}resetBaseElement(){Ss=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ml(document.cookie,e)}},Ss=null;function lO(){return Ss=Ss||document.querySelector("base"),Ss?Ss.getAttribute("href"):null}function uO(t){return new URL(t,document.baseURI).pathname}var dO=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac})}}return t})(),qf=new D(""),dI=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new A(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(M(qf),M(X))}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac})}}return t})(),kl=class{constructor(e){this._doc=e}},Hf="ng-app-id",hI=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ws(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Hf}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Hf),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Hf,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(M(qe),M(ll),M(vf,8),M(st))}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac})}}return t})(),zf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zf=/%COMP%/g,fI="%COMP%",hO=`_nghost-${fI}`,fO=`_ngcontent-${fI}`,pO=!0,mO=new D("",{providedIn:"root",factory:()=>pO});function gO(t){return fO.replace(Zf,t)}function vO(t){return hO.replace(Zf,t)}function pI(t,e){return e.map(n=>n.replace(Zf,t))}var cI=(()=>{class t{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ws(a),this.defaultRenderer=new Ts(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ht.ShadowDom&&(r=H(C({},r),{encapsulation:Ht.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Fl?i.applyToHost(n):i instanceof As&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ht.Emulated:o=new Fl(c,l,r,this.appId,u,s,a,d);break;case Ht.ShadowDom:return new Yf(c,l,n,r,s,a,this.nonce,d);default:o=new As(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(M(dI),M(hI),M(ll),M(mO),M(qe),M(st),M(X),M(vf))}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac})}}return t})(),Ts=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(zf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(lI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(lI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=zf[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=zf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(fn.DashCase|fn.Important)?e.style.setProperty(n,r,i&fn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&fn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=En().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function lI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Yf=class extends Ts{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=pI(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},As=class extends Ts{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?pI(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Fl=class extends As{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=gO(l),this.hostAttr=vO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},yO=(()=>{class t extends kl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(M(qe))}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac})}}return t})(),uI=["alt","control","meta","shift"],_O={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},wO=(()=>{class t extends kl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>En().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),uI.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=_O[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),uI.forEach(s=>{if(s!==i){let a=EO[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(M(qe))}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac})}}return t})();function mI(t,e){return Nw(C({rootComponent:t},IO(e)))}function IO(t){return{appProviders:[...TO,...t?.providers??[]],platformProviders:SO}}function CO(){Gf.makeCurrent()}function bO(){return new hn}function DO(){return mE(document),document}var SO=[{provide:st,useValue:Uw},{provide:gf,useValue:CO,multi:!0},{provide:qe,useFactory:DO,deps:[]}];var TO=[{provide:il,useValue:"root"},{provide:hn,useFactory:bO,deps:[]},{provide:qf,useClass:yO,multi:!0,deps:[qe,X,st]},{provide:qf,useClass:wO,multi:!0,deps:[qe]},cI,hI,dI,{provide:$i,useExisting:cI},{provide:Ki,useClass:dO,deps:[]},[]];var gI=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(M(qe))}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Kf=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(Kf||{});function vI(...t){let e=[],n=new Set,r=n.has(Kf.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return ke([[],Rw(),n.has(Kf.NoHttpTransferCache)||r?[]:sI({}),e])}var V="primary",zs=Symbol("RouteTitle"),tp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function no(t){return new tp(t)}function MO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function NO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qt(t[n],e[n]))return!1;return!0}function Qt(t,e){let n=t?np(t):void 0,r=e?np(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!DI(t[i],e[i]))return!1;return!0}function np(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function DI(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function SI(t){return t.length>0?t[t.length-1]:null}function rr(t){return Fd(t)?t:kr(t)?he(Promise.resolve(t)):O(t)}var RO={exact:AI,subset:MI},TI={exact:xO,subset:OO,ignored:()=>!0};function yI(t,e,n){return RO[n.paths](t.root,e.root,n.matrixParams)&&TI[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function xO(t,e){return Qt(t,e)}function AI(t,e,n){if(!jr(t.segments,e.segments)||!Ul(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!AI(t.children[r],e.children[r],n))return!1;return!0}function OO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>DI(t[n],e[n]))}function MI(t,e,n){return NI(t,e,e.segments,n)}function NI(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!jr(i,n)||e.hasChildren()||!Ul(i,n,r))}else if(t.segments.length===n.length){if(!jr(t.segments,n)||!Ul(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!MI(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!jr(t.segments,i)||!Ul(t.segments,i,r)||!t.children[V]?!1:NI(t.children[V],e,o,r)}}function Ul(t,e,n){return e.every((r,i)=>TI[n](t[i].parameters,r.parameters))}var In=class{constructor(e=new ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=no(this.queryParams),this._queryParamMap}toString(){return FO.serialize(this)}},ee=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jl(this)}},Ur=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=no(this.parameters),this._parameterMap}toString(){return xI(this)}};function PO(t,e){return jr(t,e)&&t.every((n,r)=>Qt(n.parameters,e[r].parameters))}function jr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function kO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===V&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==V&&(n=n.concat(e(i,r)))}),n}var Ap=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:()=>new ks,providedIn:"root"})}}return t})(),ks=class{parse(e){let n=new ip(e);return new In(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ms(e.root,!0)}`,r=UO(e.queryParams),i=typeof e.fragment=="string"?`#${LO(e.fragment)}`:"";return`${n}${r}${i}`}},FO=new ks;function jl(t){return t.segments.map(e=>xI(e)).join("/")}function Ms(t,e){if(!t.hasChildren())return jl(t);if(e){let n=t.children[V]?Ms(t.children[V],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==V&&r.push(`${i}:${Ms(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=kO(t,(r,i)=>i===V?[Ms(t.children[V],!1)]:[`${i}:${Ms(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[V]!=null?`${jl(t)}/${n[0]}`:`${jl(t)}/(${n.join("//")})`}}function RI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ll(t){return RI(t).replace(/%3B/gi,";")}function LO(t){return encodeURI(t)}function rp(t){return RI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bl(t){return decodeURIComponent(t)}function _I(t){return Bl(t.replace(/\+/g,"%20"))}function xI(t){return`${rp(t.path)}${VO(t.parameters)}`}function VO(t){return Object.entries(t).map(([e,n])=>`;${rp(e)}=${rp(n)}`).join("")}function UO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ll(n)}=${Ll(i)}`).join("&"):`${Ll(n)}=${Ll(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var jO=/^[^\/()?;#]+/;function Qf(t){let e=t.match(jO);return e?e[0]:""}var BO=/^[^\/()?;=#]+/;function $O(t){let e=t.match(BO);return e?e[0]:""}var HO=/^[^=?&#]+/;function zO(t){let e=t.match(HO);return e?e[0]:""}var WO=/^[^&#]+/;function GO(t){let e=t.match(WO);return e?e[0]:""}var ip=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[V]=new ee(e,n)),r}parseSegment(){let e=Qf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new Ur(Bl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=$O(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Qf(this.remaining);i&&(r=i,this.capture(r))}e[Bl(n)]=Bl(r)}parseQueryParam(e){let n=zO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=GO(this.remaining);s&&(r=s,this.capture(r))}let i=_I(n),o=_I(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Qf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=V);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[V]:new ee([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}};function OI(t){return t.segments.length>0?new ee([],{[V]:t}):t}function PI(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=PI(i);if(r===V&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ee(t.segments,e);return qO(n)}function qO(t){if(t.numberOfChildren===1&&t.children[V]){let e=t.children[V];return new ee(t.segments.concat(e.segments),e.children)}return t}function Br(t){return t instanceof In}function YO(t,e,n=null,r=null){let i=kI(t);return FI(i,e,n,r)}function kI(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new ee(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=OI(r);return e??i}function FI(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Jf(i,i,i,n,r);let o=KO(e);if(o.toRoot())return Jf(i,i,new ee([],{}),n,r);let s=ZO(o,i,t),a=s.processChildren?xs(s.segmentGroup,s.index,o.commands):VI(s.segmentGroup,s.index,o.commands);return Jf(i,s.segmentGroup,a,n,r)}function $l(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Fs(t){return typeof t=="object"&&t!=null&&t.outlets}function Jf(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=LI(t,e,n);let a=OI(PI(s));return new In(a,o,i)}function LI(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=LI(o,e,n)}),new ee(t.segments,r)}var Hl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&$l(r[0]))throw new A(4003,!1);let i=r.find(Fs);if(i&&i!==SI(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function KO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Hl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Hl(n,e,r)}var Xi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function ZO(t,e,n){if(t.isAbsolute)return new Xi(e,!0,0);if(!n)return new Xi(e,!1,NaN);if(n.parent===null)return new Xi(n,!0,0);let r=$l(t.commands[0])?0:1,i=n.segments.length-1+r;return QO(n,i,t.numberOfDoubleDots)}function QO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new Xi(r,!1,i-o)}function JO(t){return Fs(t[0])?t[0].outlets:{[V]:t}}function VI(t,e,n){if(t??=new ee([],{}),t.segments.length===0&&t.hasChildren())return xs(t,e,n);let r=XO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ee(t.segments.slice(0,r.pathIndex),{});return o.children[V]=new ee(t.segments.slice(r.pathIndex),t.children),xs(o,0,i)}else return r.match&&i.length===0?new ee(t.segments,{}):r.match&&!t.hasChildren()?op(t,e,n):r.match?xs(t,0,i):op(t,e,n)}function xs(t,e,n){if(n.length===0)return new ee(t.segments,{});{let r=JO(n),i={};if(Object.keys(r).some(o=>o!==V)&&t.children[V]&&t.numberOfChildren===1&&t.children[V].segments.length===0){let o=xs(t.children[V],e,n);return new ee(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=VI(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ee(t.segments,i)}}function XO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Fs(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!wI(c,l,s))return o;r+=2}else{if(!wI(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function op(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Fs(o)){let c=eP(o.outlets);return new ee(r,c)}if(i===0&&$l(n[0])){let c=t.segments[e];r.push(new Ur(c.path,EI(n[0]))),i++;continue}let s=Fs(o)?o.outlets[V]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&$l(a)?(r.push(new Ur(s,EI(a))),i+=2):(r.push(new Ur(s,{})),i++)}return new ee(r,{})}function eP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=op(new ee([],{}),0,r))}),e}function EI(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function wI(t,e,n){return t==n.path&&Qt(e,n.parameters)}var Os="imperative",Re=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Re||{}),gt=class{constructor(e,n){this.id=e,this.url=n}},Ls=class extends gt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Re.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nr=class extends gt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Re.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},lt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(lt||{}),sp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(sp||{}),wn=class extends gt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Re.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$r=class extends gt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Re.NavigationSkipped}},Vs=class extends gt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Re.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},zl=class extends gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Re.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ap=class extends gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Re.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cp=class extends gt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Re.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},lp=class extends gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Re.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},up=class extends gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Re.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dp=class{constructor(e){this.route=e,this.type=Re.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hp=class{constructor(e){this.route=e,this.type=Re.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},fp=class{constructor(e){this.snapshot=e,this.type=Re.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pp=class{constructor(e){this.snapshot=e,this.type=Re.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mp=class{constructor(e){this.snapshot=e,this.type=Re.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gp=class{constructor(e){this.snapshot=e,this.type=Re.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Us=class{},ro=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function tP(t,e){return t.providers&&!t._injector&&(t._injector=kf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Pt(t){return t.outlet||V}function nP(t,e){let n=t.filter(r=>Pt(r)===e);return n.push(...t.filter(r=>Pt(r)!==e)),n}function Ws(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var vp=class{get injector(){return Ws(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Ql(this.rootInjector),this.attachRef=null}},Ql=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new vp(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(M(Ge))}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Wl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=yp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=yp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=_p(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _p(e,this._root).map(n=>n.value)}};function yp(t,e){if(t===e.value)return e;for(let n of e.children){let r=yp(t,n);if(r)return r}return null}function _p(t,e){if(t===e.value)return[e];for(let n of e.children){let r=_p(t,n);if(r.length)return r.unshift(e),r}return[]}var ct=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ji(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Gl=class extends Wl{constructor(e,n){super(e),this.snapshot=n,Mp(this,e)}toString(){return this.snapshot.toString()}};function UI(t){let e=rP(t),n=new Me([new Ur("",{})]),r=new Me({}),i=new Me({}),o=new Me({}),s=new Me(""),a=new Hr(n,r,o,s,i,V,t,e.root);return a.snapshot=e.root,new Gl(new ct(a,[]),e)}function rP(t){let e={},n={},r={},i="",o=new eo([],e,r,i,n,V,t,null,{});return new Yl("",new ct(o,[]))}var Hr=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(F(l=>l[zs]))??O(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(F(e=>no(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(F(e=>no(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ql(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:C(C({},e.params),t.params),data:C(C({},e.data),t.data),resolve:C(C(C(C({},t.data),e.data),i?.data),t._resolvedData)}:r={params:C({},t.params),data:C({},t.data),resolve:C(C({},t.data),t._resolvedData??{})},i&&BI(i)&&(r.resolve[zs]=i.title),r}var eo=class{get title(){return this.data?.[zs]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=no(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=no(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Yl=class extends Wl{constructor(e,n){super(n),this.url=e,Mp(this,n)}toString(){return jI(this._root)}};function Mp(t,e){e.value._routerState=t,e.children.forEach(n=>Mp(t,n))}function jI(t){let e=t.children.length>0?` { ${t.children.map(jI).join(", ")} } `:"";return`${t.value}${e}`}function Xf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Qt(e.params,n.params)||t.paramsSubject.next(n.params),NO(e.url,n.url)||t.urlSubject.next(n.url),Qt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ep(t,e){let n=Qt(t.params,e.params)&&PO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Ep(t.parent,e.parent))}function BI(t){return typeof t.title=="string"||t.title===null}var Np=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new _e,this.deactivateEvents=new _e,this.attachEvents=new _e,this.detachEvents=new _e,this.parentContexts=E(Ql),this.location=E(wl),this.changeDetector=E(Yi),this.inputBinder=E(Rp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new wp(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ee({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mn]})}}return t})(),wp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Hr?this.route:e===Ql?this.childContexts:this.parent.get(e,n)}},Rp=new D("");function iP(t,e,n){let r=js(t,e._root,n?n._root:void 0);return new Gl(r,e)}function js(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=oP(t,e,n);return new ct(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>js(t,a)),s}}let r=sP(e.value),i=e.children.map(o=>js(t,o));return new ct(r,i)}}function oP(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return js(t,r,i);return js(t,r)})}function sP(t){return new Hr(new Me(t.url),new Me(t.params),new Me(t.queryParams),new Me(t.fragment),new Me(t.data),t.outlet,t.component,t)}var Bs=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},$I="ngNavigationCancelingError";function Kl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Br(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HI(!1,lt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function HI(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[$I]=!0,n.cancellationCode=e,n}function aP(t){return zI(t)&&Br(t.url)}function zI(t){return!!t&&t[$I]}var cP=(t,e,n,r)=>F(i=>(new Ip(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ip=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Xf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ji(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ji(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ji(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ji(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new gp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new pp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Xf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Xf(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Zl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},to=class{constructor(e,n){this.component=e,this.route=n}};function lP(t,e,n){let r=t._root,i=e?e._root:null;return Ns(r,i,n,[r.value])}function uP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function oo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!t_(t)?t:e.get(t):r}function Ns(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ji(e);return t.children.forEach(s=>{dP(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ps(a,n.getContext(s),i)),i}function dP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=hP(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Zl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ns(t,e,a?a.children:null,r,i):Ns(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new to(a.outlet.component,s))}else s&&Ps(e,a,i),i.canActivateChecks.push(new Zl(r)),o.component?Ns(t,null,a?a.children:null,r,i):Ns(t,null,n,r,i);return i}function hP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!jr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!jr(t.url,e.url)||!Qt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ep(t,e)||!Qt(t.queryParams,e.queryParams);case"paramsChange":default:return!Ep(t,e)}}function Ps(t,e,n){let r=Ji(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ps(s,e.children.getContext(o),n):Ps(s,null,n):Ps(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new to(e.outlet.component,i)):n.canDeactivateChecks.push(new to(null,i)):n.canDeactivateChecks.push(new to(null,i))}function Gs(t){return typeof t=="function"}function fP(t){return typeof t=="boolean"}function pP(t){return t&&Gs(t.canLoad)}function mP(t){return t&&Gs(t.canActivate)}function gP(t){return t&&Gs(t.canActivateChild)}function vP(t){return t&&Gs(t.canDeactivate)}function yP(t){return t&&Gs(t.canMatch)}function WI(t){return t instanceof ln||t?.name==="EmptyError"}var Vl=Symbol("INITIAL_VALUE");function io(){return et(t=>dc(t.map(e=>e.pipe(un(1),$d(Vl)))).pipe(F(e=>{for(let n of e)if(n!==!0){if(n===Vl)return Vl;if(n===!1||_P(n))return n}return!0}),Xe(e=>e!==Vl),un(1)))}function _P(t){return Br(t)||t instanceof Bs}function EP(t,e){return Ie(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?O(H(C({},n),{guardsResult:!0})):wP(s,r,i,t).pipe(Ie(a=>a&&fP(a)?IP(r,o,t,e):O(a)),F(a=>H(C({},n),{guardsResult:a})))})}function wP(t,e,n,r){return he(t).pipe(Ie(i=>TP(i.component,i.route,n,e,r)),Dt(i=>i!==!0,!0))}function IP(t,e,n,r){return he(e).pipe(jn(i=>bi(bP(i.route.parent,r),CP(i.route,r),SP(t,i.path,n),DP(t,i.route,n))),Dt(i=>i!==!0,!0))}function CP(t,e){return t!==null&&e&&e(new mp(t)),O(!0)}function bP(t,e){return t!==null&&e&&e(new fp(t)),O(!0)}function DP(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(o=>hc(()=>{let s=Ws(e)??n,a=oo(o,s),c=mP(a)?a.canActivate(e,t):Rt(s,()=>a(e,t));return rr(c).pipe(Dt())}));return O(i).pipe(io())}function SP(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>uP(s)).filter(s=>s!==null).map(s=>hc(()=>{let a=s.guards.map(c=>{let l=Ws(s.node)??n,u=oo(c,l),d=gP(u)?u.canActivateChild(r,t):Rt(l,()=>u(r,t));return rr(d).pipe(Dt())});return O(a).pipe(io())}));return O(o).pipe(io())}function TP(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return O(!0);let s=o.map(a=>{let c=Ws(e)??i,l=oo(a,c),u=vP(l)?l.canDeactivate(t,e,n,r):Rt(c,()=>l(t,e,n,r));return rr(u).pipe(Dt())});return O(s).pipe(io())}function AP(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return O(!0);let o=i.map(s=>{let a=oo(s,t),c=pP(a)?a.canLoad(e,n):Rt(t,()=>a(e,n));return rr(c)});return O(o).pipe(io(),GI(r))}function GI(t){return Ad(ve(e=>{if(typeof e!="boolean")throw Kl(t,e)}),F(e=>e===!0))}function MP(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return O(!0);let o=i.map(s=>{let a=oo(s,t),c=yP(a)?a.canMatch(e,n):Rt(t,()=>a(e,n));return rr(c)});return O(o).pipe(io(),GI(r))}var $s=class{constructor(e){this.segmentGroup=e||null}},Hs=class extends Error{constructor(e){super(),this.urlTree=e}};function Qi(t){return Ci(new $s(t))}function NP(t){return Ci(new A(4e3,!1))}function RP(t){return Ci(HI(!1,lt.GuardRejected))}var Cp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[V])return NP(`${e.redirectTo}`);i=i.children[V]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:p,params:g,data:_,title:w}=i,I=Rt(o,()=>a({params:g,data:_,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:p,title:w}));if(I instanceof In)throw new Hs(I);n=I}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Hs(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new In(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ee(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},bp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xP(t,e,n,r,i){let o=qI(t,e,n);return o.matched?(r=tP(e,r),MP(r,e,n,i).pipe(F(s=>s===!0?o:C({},bp)))):O(o)}function qI(t,e,n){if(e.path==="**")return OP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?C({},bp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||MO)(n,t,e);if(!i)return C({},bp);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?C(C({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function OP(t){return{matched:!0,parameters:t.length>0?SI(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function II(t,e,n,r){return n.length>0&&FP(t,n,r)?{segmentGroup:new ee(e,kP(r,new ee(n,t.children))),slicedSegments:[]}:n.length===0&&LP(t,n,r)?{segmentGroup:new ee(t.segments,PP(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ee(t.segments,t.children),slicedSegments:n}}function PP(t,e,n,r){let i={};for(let o of n)if(Jl(t,e,o)&&!r[Pt(o)]){let s=new ee([],{});i[Pt(o)]=s}return C(C({},r),i)}function kP(t,e){let n={};n[V]=e;for(let r of t)if(r.path===""&&Pt(r)!==V){let i=new ee([],{});n[Pt(r)]=i}return n}function FP(t,e,n){return n.some(r=>Jl(t,e,r)&&Pt(r)!==V)}function LP(t,e,n){return n.some(r=>Jl(t,e,r))}function Jl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function VP(t,e,n){return e.length===0&&!t.children[n]}var Dp=class{};function UP(t,e,n,r,i,o,s="emptyOnly"){return new Sp(t,e,n,r,i,s,o).recognize()}var jP=31,Sp=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Cp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new A(4002,`'${e.segmentGroup}'`)}recognize(){let e=II(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(F(({children:n,rootSnapshot:r})=>{let i=new ct(r,n),o=new Yl("",i),s=YO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new eo([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),V,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,V,n).pipe(F(r=>({children:r,rootSnapshot:n})),Un(r=>{if(r instanceof Hs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof $s?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(F(s=>s instanceof ct?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return he(o).pipe(jn(s=>{let a=r.children[s],c=nP(n,s);return this.processSegmentGroup(e,c,a,s,i)}),Bd((s,a)=>(s.push(...a),s)),Bn(null),jd(),Ie(s=>{if(s===null)return Qi(r);let a=YI(s);return BP(a),O(a)}))}processSegment(e,n,r,i,o,s,a){return he(n).pipe(jn(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(Un(l=>{if(l instanceof $s)return O(null);throw l}))),Dt(c=>!!c),Un(c=>{if(WI(c))return VP(r,i,o)?O(new Dp):Qi(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return Pt(r)!==s&&(s===V||!Jl(i,o,r))?Qi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):Qi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=qI(n,i,o);if(!c)return Qi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jP&&(this.allowRedirects=!1));let g=new eo(o,l,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,CI(i),Pt(i),i.component??i._loadedComponent??null,i,bI(i)),_=ql(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let w=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,e);return this.applyRedirects.lineralizeSegments(i,w).pipe(Ie(I=>this.processSegment(e,r,n,I.concat(p),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=xP(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(et(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(et(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:p,remainingSegments:g}=c,_=new eo(p,d,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,CI(r),Pt(r),r.component??r._loadedComponent??null,r,bI(r)),w=ql(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(w.params),_.data=Object.freeze(w.data);let{segmentGroup:I,slicedSegments:S}=II(n,p,g,l);if(S.length===0&&I.hasChildren())return this.processChildren(u,l,I,_).pipe(F(N=>new ct(_,N)));if(l.length===0&&S.length===0)return O(new ct(_,[]));let U=Pt(r)===o;return this.processSegment(u,l,I,S,U?V:o,!0,_).pipe(F(N=>new ct(_,N instanceof ct?[N]:[])))}))):Qi(n)))}getChildConfig(e,n,r){return n.children?O({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):AP(e,n,r,this.urlSerializer).pipe(Ie(i=>i?this.configLoader.loadChildren(e,n).pipe(ve(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):RP(n))):O({routes:[],injector:e})}};function BP(t){t.sort((e,n)=>e.value.outlet===V?-1:n.value.outlet===V?1:e.value.outlet.localeCompare(n.value.outlet))}function $P(t){let e=t.value.routeConfig;return e&&e.path===""}function YI(t){let e=[],n=new Set;for(let r of t){if(!$P(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=YI(r.children);e.push(new ct(r.value,i))}return e.filter(r=>!n.has(r))}function CI(t){return t.data||{}}function bI(t){return t.resolve||{}}function HP(t,e,n,r,i,o){return Ie(s=>UP(t,e,n,r,s.extractedUrl,i,o).pipe(F(({state:a,tree:c})=>H(C({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function zP(t,e){return Ie(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of KI(c))s.add(l);let a=0;return he(s).pipe(jn(c=>o.has(c)?WP(c,r,t,e):(c.data=ql(c,c.parent,t).resolve,O(void 0))),ve(()=>a++),Di(1),Ie(c=>a===s.size?O(n):Je))})}function KI(t){let e=t.children.map(n=>KI(n)).flat();return[t,...e]}function WP(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!BI(i)&&(o[zs]=i.title),GP(o,t,e,r).pipe(F(s=>(t._resolvedData=s,t.data=ql(t,t.parent,n).resolve,null)))}function GP(t,e,n,r){let i=np(t);if(i.length===0)return O({});let o={};return he(i).pipe(Ie(s=>qP(t[s],e,n,r).pipe(Dt(),ve(a=>{if(a instanceof Bs)throw Kl(new ks,a);o[s]=a}))),Di(1),Ud(o),Un(s=>WI(s)?Je:Ci(s)))}function qP(t,e,n,r){let i=Ws(e)??r,o=oo(t,i),s=o.resolve?o.resolve(e,n):Rt(i,()=>o(e,n));return rr(s)}function ep(t){return et(e=>{let n=t(e);return n?he(n).pipe(F(()=>e)):O(e)})}var ZI=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===V);return r}getResolvedTitleForRoute(n){return n.data[zs]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:()=>E(YP),providedIn:"root"})}}return t})(),YP=(()=>{class t extends ZI{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(M(gI))}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xp=new D("",{providedIn:"root",factory:()=>({})}),KP=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=ne({type:t,selectors:[["ng-component"]],standalone:!0,features:[re],decls:1,vars:0,template:function(r,i){r&1&&v(0,"router-outlet")},dependencies:[Np],encapsulation:2})}}return t})();function Op(t){let e=t.children&&t.children.map(Op),n=e?H(C({},t),{children:e}):C({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=KP),n}var Pp=new D(""),ZP=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(Ff)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return O(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=rr(n.loadComponent()).pipe(F(QI),ve(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ir(()=>{this.componentLoaders.delete(n)})),i=new _i(r,()=>new be).pipe(yi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return O({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=QP(r,this.compiler,n,this.onLoadEndListener).pipe(Ir(()=>{this.childrenLoaders.delete(r)})),s=new _i(o,()=>new be).pipe(yi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function QP(t,e,n,r){return rr(t.loadChildren()).pipe(F(QI),Ie(i=>i instanceof os||Array.isArray(i)?O(i):he(e.compileModuleAsync(i))),F(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Pp,[],{optional:!0,self:!0}).flat()),{routes:s.map(Op),injector:o}}))}function JP(t){return t&&typeof t=="object"&&"default"in t}function QI(t){return JP(t)?t.default:t}var kp=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:()=>E(XP),providedIn:"root"})}}return t})(),XP=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ek=new D("");var tk=new D(""),nk=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new be,this.transitionAbortSubject=new be,this.configLoader=E(ZP),this.environmentInjector=E(Ge),this.urlSerializer=E(Ap),this.rootContexts=E(Ql),this.location=E(Es),this.inputBindingEnabled=E(Rp,{optional:!0})!==null,this.titleStrategy=E(ZI),this.options=E(xp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(kp),this.createViewTransition=E(ek,{optional:!0}),this.navigationErrorHandler=E(tk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null;let n=i=>this.events.next(new dp(i)),r=i=>this.events.next(new hp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(H(C(C({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Me({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Os,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xe(o=>o.id!==0),F(o=>H(C({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),et(o=>{let s=!1,a=!1;return O(o).pipe(et(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",lt.SupersededByNewNavigation),Je;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?H(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new $r(c.id,this.urlSerializer.serialize(c.rawUrl),d,sp.IgnoredSameUrlNavigation)),c.resolve(!1),Je}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return O(c).pipe(et(d=>{let p=this.transitions?.getValue();return this.events.next(new Ls(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),p!==this.transitions?.getValue()?Je:Promise.resolve(d)}),HP(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ve(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=H(C({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let p=new zl(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:p,source:g,restoredState:_,extras:w}=c,I=new Ls(d,this.urlSerializer.serialize(p),g,_);this.events.next(I);let S=UI(this.rootComponentType).snapshot;return this.currentTransition=o=H(C({},c),{targetSnapshot:S,urlAfterRedirects:p,extras:H(C({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,O(o)}else{let d="";return this.events.next(new $r(c.id,this.urlSerializer.serialize(c.extractedUrl),d,sp.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Je}}),ve(c=>{let l=new ap(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),F(c=>(this.currentTransition=o=H(C({},c),{guards:lP(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),EP(this.environmentInjector,c=>this.events.next(c)),ve(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Kl(this.urlSerializer,c.guardsResult);let l=new cp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Xe(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",lt.GuardRejected),!1)),ep(c=>{if(c.guards.canActivateChecks.length)return O(c).pipe(ve(l=>{let u=new lp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),et(l=>{let u=!1;return O(l).pipe(zP(this.paramsInheritanceStrategy,this.environmentInjector),ve({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",lt.NoDataFromResolver)}}))}),ve(l=>{let u=new up(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),ep(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ve(p=>{u.component=p}),F(()=>{})));for(let p of u.children)d.push(...l(p));return d};return dc(l(c.targetSnapshot.root)).pipe(Bn(null),un(1))}),ep(()=>this.afterPreactivation()),et(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?he(u).pipe(F(()=>o)):O(o)}),F(c=>{let l=iP(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=H(C({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ve(()=>{this.events.next(new Us)}),cP(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),un(1),ve({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Hd(this.transitionAbortSubject.pipe(ve(c=>{throw c}))),Ir(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",lt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Un(c=>{if(a=!0,zI(c))this.events.next(new wn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),aP(c)?this.events.next(new ro(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Vs(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=Rt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Bs){let{message:d,cancellationCode:p}=Kl(this.urlSerializer,u);this.events.next(new wn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,p)),this.events.next(new ro(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=n.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Je}))}))}cancelNavigationTransition(n,r,i){let o=new wn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function rk(t){return t!==Os}var ik=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:()=>E(ok),providedIn:"root"})}}return t})(),Tp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},ok=(()=>{class t extends Tp{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=gn(t)))(i||t)}})()}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),JI=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:()=>E(sk),providedIn:"root"})}}return t})(),sk=(()=>{class t extends JI{constructor(){super(...arguments),this.location=E(Es),this.urlSerializer=E(Ap),this.options=E(xp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(kp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new In,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=UI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ls)this.stateMemento=this.createStateMemento();else if(n instanceof $r)this.rawUrlTree=r.initialUrl;else if(n instanceof zl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Us?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof wn&&(n.code===lt.GuardRejected||n.code===lt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Vs?this.restoreHistory(r,!0):n instanceof nr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof In?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=C(C({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=C(C({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=gn(t)))(i||t)}})()}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Rs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Rs||{});function ak(t,e){t.events.pipe(Xe(n=>n instanceof nr||n instanceof wn||n instanceof Vs||n instanceof $r),F(n=>n instanceof nr||n instanceof $r?Rs.COMPLETE:(n instanceof wn?n.code===lt.Redirect||n.code===lt.SupersededByNewNavigation:!1)?Rs.REDIRECTING:Rs.FAILED),Xe(n=>n!==Rs.REDIRECTING),un(1)).subscribe(()=>{e()})}function ck(t){throw t}var lk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Cn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=E(Sl),this.stateManager=E(JI),this.options=E(xp,{optional:!0})||{},this.pendingTasks=E(Kn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(nk),this.urlSerializer=E(Ap),this.location=E(Es),this.urlHandlingStrategy=E(kp),this._events=new be,this.errorHandler=this.options.errorHandler||ck,this.navigated=!1,this.routeReuseStrategy=E(ik),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(Pp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(Rp,{optional:!0}),this.eventsSubscription=new pe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof wn&&r.code!==lt.Redirect&&r.code!==lt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof nr)this.navigated=!0;else if(r instanceof ro){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=C({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||rk(i.source)},s);this.scheduleNavigation(a,Os,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}hk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Os,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=C({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Op),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=C(C({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=kI(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return FI(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Br(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Os,null,r)}navigate(n,r={skipLocationChange:!1}){return dk(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=C({},lk):r===!1?i=C({},uk):i=r,Br(n))return yI(this.currentUrlTree,n,i);let o=this.parseUrl(n);return yI(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,p)=>{a=d,c=p});let u=this.pendingTasks.add();return ak(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function dk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new A(4008,!1)}function hk(t){return!(t instanceof Us)&&!(t instanceof ro)}var Xl=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new be,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof nr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Br(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:SE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Br(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(R(Cn),R(Hr),hf("tabindex"),R(vn),R(qt),R(Zi))}}static{this.\u0275dir=Ee({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Z("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&vs("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Fr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Fr],replaceUrl:[2,"replaceUrl","replaceUrl",Fr],routerLink:"routerLink"},standalone:!0,features:[Pf,mn]})}}return t})();var fk=new D("");function XI(t,...e){return ke([{provide:Pp,multi:!0,useValue:t},[],{provide:Hr,useFactory:pk,deps:[Cn]},{provide:qi,multi:!0,useFactory:mk},e.map(n=>n.\u0275providers)])}function pk(t){return t.routerState.root}function mk(){let t=E(Se);return e=>{let n=t.get(Kt);if(e!==n.components[0])return;let r=t.get(Cn),i=t.get(gk);t.get(vk)===1&&r.initialNavigation(),t.get(yk,null,j.Optional)?.setUpPreloading(),t.get(fk,null,j.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var gk=new D("",{factory:()=>new be}),vk=new D("",{providedIn:"root",factory:()=>1});var yk=new D("");var Lp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var b=function(t,e){if(!t)throw Wr(e)},Wr=function(t){return new Error("Firebase Database ("+Lp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var n0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_k=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},tu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,p=(a&15)<<2|l>>6,g=l&63;c||(g=64,s||(p=64)),r.push(n[u],n[d],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_k(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Vp;let p=o<<2|a>>4;if(r.push(p),l!==64){let g=a<<4&240|l>>2;if(r.push(g),d!==64){let _=l<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Vp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},jp=function(t){let e=n0(t);return tu.encodeByteArray(e,!0)},qs=function(t){return jp(t).replace(/\./g,"")},Ys=function(t){try{return tu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function r0(t){return i0(void 0,t)}function i0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!Ek(n)||(t[n]=i0(t[n],e[n]));return t}function Ek(t){return t!=="__proto__"}function wk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Ik=()=>wk().__FIREBASE_DEFAULTS__,Ck=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ys(t[1]);return e&&JSON.parse(e)},Bp=()=>{try{return Ik()||Ck()||bk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$p=t=>{var e,n;return(n=(e=Bp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nu=t=>{let e=$p(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hp=()=>{var t;return(t=Bp())===null||t===void 0?void 0:t.config},zp=t=>{var e;return(e=Bp())===null||e===void 0?void 0:e[`_${t}`]};var zr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ru(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qs(JSON.stringify(n)),qs(JSON.stringify(s)),""].join(".")}function Ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ks(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function o0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function s0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a0(){let t=Ve();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Jt(){return Lp.NODE_CLIENT===!0||Lp.NODE_ADMIN===!0}function c0(){try{return typeof indexedDB=="object"}catch{return!1}}function l0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var Dk="FirebaseError",ut=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bn.prototype.create)}},bn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Sk(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ut(i,a,r)}};function Sk(t,e){return t.replace(Tk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Tk=/\{\$([^}]+)}/g;function so(t){return JSON.parse(t)}function Te(t){return JSON.stringify(t)}var u0=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=so(Ys(o[0])||""),n=so(Ys(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var d0=function(t){let e=u0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},h0=function(t){let e=u0(t).claims;return typeof e=="object"&&e.admin===!0};function Xt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Gr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Zs(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qs(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ao(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(t0(o)&&t0(s)){if(!ao(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function t0(t){return t!==null&&typeof t=="object"}function qr(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function co(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function lo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var eu=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let p=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(p<<1|p>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let p=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=p}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function f0(t,e){let n=new Up(t,e);return n.subscribe.bind(n)}var Up=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ak(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Fp),i.error===void 0&&(i.error=Fp),i.complete===void 0&&(i.complete=Fp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Ak(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fp(){}function p0(t,e){return`${t} failed: ${e} argument `}var m0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,b(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Js=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var cG=4*60*60*1e3;function Ye(t){return t&&t._delegate?t._delegate:t}var Ke=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Yr="[DEFAULT]";var ou=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new zr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Nk(e))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return y(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Yr){return this.instances.has(e)}getOptions(e=Yr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yr){return this.component?this.component.multipleInstances?e:Yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Mk(t){return t===Yr?void 0:t}function Nk(t){return t.instantiationMode==="EAGER"}var Xs=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ou(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Rk=[],te=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(te||{}),xk={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},Ok=te.INFO,Pk={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},kk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Pk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ir=class{constructor(e){this.name=e,this._logLevel=Ok,this._logHandler=kk,this._userLogHandler=null,Rk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}};var Fk=(t,e)=>e.some(n=>t instanceof n),g0,v0;function Lk(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vk(){return v0||(v0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var y0=new WeakMap,Gp=new WeakMap,_0=new WeakMap,Wp=new WeakMap,Yp=new WeakMap;function Uk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(en(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&y0.set(n,t)}).catch(()=>{}),Yp.set(e,t),e}function jk(t){if(Gp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Gp.set(t,e)}var qp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return en(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function E0(t){qp=t(qp)}function Bk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(su(this),e,...n);return _0.set(r,e.sort?e.sort():[e]),en(r)}:Vk().includes(t)?function(...e){return t.apply(su(this),e),en(y0.get(this))}:function(...e){return en(t.apply(su(this),e))}}function $k(t){return typeof t=="function"?Bk(t):(t instanceof IDBTransaction&&jk(t),Fk(t,Lk())?new Proxy(t,qp):t)}function en(t){if(t instanceof IDBRequest)return Uk(t);if(Wp.has(t))return Wp.get(t);let e=$k(t);return e!==t&&(Wp.set(t,e),Yp.set(e,t)),e}var su=t=>Yp.get(t);function I0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=en(s);return r&&s.addEventListener("upgradeneeded",c=>{r(en(s.result),c.oldVersion,c.newVersion,en(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Hk=["get","getKey","getAll","getAllKeys","count"],zk=["put","add","delete","clear"],Kp=new Map;function w0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kp.get(e))return Kp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=zk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Hk.includes(n)))return;let o=function(s,...a){return y(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Kp.set(e,o),o}E0(t=>H(C({},t),{get:(e,n,r)=>w0(e,n)||t.get(e,n,r),has:(e,n)=>!!w0(e,n)||t.has(e,n)}));var Qp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Wk(t){let e=t.getComponent();return e?.type==="VERSION"}var Jp="@firebase/app",C0="0.10.13";var Dn=new ir("@firebase/app"),Gk="@firebase/app-compat",qk="@firebase/analytics-compat",Yk="@firebase/analytics",Kk="@firebase/app-check-compat",Zk="@firebase/app-check",Qk="@firebase/auth",Jk="@firebase/auth-compat",Xk="@firebase/database",e1="@firebase/data-connect",t1="@firebase/database-compat",n1="@firebase/functions",r1="@firebase/functions-compat",i1="@firebase/installations",o1="@firebase/installations-compat",s1="@firebase/messaging",a1="@firebase/messaging-compat",c1="@firebase/performance",l1="@firebase/performance-compat",u1="@firebase/remote-config",d1="@firebase/remote-config-compat",h1="@firebase/storage",f1="@firebase/storage-compat",p1="@firebase/firestore",m1="@firebase/vertexai-preview",g1="@firebase/firestore-compat",v1="firebase",y1="10.14.1";var Xp="[DEFAULT]",_1={[Jp]:"fire-core",[Gk]:"fire-core-compat",[Yk]:"fire-analytics",[qk]:"fire-analytics-compat",[Zk]:"fire-app-check",[Kk]:"fire-app-check-compat",[Qk]:"fire-auth",[Jk]:"fire-auth-compat",[Xk]:"fire-rtdb",[e1]:"fire-data-connect",[t1]:"fire-rtdb-compat",[n1]:"fire-fn",[r1]:"fire-fn-compat",[i1]:"fire-iid",[o1]:"fire-iid-compat",[s1]:"fire-fcm",[a1]:"fire-fcm-compat",[c1]:"fire-perf",[l1]:"fire-perf-compat",[u1]:"fire-rc",[d1]:"fire-rc-compat",[h1]:"fire-gcs",[f1]:"fire-gcs-compat",[p1]:"fire-fst",[g1]:"fire-fst-compat",[m1]:"fire-vertex","fire-js":"fire-js",[v1]:"fire-js-all"};var ea=new Map,E1=new Map,em=new Map;function b0(t,e){try{t.container.addComponent(e)}catch(n){Dn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tn(t){let e=t.name;if(em.has(e))return Dn.debug(`There were multiple attempts to register component ${e}.`),!1;em.set(e,t);for(let n of ea.values())b0(n,t);for(let n of E1.values())b0(n,t);return!0}function Kr(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kt(t){return t.settings!==void 0}var w1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new bn("app","Firebase",w1);var tm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ke("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}};var nn=y1;function im(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Xp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw or.create("bad-app-name",{appName:String(i)});if(n||(n=Hp()),!n)throw or.create("no-options");let o=ea.get(i);if(o){if(ao(n,o.options)&&ao(r,o.config))return o;throw or.create("duplicate-app",{appName:i})}let s=new Xs(i);for(let c of em.values())s.addComponent(c);let a=new tm(n,r,s);return ea.set(i,a),a}function sr(t=Xp){let e=ea.get(t);if(!e&&t===Xp&&Hp())return im();if(!e)throw or.create("no-app",{appName:t});return e}function au(){return Array.from(ea.values())}function de(t,e,n){var r;let i=(r=_1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dn.warn(a.join(" "));return}tn(new Ke(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var I1="firebase-heartbeat-database",C1=1,ta="firebase-heartbeat-store",Zp=null;function A0(){return Zp||(Zp=I0(I1,C1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ta)}catch(n){console.warn(n)}}}}).catch(t=>{throw or.create("idb-open",{originalErrorMessage:t.message})})),Zp}function b1(t){return y(this,null,function*(){try{let n=(yield A0()).transaction(ta),r=yield n.objectStore(ta).get(M0(t));return yield n.done,r}catch(e){if(e instanceof ut)Dn.warn(e.message);else{let n=or.create("idb-get",{originalErrorMessage:e?.message});Dn.warn(n.message)}}})}function D0(t,e){return y(this,null,function*(){try{let r=(yield A0()).transaction(ta,"readwrite");yield r.objectStore(ta).put(e,M0(t)),yield r.done}catch(n){if(n instanceof ut)Dn.warn(n.message);else{let r=or.create("idb-set",{originalErrorMessage:n?.message});Dn.warn(r.message)}}})}function M0(t){return`${t.name}!${t.options.appId}`}var D1=1024,S1=30*24*60*60*1e3,nm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new rm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return y(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=S0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=S1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Dn.warn(r)}})}getHeartbeatsHeader(){return y(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=S0(),{heartbeatsToSend:r,unsentEntries:i}=T1(this._heartbeatsCache.heartbeats),o=qs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Dn.warn(n),""}})}};function S0(){return new Date().toISOString().substring(0,10)}function T1(t,e=D1){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),T0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),T0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var rm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return c0()?l0().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield b1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return D0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return D0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function T0(t){return qs(JSON.stringify({version:2,heartbeats:t})).length}function A1(t){tn(new Ke("platform-logger",e=>new Qp(e),"PRIVATE")),tn(new Ke("heartbeat",e=>new nm(e),"PRIVATE")),de(Jp,C0,t),de(Jp,C0,"esm2017"),de("fire-js","")}A1("");var M1="firebase",N1="10.14.1";de(M1,N1,"app");var Sn=new pn("ANGULARFIRE2_VERSION");function ho(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Qr=(t,e)=>{let n=e?[e]:au(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ar=class{constructor(){return Qr(R1)}},R1="app-check";function uo(){}var cu=class{zone;delegate;constructor(e,n=Pd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},om=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uo,{},uo,uo)),n.pipe(ve({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},cr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new cu(Zone.current)),this.insideAngular=n.run(()=>new cu(Zone.current,Od)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(M(X))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function x1(t){return lu().ngZone.runOutsideAngular(()=>t())}function Zr(t){return lu().ngZone.run(()=>t())}function O1(t){return P1(lu())(t)}function P1(t){return function(n){return n=n.lift(new om(t.ngZone)),n.pipe(Vn(t.outsideAngular),Ln(t.insideAngular))}}var k1=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Zr(()=>t.apply(void 0,r))},Ft=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Zr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uo,{},uo,uo))),r[o]=k1(r[o],n));let i=x1(()=>t.apply(this,r));if(!e)if(i instanceof W){let o=lu();return i.pipe(Vn(o.outsideAngular),Ln(o.insideAngular))}else return Zr(()=>i);return i instanceof W?i.pipe(O1):i instanceof Promise?Zr(()=>new Promise((o,s)=>i.then(a=>Zr(()=>o(a)),a=>Zr(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Zr(()=>i)};var Lt=class{constructor(e){return e}},Tn=class{constructor(){return au()}};function F1(t){return t&&t.length===1?t[0]:new Lt(sr())}var sm=new D("angularfire2._apps"),L1={provide:Lt,useFactory:F1,deps:[[new Ce,sm]]},V1={provide:Tn,deps:[[new Ce,sm]]};function U1(t){return(e,n)=>{let r=n.get(st);de("angularfire",Sn.full,"core"),de("angularfire",Sn.full,"app"),de("angular",Iw.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Lt(i)}}function N0(t,...e){return ke([L1,V1,{provide:sm,useFactory:U1(t),multi:!0,deps:[X,Se,cr,...e]}])}var R0=Ft(im,!0);function Y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var K0=Y0,Z0=new bn("auth","Firebase",Y0());var mu=new ir("@firebase/auth");function j1(t,...e){mu.logLevel<=te.WARN&&mu.warn(`Auth (${nn}): ${t}`,...e)}function du(t,...e){mu.logLevel<=te.ERROR&&mu.error(`Auth (${nn}): ${t}`,...e)}function on(t,...e){throw Mm(t,...e)}function Jr(t,...e){return Mm(t,...e)}function Q0(t,e,n){let r=Object.assign(Object.assign({},K0()),{[e]:n});return new bn("auth","Firebase",r).create(e,{appName:t.name})}function Nn(t){return Q0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Z0.create(t,...e)}function x(t,e,...n){if(!t)throw Mm(e,...n)}function An(t){let e="INTERNAL ASSERTION FAILED: "+t;throw du(e),new Error(e)}function ur(t,e){t||An(e)}function um(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function B1(){return x0()==="http:"||x0()==="https:"}function x0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function $1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B1()||s0()||"connection"in navigator)?navigator.onLine:!0}function H1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Xr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=Ks()||iu()}get(){return $1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Nm(t,e){ur(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var gu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;An("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;An("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;An("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var z1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var W1=new Xr(3e4,6e4);function dr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function hr(o,s,a,c){return y(this,arguments,function*(t,e,n,r,i={}){return J0(t,i,()=>y(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=qr(Object.assign({key:t.config.apiKey},u)).slice(1),p=yield t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);let g=Object.assign({method:e,headers:p},l);return o0()||(g.referrerPolicy="no-referrer"),gu.fetch()(X0(t,t.config.apiHost,n,d),g)}))})}function J0(t,e,n){return y(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},z1),e);try{let i=new dm(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw uu(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw uu(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw uu(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw uu(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Q0(t,u,l);on(t,u)}}catch(i){if(i instanceof ut)throw i;on(t,"network-request-failed",{message:String(i)})}})}function la(o,s,a,c){return y(this,arguments,function*(t,e,n,r,i={}){let l=yield hr(t,e,n,r,i);return"mfaPendingCredential"in l&&on(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function X0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Nm(t.config,i):`${t.config.apiScheme}://${i}`}function G1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var dm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),W1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function uu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Jr(t,e,r);return i.customData._tokenResponse=n,i}function O0(t){return t!==void 0&&t.enterprise!==void 0}var hm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return G1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function q1(t,e){return y(this,null,function*(){return hr(t,"GET","/v2/recaptchaConfig",dr(t,e))})}function Y1(t,e){return y(this,null,function*(){return hr(t,"POST","/v1/accounts:delete",e)})}function eC(t,e){return y(this,null,function*(){return hr(t,"POST","/v1/accounts:lookup",e)})}function na(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Rm(t,e=!1){return y(this,null,function*(){let n=Ye(t),r=yield n.getIdToken(e),i=xm(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:na(am(i.auth_time)),issuedAtTime:na(am(i.iat)),expirationTime:na(am(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function am(t){return Number(t)*1e3}function xm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return du("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ys(n);return i?JSON.parse(i):(du("Failed to decode base64 JWT payload"),null)}catch(i){return du("Caught error parsing JWT payload as JSON",i?.toString()),null}}function P0(t){let e=xm(t);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ia(t,e,n=!1){return y(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof ut&&K1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function K1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var fm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>y(this,null,function*(){yield this.iteration()}),n)}iteration(){return y(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var oa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=na(this.lastLoginAt),this.creationTime=na(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function vu(t){return y(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ia(t,eC(n,{idToken:r}));x(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?tC(o.providerUserInfo):[],a=Z1(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new oa(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Om(t){return y(this,null,function*(){let e=Ye(t);yield vu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Z1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tC(t){return t.map(e=>{var{providerId:n}=e,r=kd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Q1(t,e){return y(this,null,function*(){let n=yield J0(t,{},()=>y(this,null,function*(){let r=qr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=X0(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gu.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function J1(t,e){return y(this,null,function*(){return hr(t,"POST","/v2/accounts:revokeToken",dr(t,e))})}var ra=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){x(e.length!==0,"internal-error");let n=P0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return y(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(x(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return y(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Q1(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(x(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(x(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(x(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return An("not implemented")}};function lr(t,e){x(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var fo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=kd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new oa(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return y(this,null,function*(){let n=yield ia(this,this.stsTokenManager.getToken(this.auth,e));return x(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Rm(this,e)}reload(){return Om(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return y(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield vu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return y(this,null,function*(){if(kt(this.auth.app))return Promise.reject(Nn(this.auth));let e=yield this.getIdToken();return yield ia(this,Y1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,S=(l=n.createdAt)!==null&&l!==void 0?l:void 0,U=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:N,emailVerified:B,isAnonymous:ue,providerData:oe,stsTokenManager:He}=n;x(N&&He,e,"internal-error");let cn=ra.fromJSON(this.name,He);x(typeof N=="string",e,"internal-error"),lr(d,e.name),lr(p,e.name),x(typeof B=="boolean",e,"internal-error"),x(typeof ue=="boolean",e,"internal-error"),lr(g,e.name),lr(_,e.name),lr(w,e.name),lr(I,e.name),lr(S,e.name),lr(U,e.name);let $o=new t({uid:N,auth:e,email:p,emailVerified:B,displayName:d,isAnonymous:ue,photoURL:_,phoneNumber:g,tenantId:w,stsTokenManager:cn,createdAt:S,lastLoginAt:U});return oe&&Array.isArray(oe)&&($o.providerData=oe.map(mS=>Object.assign({},mS))),I&&($o._redirectEventId=I),$o}static _fromIdTokenResponse(e,n,r=!1){return y(this,null,function*(){let i=new ra;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield vu(o),o})}static _fromGetAccountInfoResponse(e,n,r){return y(this,null,function*(){let i=n.users[0];x(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?tC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ra;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new oa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var k0=new Map;function Mn(t){ur(t instanceof Function,"Expected a class definition");let e=k0.get(t);return e?(ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k0.set(t,e),e)}var X1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(this,null,function*(){return!0})}_set(n,r){return y(this,null,function*(){this.storage[n]=r})}_get(n){return y(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return y(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),pm=X1;function hu(t,e,n){return`firebase:${t}:${e}:${n}`}var yu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=hu(this.userKey,i.apiKey,o),this.fullPersistenceKey=hu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return y(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?fo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return y(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(this,null,function*(){if(!n.length)return new t(Mn(pm),e,r);let i=(yield Promise.all(n.map(l=>y(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Mn(pm),s=hu(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=fo._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>y(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function F0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aC(e))return"Blackberry";if(cC(e))return"Webos";if(rC(e))return"Safari";if((e.includes("chrome/")||iC(e))&&!e.includes("edge/"))return"Chrome";if(sC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function nC(t=Ve()){return/firefox\//i.test(t)}function rC(t=Ve()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iC(t=Ve()){return/crios\//i.test(t)}function oC(t=Ve()){return/iemobile/i.test(t)}function sC(t=Ve()){return/android/i.test(t)}function aC(t=Ve()){return/blackberry/i.test(t)}function cC(t=Ve()){return/webos/i.test(t)}function Pm(t=Ve()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eF(t=Ve()){var e;return Pm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tF(){return a0()&&document.documentMode===10}function lC(t=Ve()){return Pm(t)||sC(t)||cC(t)||aC(t)||/windows phone/i.test(t)||oC(t)}function uC(t,e=[]){let n;switch(t){case"Browser":n=F0(Ve());break;case"Worker":n=`${F0(Ve())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nn}/${r}`}var mm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return y(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function nF(n){return y(this,arguments,function*(t,e={}){return hr(t,"GET","/v2/passwordPolicy",dr(t,e))})}var rF=6,gm=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:rF,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var vm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _u(this),this.idTokenSubscription=new _u(this),this.beforeStateQueue=new mm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mn(n)),this._initializationPromise=this.queue(()=>y(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield yu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return y(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return y(this,null,function*(){try{let n=yield eC(this,{idToken:e}),r=yield fo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return y(this,null,function*(){var n;if(kt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return x(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return y(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return y(this,null,function*(){try{yield vu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=H1()}_delete(){return y(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return y(this,null,function*(){if(kt(this.app))return Promise.reject(Nn(this));let n=e?Ye(e):null;return n&&x(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return y(this,null,function*(){if(!this._deleted)return e&&x(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>y(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return y(this,null,function*(){return kt(this.app)?Promise.reject(Nn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return kt(this.app)?Promise.reject(Nn(this)):this.queue(()=>y(this,null,function*(){yield this.assertedPersistence.setPersistence(Mn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return y(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return y(this,null,function*(){let e=yield nF(this),n=new gm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return y(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield J1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return y(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return y(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Mn(e)||this._popupRedirectResolver;x(n,this,"argument-error"),this.redirectPersistenceManager=yield yu.create(this,[Mn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return y(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>y(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return y(this,null,function*(){if(e===this.currentUser)return this.queue(()=>y(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(x(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return y(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return y(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return y(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&j1(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ti(t){return Ye(t)}var _u=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=f0(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Su={loadJS(){return y(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iF(t){Su=t}function dC(t){return Su.loadJS(t)}function oF(){return Su.recaptchaEnterpriseScript}function sF(){return Su.gapiScript}function hC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var aF="recaptcha-enterprise",cF="NO_RECAPTCHA",ym=class{constructor(e){this.type=aF,this.auth=ti(e)}verify(e="verify",n=!1){return y(this,null,function*(){function r(o){return y(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>y(this,null,function*(){q1(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new hm(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;O0(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(cF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&O0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=oF();c.length!==0&&(c+=a),dC(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function L0(t,e,n,r=!1){return y(this,null,function*(){let i=new ym(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function _m(t,e,n,r){return y(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield L0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>y(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield L0(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function km(t,e){let n=Kr(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(ao(o,e??{}))return i;on(i,"already-initialized")}return n.initialize({options:e})}function lF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Mn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Fm(t,e,n){let r=ti(t);x(r._canInitEmulator,r,"emulator-config-failed"),x(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=fC(e),{host:s,port:a}=uF(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||dF()}function fC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uF(t){let e=fC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:V0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:V0(s)}}}function V0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function dF(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var sa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return An("not implemented")}_getIdTokenResponse(e){return An("not implemented")}_linkToIdToken(e,n){return An("not implemented")}_getReauthenticationResolver(e){return An("not implemented")}};function hF(t,e){return y(this,null,function*(){return hr(t,"POST","/v1/accounts:signUp",e)})}function fF(t,e){return y(this,null,function*(){return la(t,"POST","/v1/accounts:signInWithPassword",dr(t,e))})}function pF(t,e){return y(this,null,function*(){return la(t,"POST","/v1/accounts:signInWithEmailLink",dr(t,e))})}function mF(t,e){return y(this,null,function*(){return la(t,"POST","/v1/accounts:signInWithEmailLink",dr(t,e))})}var aa=class t extends sa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return y(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _m(e,n,"signInWithPassword",fF);case"emailLink":return pF(e,{email:this._email,oobCode:this._password});default:on(e,"internal-error")}})}_linkToIdToken(e,n){return y(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _m(e,r,"signUpPassword",hF);case"emailLink":return mF(e,{idToken:n,email:this._email,oobCode:this._password});default:on(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function cm(t,e){return y(this,null,function*(){return la(t,"POST","/v1/accounts:signInWithIdp",dr(t,e))})}function gF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vF(t){let e=co(lo(t)).link,n=e?co(lo(e)).deep_link_id:null,r=co(lo(t)).deep_link_id;return(r?co(lo(r)).link:null)||r||n||e||t}var Eu=class t{constructor(e){var n,r,i,o,s,a;let c=co(lo(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=gF((i=c.mode)!==null&&i!==void 0?i:null);x(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=vF(e);try{return new t(n)}catch{return null}}};var pC=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return aa._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Eu.parseLink(r);return x(i,"argument-error"),aa._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),wu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Em=class extends wu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function yF(t,e){return y(this,null,function*(){return la(t,"POST","/v1/accounts:signUp",dr(t,e))})}var po=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return y(this,null,function*(){let o=yield fo._fromIdTokenResponse(e,r,i),s=U0(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return y(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=U0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function U0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var wm=class t extends ut{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function mC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?wm._fromErrorAndOperation(t,o,e,r):o})}function _F(t,e,n=!1){return y(this,null,function*(){let r=yield ia(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return po._forOperation(t,"link",r)})}function EF(t,e,n=!1){return y(this,null,function*(){let{auth:r}=t;if(kt(r.app))return Promise.reject(Nn(r));let i="reauthenticate";try{let o=yield ia(t,mC(r,i,e,t),n);x(o.idToken,r,"internal-error");let s=xm(o.idToken);x(s,r,"internal-error");let{sub:a}=s;return x(t.uid===a,r,"user-mismatch"),po._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&on(r,"user-mismatch"),o}})}function gC(t,e,n=!1){return y(this,null,function*(){if(kt(t.app))return Promise.reject(Nn(t));let r="signIn",i=yield mC(t,r,e),o=yield po._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Lm(t,e){return y(this,null,function*(){return gC(ti(t),e)})}function vC(t){return y(this,null,function*(){let e=ti(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Vm(t,e,n){return y(this,null,function*(){if(kt(t.app))return Promise.reject(Nn(t));let r=ti(t),s=yield _m(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yF).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&vC(t),c}),a=yield po._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Um(t,e,n){return kt(t.app)?Promise.reject(Nn(t)):Lm(Ye(t),pC.credential(e,n)).catch(r=>y(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&vC(t),r}))}function jm(t,e,n,r){return Ye(t).onIdTokenChanged(e,n,r)}function Bm(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}function $m(t){return Ye(t).signOut()}var Iu="__sak";var Cu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Iu,"1"),this.storage.removeItem(Iu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var wF=1e3,IF=10,CF=(()=>{class t extends Cu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);tF()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,IF):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},wF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return y(this,null,function*(){yield vr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return y(this,null,function*(){let r=yield vr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return y(this,null,function*(){yield vr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),yC=CF;var bF=(()=>{class t extends Cu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Hm=bF;function DF(t){return Promise.all(t.map(e=>y(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var SF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return y(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>y(this,null,function*(){return u(r.origin,s)})),l=yield DF(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function _C(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Im=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return y(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=_C("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let p=d;if(p.data.eventId===l)switch(p.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function rn(){return window}function TF(t){rn().location.href=t}function EC(){return typeof rn().WorkerGlobalScope<"u"&&typeof rn().importScripts=="function"}function AF(){return y(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function MF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function NF(){return EC()?self:null}var wC="firebaseLocalStorageDb",RF=1,bu="firebaseLocalStorage",IC="fbase_key",ei=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Tu(t,e){return t.transaction([bu],e?"readwrite":"readonly").objectStore(bu)}function xF(){let t=indexedDB.deleteDatabase(wC);return new ei(t).toPromise()}function Cm(){let t=indexedDB.open(wC,RF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(bu,{keyPath:IC})}catch(i){n(i)}}),t.addEventListener("success",()=>y(this,null,function*(){let r=t.result;r.objectStoreNames.contains(bu)?e(r):(r.close(),yield xF(),e(yield Cm()))}))})}function j0(t,e,n){return y(this,null,function*(){let r=Tu(t,!0).put({[IC]:e,value:n});return new ei(r).toPromise()})}function OF(t,e){return y(this,null,function*(){let n=Tu(t,!1).get(e),r=yield new ei(n).toPromise();return r===void 0?null:r.value})}function B0(t,e){let n=Tu(t,!0).delete(e);return new ei(n).toPromise()}var PF=800,kF=3,FF=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return y(this,null,function*(){return this.db?this.db:(this.db=yield Cm(),this.db)})}_withRetries(n){return y(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>kF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return y(this,null,function*(){return EC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return y(this,null,function*(){this.receiver=SF._getInstance(NF()),this.receiver._subscribe("keyChanged",(n,r)=>y(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>y(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return y(this,null,function*(){var n,r;if(this.activeServiceWorker=yield AF(),!this.activeServiceWorker)return;this.sender=new Im(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return y(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||MF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return y(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Cm();return yield j0(n,Iu,"1"),yield B0(n,Iu),!0}catch{}return!1})}_withPendingWrite(n){return y(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(i=>j0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return y(this,null,function*(){let r=yield this._withRetries(i=>OF(i,n));return this.localCache[n]=r,r})}_remove(n){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(r=>B0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return y(this,null,function*(){let n=yield this._withRetries(o=>{let s=Tu(o,!1).getAll();return new ei(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>y(this,null,function*(){return this._poll()}),PF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),CC=FF;var t6=hC("rcb"),n6=new Xr(3e4,6e4);function LF(t,e){return e?Mn(e):(x(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ca=class extends sa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function VF(t){return gC(t.auth,new ca(t),t.bypassAuthState)}function UF(t){let{auth:e,user:n}=t;return x(n,e,"internal-error"),EF(n,new ca(t),t.bypassAuthState)}function jF(t){return y(this,null,function*(){let{auth:e,user:n}=t;return x(n,e,"internal-error"),_F(n,new ca(t),t.bypassAuthState)})}var bm=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>y(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return y(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VF;case"linkViaPopup":case"linkViaRedirect":return jF;case"reauthViaPopup":case"reauthViaRedirect":return UF;default:on(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var r6=new Xr(2e3,1e4);var BF="pendingRedirect",fu=new Map,Dm=class t extends bm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return y(this,null,function*(){let e=fu.get(this.auth._key());if(!e){try{let r=(yield $F(this.resolver,this.auth))?yield vr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fu.set(this.auth._key(),e)}return this.bypassAuthState||fu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return y(this,null,function*(){if(e.type==="signInViaRedirect")return vr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,vr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return y(this,null,function*(){})}cleanUp(){}};function $F(t,e){return y(this,null,function*(){let n=WF(e),r=zF(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function HF(t,e){fu.set(t._key(),e)}function zF(t){return Mn(t._redirectPersistence)}function WF(t){return hu(BF,t.config.apiKey,t.name)}function GF(t,e,n=!1){return y(this,null,function*(){if(kt(t.app))return Promise.reject(Nn(t));let r=ti(t),i=LF(r,e),s=yield new Dm(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var qF=10*60*1e3,Sm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qF&&this.cachedEventUids.clear(),this.cachedEventUids.has($0(e))}saveEventToCache(e){this.cachedEventUids.add($0(e)),this.lastProcessedEventTime=Date.now()}};function $0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function YF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bC(t);default:return!1}}function KF(n){return y(this,arguments,function*(t,e={}){return hr(t,"GET","/v1/projects",e)})}var ZF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QF=/^https?/;function JF(t){return y(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield KF(t);for(let n of e)try{if(XF(n))return}catch{}on(t,"unauthorized-domain")})}function XF(t){let e=um(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!QF.test(n))return!1;if(ZF.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var eL=new Xr(3e4,6e4);function H0(){let t=rn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tL(t){return new Promise((e,n)=>{var r,i,o;function s(){H0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H0(),n(Jr(t,"network-request-failed"))},timeout:eL.get()})}if(!((i=(r=rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=rn().gapi)===null||o===void 0)&&o.load)s();else{let a=hC("iframefcb");return rn()[a]=()=>{gapi.load?s():n(Jr(t,"network-request-failed"))},dC(`${sF()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw pu=null,e})}var pu=null;function nL(t){return pu=pu||tL(t),pu}var rL=new Xr(5e3,15e3),iL="__/auth/iframe",oL="emulator/auth/iframe",sL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cL(t){let e=t.config;x(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Nm(e,oL):`https://${t.config.authDomain}/${iL}`,r={apiKey:e.apiKey,appName:t.name,v:nn},i=aL.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${qr(r).slice(1)}`}function lL(t){return y(this,null,function*(){let e=yield nL(t),n=rn().gapi;return x(n,t,"internal-error"),e.open({where:document.body,url:cL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sL,dontclear:!0},r=>new Promise((i,o)=>y(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Jr(t,"network-request-failed"),a=rn().setTimeout(()=>{o(s)},rL.get());function c(){rn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var uL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dL=500,hL=600,fL="_blank",pL="http://localhost",Du=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function mL(t,e,n,r=dL,i=hL){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},uL),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ve().toLowerCase();n&&(a=iC(l)?fL:n),nC(l)&&(e=e||pL,c.scrollbars="yes");let u=Object.entries(c).reduce((p,[g,_])=>`${p}${g}=${_},`,"");if(eF(l)&&a!=="_self")return gL(e||"",a),new Du(null);let d=window.open(e||"",a,u);x(d,t,"popup-blocked");try{d.focus()}catch{}return new Du(d)}function gL(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var vL="__/auth/handler",yL="emulator/auth/handler",_L=encodeURIComponent("fac");function z0(t,e,n,r,i,o){return y(this,null,function*(){x(t.config.authDomain,t,"auth-domain-config-required"),x(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nn,eventId:i};if(e instanceof wu){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Zs(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Em){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${_L}=${encodeURIComponent(c)}`:"";return`${EL(t)}?${qr(a).slice(1)}${l}`})}function EL({config:t}){return t.emulator?Nm(t,yL):`https://${t.authDomain}/${vL}`}var lm="webStorageSupport",Tm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hm,this._completeRedirectFn=GF,this._overrideRedirectResult=HF}_openPopup(e,n,r,i){return y(this,null,function*(){var o;ur((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield z0(e,n,r,um(),i);return mL(e,s,_C())})}_openRedirect(e,n,r,i){return y(this,null,function*(){yield this._originValidation(e);let o=yield z0(e,n,r,um(),i);return TF(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ur(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return y(this,null,function*(){let n=yield lL(e),r=new Sm(e);return n.register("authEvent",i=>(x(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lm,{type:lm},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[lm];s!==void 0&&n(!!s),on(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lC()||rC()||Pm()}},DC=Tm;var W0="@firebase/auth",G0="1.7.9";var Am=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return y(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function wL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IL(t){tn(new Ke("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;x(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uC(t)},l=new vm(r,i,o,c);return lF(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),tn(new Ke("auth-internal",e=>{let n=ti(e.getProvider("auth").getImmediate());return(r=>new Am(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),de(W0,G0,wL(t)),de(W0,G0,"esm2017")}var CL=5*60,bL=zp("authIdTokenMaxAge")||CL,q0=null,DL=t=>e=>y(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bL)return;let i=n?.token;q0!==i&&(q0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function zm(t=sr()){let e=Kr(t,"auth");if(e.isInitialized())return e.getImmediate();let n=km(t,{popupRedirectResolver:DC,persistence:[CC,yC,Hm]}),r=zp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=DL(o.toString());Bm(n,s,()=>s(n.currentUser)),jm(n,a=>s(a))}}let i=$p("auth");return i&&Fm(n,`http://${i}`),n}function SL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}iF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Jr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",SL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IL("Browser");var SC="auth",ni=class{constructor(e){return e}},ri=class{constructor(){return Qr(SC)}};var Wm=new D("angularfire2.auth-instances");function gV(t,e){let n=ho(SC,t,e);return n&&new ni(n)}function vV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ni(r)}}var yV={provide:ri,deps:[[new Ce,Wm]]},_V={provide:ni,useFactory:gV,deps:[[new Ce,Wm],Lt]};function TC(t,...e){return de("angularfire",Sn.full,"auth"),ke([_V,yV,{provide:Wm,useFactory:vV(t),multi:!0,deps:[X,Se,cr,Tn,[new Ce,ar],...e]}])}var AC=Ft(Vm,!0);var MC=Ft(zm,!0);var NC=Ft(Um,!0);var RC=Ft($m,!0);var sn=class t{constructor(e,n){this.auth=e;this.router=n}signIn(e,n){return NC(this.auth,e,n)}signUp(e,n){return AC(this.auth,e,n)}logout(){return this.clearToken(),this.router.navigate(["/auth/login"]),RC(this.auth)}isAuthenticated(){return this.getToken()!==null}setToken(e){sessionStorage.setItem("access-token",e)}getToken(){return sessionStorage.getItem("access-token")}clearToken(){sessionStorage.clear()}static \u0275fac=function(n){return new(n||t)(M(ni),M(Cn))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};function wV(t,e){t&1&&v(0,"div",30)}var Au=class t{constructor(e,n){this.auth=e;this.router=n}isLoading=!1;ngOnInit(){throw new Error("Method not implemented.")}onLogin(e,n){this.isLoading=!0,this.auth.signIn(e,n).then(r=>{this.auth.setToken(r.user.refreshToken),this.router.navigate(["/dashboard/home"])}).catch(r=>{console.log(r),this.isLoading=!1})}static \u0275fac=function(n){return new(n||t)(R(sn),R(Cn))};static \u0275cmp=ne({type:t,selectors:[["app-login"]],standalone:!0,features:[re],decls:61,vars:1,consts:[["email",""],["password",""],[1,"theme-loader"],[1,"ball-scale"],[1,"contain"],[1,"ring"],[1,"frame"],[1,"login","p-fixed","d-flex","text-center","common-img-bg"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"login-card","card-block","auth-body","mr-auto","ml-auto"],[1,"md-float-material"],[1,"auth-box"],[1,"row","m-b-20"],[1,"col-md-12"],[1,"text-left","txt-primary"],[1,"input-group"],["type","email","placeholder","Email Address",1,"form-control"],[1,"md-line"],["type","password","placeholder","Password",1,"form-control"],[1,"row","m-t-25","text-left"],[1,"col-sm-7","col-xs-12"],[1,"checkbox-fade","fade-in-primary"],["type","checkbox","value",""],[1,"cr"],[1,"cr-icon","icofont","icofont-ui-check","txt-primary"],[1,"text-inverse"],[1,"col-sm-5","col-xs-12","forgot-phone","text-right"],[1,"text-right","f-w-600","text-inverse"],[1,"spinner","container"],[1,"row","m-t-30"],["type","button",1,"btn","btn-primary","btn-md","btn-block","waves-effect","text-center","m-b-20",3,"click"]],template:function(n,r){if(n&1){let i=Zn();f(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),v(4,"div",6),h(),f(5,"div",5),v(6,"div",6),h(),f(7,"div",5),v(8,"div",6),h(),f(9,"div",5),v(10,"div",6),h(),f(11,"div",5),v(12,"div",6),h(),f(13,"div",5),v(14,"div",6),h(),f(15,"div",5),v(16,"div",6),h(),f(17,"div",5),v(18,"div",6),h(),f(19,"div",5),v(20,"div",6),h(),f(21,"div",5),v(22,"div",6),h()()()(),f(23,"section",7)(24,"div",8)(25,"div",9)(26,"div",10)(27,"div",11)(28,"form",12)(29,"div",13)(30,"div",14)(31,"div",15)(32,"h3",16),m(33,"Connexion"),h()()(),v(34,"hr"),f(35,"div",17),v(36,"input",18,0)(38,"span",19),h(),f(39,"div",17),v(40,"input",20,1)(42,"span",19),h(),f(43,"div",21)(44,"div",22)(45,"div",23)(46,"label"),v(47,"input",24),f(48,"span",25),v(49,"i",26),h(),f(50,"span",27),m(51,"Se souvenir"),h()()()(),f(52,"div",28)(53,"a",29),m(54,"Mot de passe oubli\xE9?"),h()()(),yn(55,wV,1,0,"div",30),f(56,"div",31)(57,"div",15)(58,"button",32),Z("click",function(){Fe(i);let s=ys(37),a=ys(41);return Le(r.onLogin(s.value,a.value))}),m(59,"Se connecter"),h()()(),v(60,"hr"),h()()()()()()()}n&2&&(q(55),Ot(r.isLoading==!0?55:-1))},styles:[".spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(0,0,0,.1);border-top:5px solid #3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.container[_ngcontent-%COMP%]{text-align:center;align-items:center}"]})};var Mu=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-register"]],standalone:!0,features:[re],decls:2,vars:0,template:function(n,r){n&1&&(f(0,"p"),m(1,"register works!"),h())}})};var yt=class t{constructor(e){this.auth=e}ngOnInit(){throw new Error("Method not implemented.")}onLogout(){confirm("Voulez-vous vous deconnecter?")&&this.auth.logout()}static \u0275fac=function(n){return new(n||t)(R(sn))};static \u0275cmp=ne({type:t,selectors:[["app-header"]],standalone:!0,features:[re],decls:66,vars:0,consts:[[1,"navbar","header-navbar","pcoded-header"],[1,"navbar-wrapper"],[1,"navbar-logo"],["id","mobile-collapse",1,"mobile-menu"],[1,"ti-menu"],[1,"mobile-search","morphsearch-search"],[1,"ti-search"],[2,"color","white"],[1,"mobile-options"],[1,"ti-more"],[1,"navbar-container","container-fluid"],[1,"nav-left"],[1,"sidebar_toggle"],["href","javascript:void(0)"],["onclick","javascript:toggleFullScreen()"],[1,"ti-fullscreen"],[1,"nav-right"],[1,"header-notification"],[1,"ti-bell"],[1,"badge","bg-c-pink"],[1,"show-notification"],[1,"label","label-danger"],[1,"media"],["src","images/auth/1655749873378.jpeg","alt","Generic placeholder image",1,"d-flex","align-self-center","img-radius",2,"border-radius","50%"],[1,"media-body"],[1,"notification-user"],[1,"notification-msg"],[1,"notification-time"],[1,"user-profile","header-notification"],["src","images/auth/1655749873378.jpeg","alt","User-Profile-Image",1,"img-radius",2,"border-radius","50%"]],template:function(n,r){n&1&&(f(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),v(4,"i",4),h(),f(5,"a",5),v(6,"i",6),h(),f(7,"h3",7),m(8,"DGRK-APP"),h(),f(9,"a",8),v(10,"i",9),h()(),f(11,"div",10)(12,"ul",11)(13,"li")(14,"div",12)(15,"a",13),v(16,"i",4),h()()(),f(17,"li")(18,"a",14),v(19,"i",15),h()()(),f(20,"ul",16)(21,"li",17)(22,"a"),v(23,"i",18)(24,"span",19),h(),f(25,"ul",20)(26,"li")(27,"h6"),m(28,"Notifications"),h(),f(29,"label",21),m(30,"New"),h()(),f(31,"li")(32,"div",22),v(33,"img",23),f(34,"div",24)(35,"h5",25),m(36,"Joe Monkila"),h(),f(37,"p",26),m(38,"Lorem ipsum dolor sit amet, consectetuer elit."),h(),f(39,"span",27),m(40,"30 minutes ago"),h()()()(),f(41,"li")(42,"div",22),v(43,"img",23),f(44,"div",24)(45,"h5",25),m(46,"Joe Monkila"),h(),f(47,"p",26),m(48,"Lorem ipsum dolor sit amet, consectetuer elit."),h(),f(49,"span",27),m(50,"30 minutes ago"),h()()()(),f(51,"li")(52,"div",22),v(53,"img",23),f(54,"div",24)(55,"h5",25),m(56,"Joe Monkila"),h(),f(57,"p",26),m(58,"Lorem ipsum dolor sit amet, consectetuer elit."),h(),f(59,"span",27),m(60,"30 minutes ago"),h()()()()()(),f(61,"li",28)(62,"a"),v(63,"img",29),f(64,"span"),m(65,"Joe Monkila"),h()()()()()()())}})};var _t=class t{constructor(e){this.auth=e}ngOnInit(){throw new Error("Method not implemented.")}onLogout(){confirm("Voulez-vous vous deconnecter?")&&this.auth.logout()}static \u0275fac=function(n){return new(n||t)(R(sn))};static \u0275cmp=ne({type:t,selectors:[["app-side-nav"]],standalone:!0,features:[re],decls:81,vars:0,consts:[[1,"pcoded-navbar"],[1,"sidebar_toggle"],[1,"icon-close","icons"],[1,"pcoded-inner-navbar","main-menu"],[1,""],[1,"main-menu-header"],["src","images/auth/1655749873378.jpeg","alt","User-Profile-Image",1,"img-40","img-radius",2,"border-radius","50%"],[1,"user-details"],["id","more-details"],[1,"ti-angle-down"],[1,"main-menu-content"],[1,"more-details"],[1,"ti-user"],[3,"click"],[1,"ti-layout-sidebar-left"],["data-i18n","nav.category.navigation",1,"pcoded-navigatio-lavel"],[1,"pcoded-item","pcoded-left-item"],[1,"active"],["routerLink","/dashboard/home"],[1,"pcoded-micon"],[1,"ti-home"],["data-i18n","nav.dash.main",1,"pcoded-mtext"],[1,"pcoded-mcaret"],[1,"pcoded-hasmenu"],["href","javascript:void(0)"],[1,"ti-layout-grid2-alt"],["data-i18n","nav.basic-components.main",1,"pcoded-mtext"],[1,"pcoded-submenu"],["routerLink","/dashboard/comptes"],[1,"ti-angle-right"],["data-i18n","nav.basic-components.alert",1,"pcoded-mtext"],["data-i18n","nav.basic-components.breadcrumbs",1,"pcoded-mtext"],["data-i18n","nav.category.forms",1,"pcoded-navigatio-lavel"],["routerLink","/dashboard/paiements"],[1,"ti-layers"],["data-i18n","nav.form-components.main",1,"pcoded-mtext"],["routerLink","/dashboard/parametre"],[1,"ti-settings"]],template:function(n,r){n&1&&(f(0,"nav",0)(1,"div",1)(2,"a"),v(3,"i",2),h()(),f(4,"div",3)(5,"div",4)(6,"div",5),v(7,"img",6),f(8,"div",7)(9,"span"),m(10,"Joe Monkila"),h(),f(11,"span",8),m(12,"Software Engineer"),v(13,"i",9),h()()(),f(14,"div",10)(15,"ul")(16,"li",11)(17,"a"),v(18,"i",12),m(19,"View Profile"),h(),f(20,"a",13),Z("click",function(){return r.onLogout()}),v(21,"i",14),m(22,"Logout"),h()()()()(),f(23,"div",15),m(24,"Menu"),h(),f(25,"ul",16)(26,"li",17)(27,"a",18)(28,"span",19),v(29,"i",20),f(30,"b"),m(31,"D"),h()(),f(32,"span",21),m(33,"Dashboard"),h(),v(34,"span",22),h()(),f(35,"li",23)(36,"a",24)(37,"span",19),v(38,"i",25),h(),f(39,"span",26),m(40,"Comptes"),h(),v(41,"span",22),h(),f(42,"ul",27)(43,"li",4)(44,"a",28)(45,"span",19),v(46,"i",29),h(),f(47,"span",30),m(48,"Agents"),h(),v(49,"span",22),h()(),f(50,"li",4)(51,"a",28)(52,"span",19),v(53,"i",29),h(),f(54,"span",31),m(55,"Clients"),h(),v(56,"span",22),h()()()()(),f(57,"div",32),m(58,"Operations"),h(),f(59,"ul",16)(60,"li")(61,"a",33)(62,"span",19),v(63,"i",34),f(64,"b"),m(65,"FC"),h()(),f(66,"span",35),m(67,"Paiements"),h(),v(68,"span",22),h()()(),f(69,"div",32),m(70,"Autres"),h(),f(71,"ul",16)(72,"li")(73,"a",36)(74,"span",19),v(75,"i",37),f(76,"b"),m(77,"FC"),h()(),f(78,"span",35),m(79,"Parametre"),h(),v(80,"span",22),h()()()()())},dependencies:[Xl]})};var Et=class t{isLoading=!0;ngOnInit(){setTimeout(()=>{this.isLoading=!1},2e3)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-loader"]],standalone:!0,features:[re],decls:23,vars:0,consts:[[1,"theme-loader"],[1,"ball-scale"],[1,"contain"],[1,"ring"],[1,"frame"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),v(4,"div",4),h(),f(5,"div",3),v(6,"div",4),h(),f(7,"div",3),v(8,"div",4),h(),f(9,"div",3),v(10,"div",4),h(),f(11,"div",3),v(12,"div",4),h(),f(13,"div",3),v(14,"div",4),h(),f(15,"div",3),v(16,"div",4),h(),f(17,"div",3),v(18,"div",4),h(),f(19,"div",3),v(20,"div",4),h(),f(21,"div",3),v(22,"div",4),h()()()())}})};var Nu=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[re],decls:62,vars:0,consts:[["id","pcoded",1,"pcoded"],[1,"pcoded-overlay-box"],[1,"pcoded-container","navbar-wrapper"],[1,"pcoded-main-container"],[1,"pcoded-wrapper"],[1,"pcoded-content"],[1,"pcoded-inner-content"],[1,"main-body"],[1,"page-wrapper"],[1,"page-body"],[1,"row"],[1,"col"],[1,"col-md-6","col-xl-3"],[1,"card","widget-card-1"],[1,"card-block-small"],[1,"icofont","icofont-pie-chart","bg-c-blue","card1-icon"],[1,"text-c-blue","f-w-600"],[1,"f-left","m-t-10","text-muted"],[1,"text-c-blue","f-16","icofont","icofont-warning","m-r-10"],[1,"icofont","icofont-ui-home","bg-c-pink","card1-icon"],[1,"text-c-pink","f-w-600"],[1,"text-c-pink","f-16","icofont","icofont-calendar","m-r-10"],[1,"icofont","icofont-warning-alt","bg-c-green","card1-icon"],[1,"text-c-green","f-w-600"],[1,"text-c-green","f-16","icofont","icofont-tag","m-r-10"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-header-left"],[1,"card-block"],["id","statestics-chart",2,"height","517px"],["id","styleSelector"]],template:function(n,r){n&1&&(v(0,"app-loader"),f(1,"div",0),v(2,"div",1),f(3,"div",2),v(4,"app-header"),f(5,"div",3)(6,"div",4),v(7,"app-side-nav"),f(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10),v(14,"div",11),f(15,"div",12)(16,"div",13)(17,"div",14),v(18,"i",15),f(19,"span",16),m(20,"Pay\xE9s"),h(),f(21,"h4"),m(22,"10/50"),h(),f(23,"div")(24,"span",17),v(25,"i",18),m(26,"Get more space "),h()()()()(),f(27,"div",12)(28,"div",13)(29,"div",14),v(30,"i",19),f(31,"span",20),m(32,"Revenue"),h(),f(33,"h4"),m(34,"$23,589"),h(),f(35,"div")(36,"span",17),v(37,"i",21),m(38,"Last 24 hours "),h()()()()(),f(39,"div",12)(40,"div",13)(41,"div",14),v(42,"i",22),f(43,"span",23),m(44,"Non Pay\xE9s"),h(),f(45,"h4"),m(46,"40"),h(),f(47,"div")(48,"span",17),v(49,"i",24),m(50,"Tracked via microsoft "),h()()()()(),v(51,"div",11),h(),f(52,"div",10)(53,"div",25)(54,"div",26)(55,"div",27)(56,"h5"),m(57,"Statistiques"),h(),v(58,"div",28),h(),f(59,"div",29),v(60,"div",30),h()()()()()(),v(61,"div",31),h()()()()()()())},dependencies:[yt,_t,Et]})};var $C=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(R(vn),R(qt))}}static{this.\u0275dir=Ee({type:t})}}return t})(),ju=(()=>{class t extends $C{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=gn(t)))(i||t)}})()}static{this.\u0275dir=Ee({type:t,features:[mt]})}}return t})(),ma=new D("");var IV={provide:ma,useExisting:Wt(()=>pr),multi:!0};function CV(){let t=En()?En().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var bV=new D(""),pr=(()=>{class t extends $C{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!CV())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(R(vn),R(qt),R(bV,8))}}static{this.\u0275dir=Ee({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Z("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Jn([IV]),mt]})}}return t})();function DV(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Jm=new D(""),HC=new D("");function SV(t){return DV(t.value)?{required:!0}:null}function xC(t){return null}function zC(t){return t!=null}function WC(t){return kr(t)?he(t):t}function GC(t){let e={};return t.forEach(n=>{e=n!=null?C(C({},e),n):e}),Object.keys(e).length===0?null:e}function qC(t,e){return e.map(n=>n(t))}function TV(t){return!t.validate}function YC(t){return t.map(e=>TV(e)?e:n=>e.validate(n))}function AV(t){if(!t)return null;let e=t.filter(zC);return e.length==0?null:function(n){return GC(qC(n,e))}}function KC(t){return t!=null?AV(YC(t)):null}function MV(t){if(!t)return null;let e=t.filter(zC);return e.length==0?null:function(n){let r=qC(n,e).map(WC);return Vd(r).pipe(F(GC))}}function ZC(t){return t!=null?MV(YC(t)):null}function OC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function QC(t){return t._rawValidators}function JC(t){return t._rawAsyncValidators}function qm(t){return t?Array.isArray(t)?t:[t]:[]}function Ou(t,e){return Array.isArray(t)?t.includes(e):t===e}function PC(t,e){let n=qm(e);return qm(t).forEach(i=>{Ou(n,i)||n.push(i)}),n}function kC(t,e){return qm(e).filter(n=>!Ou(t,n))}var Pu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},vo=class extends Pu{get formDirective(){return null}get path(){return null}},pa=class extends Pu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ku=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},NV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},pq=H(C({},NV),{"[class.ng-submitted]":"isSubmitted"}),_o=(()=>{class t extends ku{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(R(pa,2))}}static{this.\u0275dir=Ee({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Il("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[mt]})}}return t})(),Eo=(()=>{class t extends ku{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(R(vo,10))}}static{this.\u0275dir=Ee({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Il("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[mt]})}}return t})();var ua="VALID",Ru="INVALID",mo="PENDING",da="DISABLED",fr=class{},Fu=class extends fr{constructor(e,n){super(),this.value=e,this.source=n}},ha=class extends fr{constructor(e,n){super(),this.pristine=e,this.source=n}},fa=class extends fr{constructor(e,n){super(),this.touched=e,this.source=n}},go=class extends fr{constructor(e,n){super(),this.status=e,this.source=n}},Ym=class extends fr{constructor(e){super(),this.source=e}},Km=class extends fr{constructor(e){super(),this.source=e}};function Xm(t){return(Bu(t)?t.validators:t)||null}function RV(t){return Array.isArray(t)?KC(t):t||null}function eg(t,e){return(Bu(e)?e.asyncValidators:t)||null}function xV(t){return Array.isArray(t)?ZC(t):t||null}function Bu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function XC(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new A(1e3,"");if(!r[n])throw new A(1001,"")}function eb(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new A(1002,"")})}var yo=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=_s(()=>this.statusReactive()),this.statusReactive=ms(void 0),this._pristine=_s(()=>this.pristineReactive()),this.pristineReactive=ms(!0),this._touched=_s(()=>this.touchedReactive()),this.touchedReactive=ms(!1),this._events=new be,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return _n(this.statusReactive)}set status(e){_n(()=>this.statusReactive.set(e))}get valid(){return this.status===ua}get invalid(){return this.status===Ru}get pending(){return this.status==mo}get disabled(){return this.status===da}get enabled(){return this.status!==da}get pristine(){return _n(this.pristineReactive)}set pristine(e){_n(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return _n(this.touchedReactive)}set touched(e){_n(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(PC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(PC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kC(e,this._rawAsyncValidators))}hasValidator(e){return Ou(this._rawValidators,e)}hasAsyncValidator(e){return Ou(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(H(C({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new fa(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new fa(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(H(C({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ha(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ha(!0,r))}markAsPending(e={}){this.status=mo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new go(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(H(C({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=da,this.errors=null,this._forEachChild(i=>{i.disable(H(C({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fu(this.value,r)),this._events.next(new go(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(H(C({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ua,this._forEachChild(r=>{r.enable(H(C({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(H(C({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ua||this.status===mo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fu(this.value,n)),this._events.next(new go(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(H(C({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?da:ua}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=mo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=WC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new go(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new _e,this.statusChanges=new _e}_calculateStatus(){return this._allControlsDisabled()?da:this.errors?Ru:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mo)?mo:this._anyControlsHaveStatus(Ru)?Ru:ua}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ha(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new fa(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=RV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=xV(this._rawAsyncValidators)}},Lu=class extends yo{constructor(e,n,r){super(Xm(n),eg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){eb(this,!0,e),Object.keys(e).forEach(r=>{XC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Zm=class extends Lu{};var tb=new D("CallSetDisabledState",{providedIn:"root",factory:()=>tg}),tg="always";function OV(t,e){return[...e.path,t]}function FC(t,e,n=tg){ng(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),kV(t,e),LV(t,e),FV(t,e),PV(t,e)}function LC(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Uu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Vu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function PV(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ng(t,e){let n=QC(t);e.validator!==null?t.setValidators(OC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=JC(t);e.asyncValidator!==null?t.setAsyncValidators(OC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Vu(e._rawValidators,i),Vu(e._rawAsyncValidators,i)}function Uu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=QC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=JC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Vu(e._rawValidators,r),Vu(e._rawAsyncValidators,r),n}function kV(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&nb(t,e)})}function FV(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&nb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function nb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function LV(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function VV(t,e){t==null,ng(t,e)}function UV(t,e){return Uu(t,e)}function jV(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function BV(t){return Object.getPrototypeOf(t.constructor)===ju}function $V(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function HV(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===pr?n=o:BV(o)?r=o:i=o}),i||r||n||null}function zV(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function VC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function UC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var xu=class extends yo{constructor(e=null,n,r){super(Xm(n),eg(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(UC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){VC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){VC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){UC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var WV=t=>t instanceof xu;var wo=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ee({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),GV={provide:ma,useExisting:Wt(()=>ga),multi:!0},ga=(()=>{class t extends ju{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=gn(t)))(i||t)}})()}static{this.\u0275dir=Ee({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Z("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Jn([GV]),mt]})}}return t})();var rb=new D("");var qV={provide:vo,useExisting:Wt(()=>ii)},ii=(()=>{class t extends vo{get submitted(){return _n(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=_s(()=>this._submittedReactive()),this._submittedReactive=ms(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _e,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Uu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return FC(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){LC(n.control||null,n,!1),zV(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),$V(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Ym(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Km(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(LC(r||null,n),WV(i)&&(FC(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);VV(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&UV(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ng(this.form,this),this._oldForm&&Uu(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(R(Jm,10),R(HC,10),R(tb,8))}}static{this.\u0275dir=Ee({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Z("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jn([qV]),mt,mn]})}}return t})();var YV={provide:pa,useExisting:Wt(()=>oi)},oi=(()=>{class t extends pa{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new _e,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=HV(this,o)}ngOnChanges(n){this._added||this._setUpControl(),jV(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return OV(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(R(vo,13),R(Jm,10),R(HC,10),R(ma,10),R(rb,8))}}static{this.\u0275dir=Ee({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Jn([YV]),mt,mn]})}}return t})(),KV={provide:ma,useExisting:Wt(()=>Io),multi:!0};function ib(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function ZV(t){return t.split(":")[0]}var Io=(()=>{class t extends ju{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=ib(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=ZV(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=gn(t)))(i||t)}})()}static{this.\u0275dir=Ee({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Z("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Jn([KV]),mt]})}}return t})(),$u=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(ib(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(R(qt),R(vn),R(Io,9))}}static{this.\u0275dir=Ee({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),QV={provide:ma,useExisting:Wt(()=>ob),multi:!0};function jC(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function JV(t){return t.split(":")[0]}var ob=(()=>{class t extends ju{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=JV(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=gn(t)))(i||t)}})()}static{this.\u0275dir=Ee({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Z("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Jn([QV]),mt]})}}return t})(),Hu=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(jC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(jC(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(R(qt),R(vn),R(ob,9))}}static{this.\u0275dir=Ee({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var XV=(()=>{class t{constructor(){this._validator=xC}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xC,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ee({type:t,features:[mn]})}}return t})();var eU={provide:Jm,useExisting:Wt(()=>rg),multi:!0};var rg=(()=>{class t extends XV{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Fr,this.createValidator=n=>SV}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=gn(t)))(i||t)}})()}static{this.\u0275dir=Ee({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&vs("required",i._enabled?"":null)},inputs:{required:"required"},features:[Jn([eU]),mt]})}}return t})();var tU=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=xr({type:t})}static{this.\u0275inj=Rr({})}}return t})(),Qm=class extends yo{constructor(e,n,r){super(Xm(n),eg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){eb(this,!1,e),e.forEach((r,i)=>{XC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function BC(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Co=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return BC(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Lu(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Zm(i,r)}control(n,r,i){let o={};return this.useNonNullable?(BC(r)?o=r:(o.validators=r,o.asyncValidators=i),new xu(n,H(C({},o),{nonNullable:!0}))):new xu(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Qm(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof xu)return n;if(n instanceof yo)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var bo=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:rb,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:tb,useValue:n.callSetDisabledState??tg}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=xr({type:t})}static{this.\u0275inj=Rr({imports:[tU]})}}return t})();var zu=class t{constructor(e){this.http=e}baseUrl="https://alien-trainer-384312-default-rtdb.firebaseio.com/";create(e){return this.http.post(`${this.baseUrl}dgrk/comptes.json`,e)}get(){return this.http.get(`${this.baseUrl}dgrk/comptes.json`)}getById(e){return this.http.get(`${this.baseUrl}dgrk/comptes/${e}.json`)}update(e){return this.http.put(`${this.baseUrl}dgrk/comptes/${e.id}.json`,e)}delete(e){return this.http.delete(`${this.baseUrl}dgrk/comptes/${e}.json`)}static \u0275fac=function(n){return new(n||t)(M(Ds))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};function rU(t,e){t&1&&(f(0,"td",44),m(1,"Actif"),h())}function iU(t,e){t&1&&(f(0,"td",45),m(1,"Inactif"),h())}function oU(t,e){if(t&1){let n=Zn();f(0,"tr")(1,"td"),m(2),h(),f(3,"td"),m(4),h(),f(5,"td"),m(6),h(),yn(7,rU,2,0,"td",44)(8,iU,2,0,"td",45),f(9,"td")(10,"button",50),Z("click",function(){let i=Fe(n).$implicit,o=Qn();return Le(o.onGetById(i.id))}),v(11,"i",51),h(),m(12," \xA0 "),f(13,"button",52),Z("click",function(){let i=Fe(n).$implicit,o=Qn();return Le(o.onDelete(i.id))}),v(14,"i",53),h()()()}if(t&2){let n=e.$implicit;q(2),Ne(n.username),q(2),Ne(n.email),q(2),Ne(n.role),q(),Ot(n.status=="Actif"?7:-1),q(),Ot(n.status=="Inactif"?8:-1)}}function sU(t,e){t&1&&(f(0,"h2"),m(1,"Aucun compte"),h())}var Wu=class t{constructor(e,n){this.formBuilder=e;this.compteService=n;this.compteForm=this.formBuilder.group({id:null,username:[""],email:[""],password:[""],role:[""],status:[""]}),this.compteUpdateForm=this.formBuilder.group({id:[""],username:[""],email:[""],password:[""],role:[""],status:[""]})}compteForm;compteUpdateForm;data;ngOnInit(){this.onGet()}onAdd(){confirm("Voulez-vous ajouter cette information")&&this.compteService.create(this.compteForm.value).subscribe({next:e=>{alert("Compte cr\xE9e avec success"),this.onGet()},error:e=>console.log(e)})}onGet(){this.compteService.get().subscribe({next:e=>{this.data=Object.keys(e).map(n=>C({id:n},e[n]))},error:e=>console.log(e)})}onDelete(e){confirm("Voulez-vous supprimer cette information")&&this.compteService.delete(e).subscribe({next:n=>{this.onGet()},error:n=>console.log(n)})}onUpdate(){confirm("Voulez-vous modifier cette information")&&this.compteService.update(this.compteUpdateForm.value).subscribe({next:e=>{this.onGet()},error:e=>console.log(e)})}onGetById(e){this.compteService.getById(e).subscribe({next:n=>{this.compteUpdateForm=this.formBuilder.group({id:e,username:n.username,email:n.email,password:n.password,role:n.role,status:n.status})},error:n=>console.log(n)})}static \u0275fac=function(n){return new(n||t)(R(Co),R(zu))};static \u0275cmp=ne({type:t,selectors:[["app-comptes"]],standalone:!0,features:[re],decls:141,vars:3,consts:[["id","pcoded",1,"pcoded"],[1,"pcoded-overlay-box"],[1,"pcoded-container","navbar-wrapper"],[1,"pcoded-main-container"],[1,"pcoded-wrapper"],[1,"pcoded-content"],[1,"pcoded-inner-content"],[1,"main-body"],[1,"page-wrapper"],[1,"page-body"],[1,"card"],[1,"card-header"],[1,"card-header-right"],[1,"list-unstyled","card-option"],[1,"icofont","icofont-simple-left"],[1,"icofont","icofont-maximize","full-card"],[3,"click"],[1,"icofont","icofont-refresh","reload-card"],["data-bs-toggle","modal","data-bs-target","#exampleModal"],[1,"icofont","icofont-plus"],[1,"card-block","table-border-style"],[1,"table-responsive"],[1,"table","table-hover"],["id","styleSelector"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],[3,"formGroup"],[1,"row"],[1,"col"],[1,"mb-3"],["for","username",1,"col-form-label"],["type","text","id","username","formControlName","username",1,"form-control"],["for","email",1,"col-form-label"],["type","email","id","email","formControlName","email",1,"form-control"],["for","password",1,"col-form-label"],["type","password","id","password","formControlName","password",1,"form-control"],["for","role",1,"col-form-label"],["id","role","formControlName","role",1,"form-control"],["for","status",1,"col-form-label"],["id","status","formControlName","status",1,"form-control"],[1,"badge","badge-primary"],[1,"badge","badge-danger"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","exampleUpdateModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["data-bs-toggle","modal","data-bs-target","#exampleUpdateModal",1,"btn","btn-primary","btn-icon",3,"click"],[1,"icofont","icofont-list"],[1,"btn","btn-danger","btn-icon",3,"click"],[1,"icofont","icofont-trash"]],template:function(n,r){n&1&&(v(0,"app-loader"),f(1,"div",0),v(2,"div",1),f(3,"div",2),v(4,"app-header"),f(5,"div",3)(6,"div",4),v(7,"app-side-nav"),f(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"h5"),m(16,"Comptes Agents"),h(),f(17,"div",12)(18,"ul",13)(19,"li"),v(20,"i",14),h(),f(21,"li"),v(22,"i",15),h(),f(23,"li",16),Z("click",function(){return r.onGet()}),v(24,"i",17),h(),f(25,"li",18),v(26,"i",19),h()()()(),f(27,"div",20)(28,"div",21)(29,"table",22)(30,"thead")(31,"tr")(32,"th"),m(33,"Username"),h(),f(34,"th"),m(35,"Email"),h(),f(36,"th"),m(37,"Role"),h(),f(38,"th"),m(39,"Status"),h(),f(40,"th"),m(41,"Actions"),h()()(),f(42,"tbody"),bl(43,oU,15,5,"tr",null,Cl,!1,sU,2,0,"h2"),h()()()()()()(),v(46,"div",23),h()()()()(),f(47,"div",24)(48,"div",25)(49,"div",26)(50,"div",27)(51,"h5",28),m(52,"Formulaire"),h()(),f(53,"div",29)(54,"form",30)(55,"div",31)(56,"div",32)(57,"div",33)(58,"label",34),m(59,"Username"),h(),v(60,"input",35),h()(),f(61,"div",32)(62,"div",33)(63,"label",36),m(64,"Email"),h(),v(65,"input",37),h()()(),f(66,"div",31)(67,"div",32)(68,"div",33)(69,"label",38),m(70,"Password"),h(),v(71,"input",39),h()(),f(72,"div",32)(73,"div",33)(74,"label",40),m(75,"Role"),h(),f(76,"select",41)(77,"option"),m(78,"Admin"),h(),f(79,"option"),m(80,"Client"),h()()()()(),f(81,"div",33)(82,"label",42),m(83,"Status"),h(),f(84,"select",43)(85,"option",44),m(86," Actif"),h(),f(87,"option",45),m(88,"Inactif"),h()()()()(),f(89,"div",46)(90,"button",47),m(91,"Close"),h(),f(92,"button",48),Z("click",function(){return r.onAdd()}),m(93,"Ajouter"),h()()()()(),f(94,"div",49)(95,"div",25)(96,"div",26)(97,"div",27)(98,"h5",28),m(99,"Formulaire"),h()(),f(100,"div",29)(101,"form",30)(102,"div",31)(103,"div",32)(104,"div",33)(105,"label",34),m(106,"Username"),h(),v(107,"input",35),h()(),f(108,"div",32)(109,"div",33)(110,"label",36),m(111,"Email"),h(),v(112,"input",37),h()()(),f(113,"div",31)(114,"div",32)(115,"div",33)(116,"label",38),m(117,"Password"),h(),v(118,"input",39),h()(),f(119,"div",32)(120,"div",33)(121,"label",40),m(122,"Role"),h(),f(123,"select",41)(124,"option"),m(125,"Admin"),h(),f(126,"option"),m(127,"Client"),h()()()()(),f(128,"div",33)(129,"label",42),m(130,"Status"),h(),f(131,"select",43)(132,"option",44),m(133," Actif"),h(),f(134,"option",45),m(135,"Inactif"),h()()()()(),f(136,"div",46)(137,"button",47),m(138,"Close"),h(),f(139,"button",48),Z("click",function(){return r.onUpdate()}),m(140,"Modifier"),h()()()()()()()),n&2&&(q(43),Dl(r.data),q(11),at("formGroup",r.compteForm),q(47),at("formGroup",r.compteUpdateForm))},dependencies:[yt,_t,bo,wo,$u,Hu,pr,Io,_o,Eo,ii,oi,Et]})};var Do=class t{constructor(e){this.http=e}baseUrl="https://alien-trainer-384312-default-rtdb.firebaseio.com/";create(e){return this.http.post(`${this.baseUrl}dgrk/paiement.json`,e)}get(){return this.http.get(`${this.baseUrl}dgrk/paiement.json`)}getById(e){return this.http.get(`${this.baseUrl}dgrk/paiement/${e}.json`)}update(e){return this.http.put(`${this.baseUrl}dgrk/paiement/${e.id}.json`,e)}delete(e){return this.http.delete(`${this.baseUrl}dgrk/paiement/${e}.json`)}static \u0275fac=function(n){return new(n||t)(M(Ds))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};function aU(t,e){if(t&1){let n=Zn();f(0,"tr")(1,"td"),m(2),h(),f(3,"td"),m(4),h(),f(5,"td"),m(6),h(),f(7,"td"),m(8),h(),f(9,"td"),m(10),h(),f(11,"td"),m(12),h(),f(13,"td"),m(14),h(),f(15,"td"),m(16),h(),f(17,"td"),m(18),h(),f(19,"td")(20,"button",53),Z("click",function(){let i=Fe(n).$implicit,o=Qn();return Le(o.onGetById(i.id))}),v(21,"i",54),h(),m(22," \xA0 "),f(23,"button",55),Z("click",function(){let i=Fe(n).$implicit,o=Qn();return Le(o.onDelete(i.id))}),v(24,"i",56),h()()()}if(t&2){let n=e.$implicit;q(2),Ne(n.noms),q(2),Ne(n.entreprise),q(2),Ne(n.montant),q(2),Ne(n.device),q(2),Ne(n.statut),q(2),Ne(n.motif),q(2),Ne(n.modepaye),q(2),Ne(n.reference),q(2),Ne(n.date)}}function cU(t,e){t&1&&(f(0,"h2"),m(1,"Aucun paiement"),h())}var Gu=class t{constructor(e,n){this.paiement=e;this.formBuilder=n;let i=new Date().toISOString().substring(0,10);console.log(i),this.paiementForm=this.formBuilder.group({id:null,noms:[""],entreprise:[""],montant:[""],device:[""],motif:[""],statut:[""],reference:[""],modepaye:[""],date:i}),this.paiementUpdateForm=this.formBuilder.group({id:null,noms:[""],entreprise:[""],montant:[""],device:[""],motif:[""],statut:[""],reference:[""],modepaye:[""],date:i})}paiementForm;paiementUpdateForm;data;ngOnInit(){this.onGet()}onAdd(){confirm("Voulez-vous ajouter cette information")&&this.paiement.create(this.paiementForm.value).subscribe({next:e=>{alert("Paiement cr\xE9e avec success"),this.onGet()},error:e=>console.log(e)})}onGet(){this.paiement.get().subscribe({next:e=>{this.data=Object.keys(e).map(n=>C({id:n},e[n]))},error:e=>console.log(e)})}onDelete(e){confirm("Voulez-vous supprimer cette information")&&this.paiement.delete(e).subscribe({next:n=>{this.onGet()},error:n=>console.log(n)})}onUpdate(){confirm("Voulez-vous modifier cette information")&&this.paiement.update(this.paiementUpdateForm.value).subscribe({next:e=>{this.onGet()},error:e=>console.log(e)})}onGetById(e){this.paiement.getById(e).subscribe({next:n=>{this.paiementUpdateForm=this.formBuilder.group({id:e,noms:n.noms,entreprise:n.entreprise,montant:n.montant,device:n.device,statut:n.statut,reference:n.reference,motif:n.motif,modepaye:n.modepaye,date:n.date})},error:n=>console.log(n)})}getDate(){return new Date().toISOString().substring(0,10).toString()}static \u0275fac=function(n){return new(n||t)(R(Do),R(Co))};static \u0275cmp=ne({type:t,selectors:[["app-paiements"]],standalone:!0,features:[re],decls:191,vars:3,consts:[["id","pcoded",1,"pcoded"],[1,"pcoded-overlay-box"],[1,"pcoded-container","navbar-wrapper"],[1,"pcoded-main-container"],[1,"pcoded-wrapper"],[1,"pcoded-content"],[1,"pcoded-inner-content"],[1,"main-body"],[1,"page-wrapper"],[1,"page-body"],[1,"card"],[1,"card-header"],[1,"card-header-right"],[1,"list-unstyled","card-option"],[1,"icofont","icofont-simple-left"],[1,"icofont","icofont-maximize","full-card"],[3,"click"],[1,"icofont","icofont-refresh","reload-card"],["data-bs-toggle","modal","data-bs-target","#exampleModal"],[1,"icofont","icofont-plus"],[1,"card-block","table-border-style"],[1,"table-responsive"],[1,"table","table-hover"],["id","styleSelector"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],[3,"formGroup"],[1,"row"],[1,"col"],[1,"mb-3"],["for","noms",1,"col-form-label"],["type","text","id","noms","formControlName","noms",1,"form-control"],["for","entreprise",1,"col-form-label"],["type","text","id","entreprise","formControlName","entreprise",1,"form-control"],["for","montant",1,"col-form-label"],["type","number","id","montant","formControlName","montant",1,"form-control"],["for","device",1,"col-form-label"],["id","device","formControlName","device",1,"form-control"],["for","statut",1,"col-form-label"],["type","text","id","statut","formControlName","statut",1,"form-control"],["for","motif",1,"col-form-label"],["type","text","id","motif","formControlName","motif",1,"form-control"],["for","modepaye",1,"col-form-label"],["id","modepaye","formControlName","modepaye",1,"form-control"],["type","text","id","reference","formControlName","reference",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","exampleUpdateModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["data-bs-toggle","modal","data-bs-target","#exampleUpdateModal",1,"btn","btn-primary","btn-icon",3,"click"],[1,"icofont","icofont-list"],[1,"btn","btn-danger","btn-icon",3,"click"],[1,"icofont","icofont-trash"]],template:function(n,r){n&1&&(v(0,"app-loader"),f(1,"div",0),v(2,"div",1),f(3,"div",2),v(4,"app-header"),f(5,"div",3)(6,"div",4),v(7,"app-side-nav"),f(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"h5"),m(16,"Paiements"),h(),f(17,"div",12)(18,"ul",13)(19,"li"),v(20,"i",14),h(),f(21,"li"),v(22,"i",15),h(),f(23,"li",16),Z("click",function(){return r.onGet()}),v(24,"i",17),h(),f(25,"li",18),v(26,"i",19),h()()()(),f(27,"div",20)(28,"div",21)(29,"table",22)(30,"thead")(31,"tr")(32,"th"),m(33,"Noms Remettant"),h(),f(34,"th"),m(35,"Entreprise"),h(),f(36,"th"),m(37,"Montant"),h(),f(38,"th"),m(39,"Device"),h(),f(40,"th"),m(41,"Statut"),h(),f(42,"th"),m(43,"Motif"),h(),f(44,"th"),m(45,"Mode de paiement"),h(),f(46,"th"),m(47,"Reference"),h(),f(48,"th"),m(49,"Date"),h(),f(50,"th"),m(51,"Actions"),h()()(),f(52,"tbody"),bl(53,aU,25,9,"tr",null,Cl,!1,cU,2,0,"h2"),h()()()()()()(),v(56,"div",23),h()()()()(),f(57,"div",24)(58,"div",25)(59,"div",26)(60,"div",27)(61,"h5",28),m(62,"Formulaire"),h()(),f(63,"div",29)(64,"form",30)(65,"div",31)(66,"div",32)(67,"div",33)(68,"label",34),m(69,"Noms remettant"),h(),v(70,"input",35),h()(),f(71,"div",32)(72,"div",33)(73,"label",36),m(74,"Entreprise"),h(),v(75,"input",37),h()()(),f(76,"div",31)(77,"div",32)(78,"div",33)(79,"label",38),m(80,"Montant"),h(),v(81,"input",39),h()(),f(82,"div",32)(83,"div",33)(84,"label",40),m(85,"device"),h(),f(86,"select",41)(87,"option"),m(88,"USD"),h(),f(89,"option"),m(90,"CDF"),h()()()()(),f(91,"div",31)(92,"div",32)(93,"div",33)(94,"label",42),m(95,"Statut"),h(),v(96,"input",43),h()(),f(97,"div",32)(98,"div",33)(99,"label",44),m(100,"Motif"),h(),v(101,"input",45),h()()(),f(102,"div",31)(103,"div",32)(104,"div",33)(105,"label",46),m(106,"Mode de paiement"),h(),f(107,"select",47)(108,"option"),m(109,"Mobile Money"),h(),f(110,"option"),m(111,"Banque"),h(),f(112,"option"),m(113,"Espece"),h()()(),f(114,"div",32)(115,"div",33)(116,"label",40),m(117,"Reference paiement"),h(),v(118,"input",48),h()()()()()(),f(119,"div",49)(120,"button",50),m(121,"Close"),h(),f(122,"button",51),Z("click",function(){return r.onAdd()}),m(123,"Ajouter"),h()()()()(),f(124,"div",52)(125,"div",25)(126,"div",26)(127,"div",27)(128,"h5",28),m(129,"Formulaire"),h()(),f(130,"div",29)(131,"form",30)(132,"div",31)(133,"div",32)(134,"div",33)(135,"label",34),m(136,"Noms remettant"),h(),v(137,"input",35),h()(),f(138,"div",32)(139,"div",33)(140,"label",36),m(141,"Entreprise"),h(),v(142,"input",37),h()()(),f(143,"div",31)(144,"div",32)(145,"div",33)(146,"label",38),m(147,"Montant"),h(),v(148,"input",39),h()(),f(149,"div",32)(150,"div",33)(151,"label",40),m(152,"device"),h(),f(153,"select",41)(154,"option"),m(155,"USD"),h(),f(156,"option"),m(157,"CDF"),h()()()()(),f(158,"div",31)(159,"div",32)(160,"div",33)(161,"label",42),m(162,"Statut"),h(),v(163,"input",43),h()(),f(164,"div",32)(165,"div",33)(166,"label",44),m(167,"Motif"),h(),v(168,"input",45),h()()(),f(169,"div",31)(170,"div",32)(171,"div",33)(172,"label",46),m(173,"Mode de paiement"),h(),f(174,"select",47)(175,"option"),m(176,"Mobile Money"),h(),f(177,"option"),m(178,"Banque"),h(),f(179,"option"),m(180,"Espece"),h()()()(),f(181,"div",32)(182,"div",33)(183,"label",40),m(184,"Reference paiement"),h(),v(185,"input",48),h()()()()(),f(186,"div",49)(187,"button",50),m(188,"Close"),h(),f(189,"button",51),Z("click",function(){return r.onUpdate()}),m(190,"Modifier"),h()()()()()()()),n&2&&(q(53),Dl(r.data),q(11),at("formGroup",r.paiementForm),q(67),at("formGroup",r.paiementUpdateForm))},dependencies:[yt,_t,Et,bo,wo,$u,Hu,pr,ga,Io,_o,Eo,ii,oi]})};var qu=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-transfert"]],standalone:!0,features:[re],decls:14,vars:0,consts:[["id","pcoded",1,"pcoded"],[1,"pcoded-overlay-box"],[1,"pcoded-container","navbar-wrapper"],[1,"pcoded-main-container"],[1,"pcoded-wrapper"],[1,"pcoded-content"],[1,"pcoded-inner-content"],[1,"main-body"],[1,"page-wrapper"],[1,"page-body"],["id","styleSelector"]],template:function(n,r){n&1&&(v(0,"app-loader"),f(1,"div",0),v(2,"div",1),f(3,"div",2),v(4,"app-header"),f(5,"div",3)(6,"div",4),v(7,"app-side-nav"),f(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),v(12,"div",9),h(),v(13,"div",10),h()()()()()()())},dependencies:[yt,_t,Et]})};var Yu=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-parametre"]],standalone:!0,features:[re],decls:14,vars:0,consts:[["id","pcoded",1,"pcoded"],[1,"pcoded-overlay-box"],[1,"pcoded-container","navbar-wrapper"],[1,"pcoded-main-container"],[1,"pcoded-wrapper"],[1,"pcoded-content"],[1,"pcoded-inner-content"],[1,"main-body"],[1,"page-wrapper"],[1,"page-body"],["id","styleSelector"]],template:function(n,r){n&1&&(v(0,"app-loader"),f(1,"div",0),v(2,"div",1),f(3,"div",2),v(4,"app-header"),f(5,"div",3)(6,"div",4),v(7,"app-side-nav"),f(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),v(12,"div",9),h(),v(13,"div",10),h()()()()()()())},dependencies:[yt,_t,Et]})};var So=(t,e)=>{let n=E(sn),r=E(Cn);return n.isAuthenticated()?!0:(alert("Veuillez vous connecter"),r.navigate(["/auth/login"]),!1)};function lU(t,e){t&1&&(f(0,"div",8)(1,"label",12),m(2,"Num\xE9ro Mobile Money:"),h(),v(3,"input",13),h())}function uU(t,e){t&1&&(f(0,"div",9)(1,"label",14),m(2,"Num\xE9ro de Carte:"),h(),v(3,"input",15),f(4,"label",16),m(5,"Date d'Expiration:"),h(),v(6,"input",17),f(7,"label",18),m(8,"CVV:"),h(),v(9,"input",19),h())}function dU(t,e){t&1&&(f(0,"div",10)(1,"label",20),m(2,"Num\xE9ro de Compte Bancaire:"),h(),v(3,"input",21),h())}var Ku=class t{activeForm="mobile_money";constructor(){}ngOnInit(){}changeActiveForm(e){this.activeForm=e}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-form-pay"]],standalone:!0,features:[re],decls:23,vars:6,consts:[[1,"payment-container"],["id","paymentForm"],[1,"payment-method"],["type","radio","name","method","value","mobile_money",3,"change","checked"],[1,"method-label"],["type","radio","name","method","value","visa",3,"change","checked"],["type","radio","name","method","value","bank",3,"change","checked"],[1,"form-content"],[1,"mobile-money-form"],[1,"visa-form"],[1,"bank-form"],["type","submit"],["for","mobile-number"],["type","text","id","mobile-number","placeholder","Ex: +243 816 717 846"],["for","card-number"],["type","text","id","card-number","placeholder","1234 5678 9012 3456"],["for","expiry"],["type","month","id","expiry"],["for","cvv"],["type","text","id","cvv","placeholder","123"],["for","account-number"],["type","text","id","account-number","placeholder","Ex: 1234567890"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"h1"),m(2,"Formulaire de Paiement"),h(),f(3,"form",1)(4,"div",2)(5,"label")(6,"input",3),Z("change",function(){return r.changeActiveForm("mobile_money")}),h(),f(7,"span",4),m(8,"Mobile Money"),h()(),f(9,"label")(10,"input",5),Z("change",function(){return r.changeActiveForm("visa")}),h(),f(11,"span",4),m(12,"Carte Visa"),h()(),f(13,"label")(14,"input",6),Z("change",function(){return r.changeActiveForm("bank")}),h(),f(15,"span",4),m(16,"Paiement Bancaire"),h()()(),f(17,"div",7),yn(18,lU,4,0,"div",8)(19,uU,10,0,"div",9)(20,dU,4,0,"div",10),h(),f(21,"button",11),m(22,"Payer Maintenant"),h()()()),n&2&&(q(6),at("checked",r.activeForm=="mobile_money"),q(4),at("checked",r.activeForm==="visa"),q(4),at("checked",r.activeForm==="bank"),q(4),Ot(r.activeForm=="mobile_money"?18:-1),q(),Ot(r.activeForm=="visa"?19:-1),q(),Ot(r.activeForm=="bank"?20:-1))},styles:[".payment-container[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:10px;box-shadow:0 8px 20px #0000001a;width:470px;margin:50px auto;text-align:center;font-family:Arial,sans-serif;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out}.payment-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#004080;font-size:24px;margin-bottom:20px}.payment-method[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:30px}.method-label[_ngcontent-%COMP%]{cursor:pointer;padding:10px 15px;border-radius:5px;border:2px solid #ddd;transition:all .3s;font-size:12px;color:#333}input[type=radio][_ngcontent-%COMP%]:checked + .method-label[_ngcontent-%COMP%]{background-color:#004080;color:#fff;border-color:#004080}.form-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:block;margin-bottom:20px;text-align:left}.form-content[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_slideIn .5s ease-in-out}.mobile-money-form[_ngcontent-%COMP%], .visa-form[_ngcontent-%COMP%], .bank-form[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;box-shadow:0 2px 10px #0000000d}label[_ngcontent-%COMP%]{font-weight:700;color:#555;display:block;margin-bottom:8px}input[type=text][_ngcontent-%COMP%], input[type=month][_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;font-size:14px}input[type=text][_ngcontent-%COMP%]:focus, input[type=month][_ngcontent-%COMP%]:focus{border-color:#004080;outline:none;box-shadow:0 0 5px #4caf5080}button[_ngcontent-%COMP%]{background-color:#004080;color:#fff;border:none;padding:12px 20px;font-size:16px;border-radius:5px;cursor:pointer;transition:background-color .3s ease-in-out;width:100%}button[_ngcontent-%COMP%]:hover{background-color:#004080}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}"]})};function ab(t,e){let n=`<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
    integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">`,r=document.getElementById(e)?.innerHTML,i=`<!DOCTYPE html><html><head>${n}</head><body onload="window.print()">${r}</html>`,o=null;navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(o=window.open("","_blank","width=1200,height=1200,scrollbars=no,menubar=no,toolbar=no,location=no,status=no,titlebar=no"),o&&(o.document.write(i),o.document.close(),o.focus(),o.onbeforeunload=()=>{o.close()},o.onabort=()=>{o.document.close(),o.close()})):(o=window.open("","_blank","width=1200,height=1200"),o&&(o.document.open(),o.document.write(i),o.document.close()))}function hU(t,e){if(t&1&&(f(0,"p"),m(1),h()),t&2){let n=Qn();q(),Ne(n.selectedFileName)}}var Zu=class t{constructor(e,n){this.formBuilder=e;this.paiement=n;let i=new Date().toISOString().substring(0,10);console.log(i),this.paiementForm=this.formBuilder.group({id:null,noms:[""],entreprise:[""],montant:[""],device:[""],motif:[""],statut:[""],reference:[""],modepaye:[""],date:i})}formData={noms:"",entreprise:"",montant:0,device:"",modepaye:"",reference:""};paiementForm;file=null;selectedFileName="";onSubmit(e){if(e.preventDefault(),!this.file){alert("Veuillez s\xE9lectionner un fichier.");return}}resetForm(){this.formData={noms:"",entreprise:"",montant:0,device:"",modepaye:"",reference:""},this.file=null}onFileSelected(e){let n=e.target.files[0];n&&(this.file=n,this.selectedFileName=n.name)}onDragOver(e){e.preventDefault(),document.getElementById("drop-zone")?.classList.add("dragging")}onDragLeave(e){e.preventDefault(),document.getElementById("drop-zone")?.classList.remove("dragging")}onDrop(e){e.preventDefault(),document.getElementById("drop-zone")?.classList.remove("dragging"),e.dataTransfer?.files.length&&(this.file=e.dataTransfer.files[0],this.selectedFileName=this.file.name)}onAdd(){confirm("Voulez-vous ajouter cette information")&&this.paiement.create(this.paiementForm.value).subscribe({next:e=>{alert("Paiement cr\xE9e avec success"),this.onPrint(this.paiementForm.controls.noms.value)},error:e=>console.log(e)})}onPrint(e){ab(e,"printRecu")}static \u0275fac=function(n){return new(n||t)(R(Co),R(Do))};static \u0275cmp=ne({type:t,selectors:[["app-home-page"]],standalone:!0,features:[re],decls:151,vars:2,consts:[["noms",""],["fileInput",""],[1,"navbar"],[1,"logo"],["routerLink","/auth/login",1,"admin-button"],[1,"icofont","icofont-user"],[1,"container"],[2,"text-align","center"],[1,"payment-form",3,"submit","formGroup"],[1,"row"],[1,"col"],[1,"form-group"],["type","text","id","noms","name","noms","placeholder","Entrez votre nom","formControlName","noms","required",""],["type","text","id","entreprise","name","entreprise","placeholder","Entrez le nom de votre entreprise","formControlName","entreprise","required",""],["type","number","id","montant","name","montant","placeholder","Entrez le montant","formControlName","montant","required",""],["type","text","id","device","name","device","placeholder","Entrez la devise","formControlName","device","required",""],["type","text","id","statut","name","statut","placeholder","Entrez le statut","formControlName","statut","required",""],["type","text","id","device","name","impot","placeholder","Entrez le motif","formControlName","motif","required",""],["type","text","id","modepaye","name","modepaye","placeholder","Entrez le mode de paiement","formControlName","modepaye","required",""],["type","text","id","reference","name","reference","placeholder","Entrez la r\xE9f\xE9rence","formControlName","reference","required",""],[1,"upload-group"],["id","drop-zone",1,"drop-zone",3,"click","dragover","dragleave","drop"],["type","file","hidden","",3,"change"],[1,"row",2,"margin-top","15px"],["href","","data-bs-toggle","modal","data-bs-target","#payeModal"],["type","submit",1,"submit-button",3,"click"],["id","payeModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],["id","recuPaye","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","printRecu",1,"modal-content"],[1,"note-container"],[1,"note-content"],[1,"note-header"],[1,"header-section-left"],[1,"header-section-right"],[1,"note-title"],[1,"note-details"],[1,"note-body"],[1,"note-footer"],[1,"footer-left"],[1,"footer-right"]],template:function(n,r){if(n&1){let i=Zn();f(0,"header",2)(1,"div",3),m(2,"DGRK"),h(),f(3,"button",4),v(4,"i",5),m(5," Admin "),h()(),f(6,"main",6)(7,"h1",7),m(8,"Formulaire de Paiement de la DGRK"),h(),f(9,"form",8),Z("submit",function(s){return Fe(i),Le(r.onSubmit(s))}),f(10,"div",9)(11,"div",10)(12,"div",11)(13,"label"),m(14,"Nom du remettant"),h(),v(15,"input",12,0),h()(),m(17," \xA0 "),f(18,"div",10)(19,"div",11)(20,"label"),m(21,"Entreprise"),h(),v(22,"input",13),h()()(),f(23,"div",9)(24,"div",10)(25,"div",11)(26,"label"),m(27,"Montant"),h(),v(28,"input",14),h()(),m(29," \xA0 "),f(30,"div",10)(31,"div",11)(32,"label"),m(33,"Device"),h(),v(34,"input",15),h()()(),f(35,"div",9)(36,"div",10)(37,"div",11)(38,"label"),m(39,"Statut"),h(),v(40,"input",16),h()(),m(41," \xA0 "),f(42,"div",10)(43,"div",11)(44,"label"),m(45,"Impot du "),h(),v(46,"input",17),h()()(),f(47,"div",9)(48,"div",10)(49,"div",11)(50,"label"),m(51,"Mode de Paiement"),h(),v(52,"input",18),h()(),m(53," \xA0 "),f(54,"div",10)(55,"div",11)(56,"label"),m(57,"R\xE9f\xE9rence de Paiement"),h(),v(58,"input",19),h()()(),f(59,"div",20)(60,"label"),m(61,"Preuve de Paiement "),h(),f(62,"div",21),Z("click",function(){Fe(i);let s=ys(65);return Le(s.click())})("dragover",function(s){return Fe(i),Le(r.onDragOver(s))})("dragleave",function(s){return Fe(i),Le(r.onDragLeave(s))})("drop",function(s){return Fe(i),Le(r.onDrop(s))}),m(63," Glissez votre fichier ici ou cliquez pour s\xE9lectionner "),f(64,"input",22,1),Z("change",function(s){return Fe(i),Le(r.onFileSelected(s))}),h()(),yn(66,hU,2,1,"p"),h(),f(67,"div",23)(68,"div",10)(69,"h3")(70,"a",24),m(71,"Payez ici"),h()()(),v(72,"div",10),h(),f(73,"button",25),Z("click",function(){return Fe(i),Le(r.onAdd())}),m(74,"Soumettre"),h()()(),f(75,"div",26)(76,"div",27)(77,"div",28)(78,"div",29),v(79,"app-form-pay"),h()()()(),f(80,"div",30)(81,"div",27)(82,"div",31)(83,"body")(84,"div",32)(85,"div",33)(86,"header",34)(87,"div",35)(88,"h4"),m(89,"R\xC9PUBLIQUE D\xC9MOCRATIQUE DU CONGO"),h(),f(90,"p"),m(91,"VILLE DE KINSHASA"),h(),f(92,"p"),m(93,"MINIST\xC8RE DE L'\xC9CONOMIE ET DES FINANCES"),h()(),f(94,"div",36)(95,"p"),m(96,"DGRK"),h()()(),f(97,"h2",37),m(98,"NOTE DE PERCEPTION N\xB0 7315/0416000995"),h(),f(99,"section",38)(100,"p")(101,"strong"),m(102,"Date :"),h(),m(103," 6/12/2024"),h(),f(104,"p")(105,"strong"),m(106,"Nom ou Raison Sociale :"),h(),m(107," MONKILA JOE"),h(),f(108,"p")(109,"strong"),m(110,"T\xE9l\xE9phone :"),h(),m(111," 0816717846"),h(),f(112,"p")(113,"strong"),m(114,"Adresse :"),h(),m(115,"XXX"),h()(),f(116,"section",39)(117,"p"),m(118," Le Receveur des Recettes Fiscales certifie par la pr\xE9sente que le contribuable ci-dessus nomm\xE9 a d\xE9pos\xE9 ce jour en nos bureaux la d\xE9claration de "),f(119,"strong"),m(120,"\xAB Imp\xF4t Foncier \xBB"),h(),m(121," pour l'exercice 2023 pour un montant d\xE9clar\xE9 de "),f(122,"strong"),m(123,"27 500.00 FC"),h(),m(124,", soit la somme de "),f(125,"strong"),m(126,"VINGT SEPT MILLE CINQ CENT FRANC CONGOLAIS"),h(),m(127,". "),h(),f(128,"p"),m(129," \xC0 verser \xE0 l'un des comptes ci-dessous du Receveur des recettes fiscales de la DGRK : "),h()(),f(130,"section",40)(131,"div",41)(132,"p")(133,"strong"),m(134,"Fait pour valoir ce que de droit"),h()(),f(135,"p"),m(136,"Saisie par : "),f(137,"strong"),m(138,"MONKILA JOE"),h()(),f(139,"p"),m(140,"Imprim\xE9 par : "),f(141,"strong"),m(142,"CENTRE DE RECETTES DE GOMBE"),h()()(),f(143,"div",42)(144,"p")(145,"strong"),m(146,"MONKILA JOE"),h()(),f(147,"p"),m(148,"RECEVEUR FISCALE. Direction des Imp\xF4ts"),h(),f(149,"p"),m(150,"Tampon de l'Administration"),h()()()()()()()()()}n&2&&(q(9),at("formGroup",r.paiementForm),q(57),Ot(r.selectedFileName?66:-1))},dependencies:[Xl,bo,wo,pr,ga,_o,Eo,rg,ii,oi,Ku],styles:["body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background:linear-gradient(to bottom right,#f0f8ff,#e6f7ff);color:#333;margin:0;padding:0}.navbar[_ngcontent-%COMP%]{background-color:#036;color:#fff;padding:10px 20px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 5px #0003}.logo[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700}.admin-button[_ngcontent-%COMP%]{background-color:#004080;color:#fff;border:none;padding:10px 15px;font-size:1em;border-radius:5px;cursor:pointer;transition:transform .3s ease}.admin-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.container[_ngcontent-%COMP%]{max-width:800px;margin:30px auto;background:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 10px #0000001a}.form-title[_ngcontent-%COMP%]{font-size:1.8em;text-align:center;margin-bottom:20px;color:#004080}.payment-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:20px}.payment-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;transition:box-shadow .3s ease,border-color .3s ease}.payment-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#004080;box-shadow:0 0 5px #00408080;outline:none}.drop-zone[_ngcontent-%COMP%]{border:2px dashed #ccc;padding:20px;text-align:center;color:#666;background-color:#fafafa;border-radius:10px;transition:background-color .3s ease,border-color .3s ease;cursor:pointer}.drop-zone.dragging[_ngcontent-%COMP%]{background-color:#e6f7ff;border-color:#004080;color:#004080}.submit-button[_ngcontent-%COMP%]{background-color:#004080;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;font-size:1em;transition:transform .3s ease,background-color .3s ease;width:100%;margin-top:15px}.submit-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#036}.note-container[_ngcontent-%COMP%]{max-width:500px;width:100%;margin:0 auto;padding:20px;background:#fff;border:1px solid #ccc;border-radius:5px;box-shadow:0 0 10px #0000001a}.note-content[_ngcontent-%COMP%]{padding:20px;background-color:#fff}.note-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #000;padding-bottom:10px;margin-bottom:20px}.header-section-left[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:700}.note-logo[_ngcontent-%COMP%]{max-width:80px;height:auto}.note-title[_ngcontent-%COMP%]{text-align:center;font-size:16px;margin-bottom:20px}.note-details[_ngcontent-%COMP%]{margin-bottom:20px}.note-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.note-table[_ngcontent-%COMP%]{width:50%;border-collapse:collapse;margin-bottom:20px}.note-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .note-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #000;padding:8px;text-align:left}.note-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.footer-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .footer-right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:14px}.footer-right[_ngcontent-%COMP%]{text-align:right}"]})};var cb=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"auth/login",component:Au},{path:"home",component:Zu},{path:"auth/register",component:Mu},{path:"dashboard/home",component:Nu,canActivate:[So]},{path:"dashboard/comptes",component:Wu,canActivate:[So]},{path:"dashboard/paiements",component:Gu,canActivate:[So]},{path:"dashboard/transfert",component:qu,canActivate:[So]},{path:"dashboard/parametre",component:Yu,canActivate:[So]}];var lb="@firebase/database",ub="1.0.8";var nv="";function fU(t){nv=t}var hg=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Te(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:so(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var fg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Xt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var $b=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new hg(e)}}catch{}return new fg},ai=$b("localStorage"),pg=$b("sessionStorage");var No=new ir("@firebase/database"),pU=function(){let t=1;return function(){return t++}}(),Hb=function(t){let e=m0(t),n=new eu;n.update(e);let r=n.digest();return tu.encodeByteArray(r)},Ma=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ma.apply(null,r):typeof r=="object"?e+=Te(r):e+=r,e+=" "}return e},ci=null,db=!0,mU=function(t,e){b(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(No.logLevel=te.VERBOSE,ci=No.log.bind(No),e&&pg.set("logging_enabled",!0)):typeof t=="function"?ci=t:(ci=null,pg.remove("logging_enabled"))},Ue=function(...t){if(db===!0&&(db=!1,ci===null&&pg.get("logging_enabled")===!0&&mU(!0)),ci){let e=Ma.apply(null,t);ci(e)}},Na=function(t){return function(...e){Ue(t,...e)}},mg=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ma(...t);No.error(e)},xn=function(...t){let e=`FIREBASE FATAL ERROR: ${Ma(...t)}`;throw No.error(e),new Error(e)},dt=function(...t){let e="FIREBASE WARNING: "+Ma(...t);No.warn(e)},gU=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&dt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zb=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},vU=function(t){if(Jt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},xo="[MIN_NAME]",li="[MAX_NAME]",Uo=function(t,e){if(t===e)return 0;if(t===xo||e===li)return-1;if(e===xo||t===li)return 1;{let n=hb(t),r=hb(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},yU=function(t,e){return t===e?0:t<e?-1:1},va=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Te(e))},rv=function(t){if(typeof t!="object"||t===null)return Te(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Te(e[r]),n+=":",n+=rv(t[e[r]]);return n+="}",n},Wb=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ct(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var Gb=function(t){b(!zb(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let p=parseInt(u.substr(c,8),2).toString(16);p.length===1&&(p="0"+p),d=d+p}return d.toLowerCase()},_U=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},EU=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var wU=new RegExp("^-?(0*)\\d{1,10}$"),IU=-2147483648,CU=2147483647,hb=function(t){if(wU.test(t)){let e=Number(t);if(e>=IU&&e<=CU)return e}return null},Ra=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw dt("Exception was thrown by user callback.",n),e},Math.floor(0))}},bU=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ia=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var gg=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){dt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var vg=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ue("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dt(e)}},Ca=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Ju="5",qb="v",Yb="s",Kb="r",Zb="f",Qb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jb="ls",Xb="p",yg="ac",eD="websocket",tD="long_polling";var Xu=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ai.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ai.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function DU(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function nD(t,e,n){b(typeof e=="string","typeof type must == string"),b(typeof n=="object","typeof params must == object");let r;if(e===eD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===tD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);DU(t)&&(n.ns=t.namespace);let i=[];return Ct(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var _g=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Xt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return r0(this.counters_)}};var og={},sg={};function iv(t){let e=t.toString();return og[e]||(og[e]=new _g),og[e]}function SU(t,e){let n=t.toString();return sg[n]||(sg[n]=e()),sg[n]}var Eg=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ra(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var fb="start",TU="close",AU="pLPCommand",MU="pRTLPCB",rD="id",iD="pw",oD="ser",NU="cb",RU="seg",xU="ts",OU="d",PU="dframe",sD=1870,aD=30,kU=sD-aD,FU=25e3,LU=3e4,wg=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Na(e),this.stats_=iv(n),this.urlFn=c=>(this.appCheckToken&&(c[yg]=this.appCheckToken),nD(n,tD,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Eg(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LU)),vU(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ig((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===fb)this.id=a,this.password=c;else if(s===TU)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[fb]="t",r[oD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[NU]=this.scriptTagHolder.uniqueCallbackIdentifier),r[qb]=Ju,this.transportSessionId&&(r[Yb]=this.transportSessionId),this.lastSessionId&&(r[Jb]=this.lastSessionId),this.applicationId&&(r[Xb]=this.applicationId),this.appCheckToken&&(r[yg]=this.appCheckToken),typeof location<"u"&&location.hostname&&Qb.test(location.hostname)&&(r[Kb]=Zb);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Jt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_U()&&!EU()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Te(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=jp(n),i=Wb(r,kU);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Jt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[PU]="t",r[rD]=e,r[iD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Te(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Ig=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Jt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=pU(),window[AU+this.uniqueCallbackIdentifier]=e,window[MU+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ue("frame writing exception"),a.stack&&Ue(a.stack),Ue(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ue("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[rD]=this.myID,e[iD]=this.myPW,e[oD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+aD+r.length<=sD;){let s=this.pendingSegs.shift();r=r+"&"+RU+i+"="+s.seg+"&"+xU+i+"="+s.ts+"&"+OU+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(FU)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){Jt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ue("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var VU=16384,UU=45e3,ed=null;typeof MozWebSocket<"u"?ed=MozWebSocket:typeof WebSocket<"u"&&(ed=WebSocket);var ya=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Na(this.connId),this.stats_=iv(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[qb]=Ju,!Jt()&&typeof location<"u"&&location.hostname&&Qb.test(location.hostname)&&(a[Kb]=Zb),r&&(a[Yb]=r),i&&(a[Jb]=i),o&&(a[yg]=o),s&&(a[Xb]=s),nD(n,eD,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ai.set("previous_websocket_failure",!0);try{let i;if(Jt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Ju}/${nv}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new ed(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&ed!==null&&!t.forceDisallow_}static previouslyFailed(){return ai.isInMemoryStorage||ai.get("previous_websocket_failure")===!0}markConnectionHealthy(){ai.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=so(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(b(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Te(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=Wb(r,VU);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(UU))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),jU=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[wg,ya]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=ya&&ya.isAvailable(),i=r&&!ya.previouslyFailed();if(n.webSocketOnly&&(r||dt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ya];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),BU=6e4,$U=5e3,HU=10*1024,zU=100*1024,ag="t",pb="d",WU="s",mb="r",GU="e",gb="o",vb="a",yb="n",_b="p",qU="h",Cg=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Na("c:"+this.id+":"),this.transportManager_=new jU(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ia(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>zU?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>HU?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ag in e){let n=e[ag];n===vb?this.upgradeIfSecondaryHealthy_():n===mb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===gb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=va("t",e),r=va("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:_b,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=va("t",e),r=va("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=va(ag,e);if(pb in e){let r=e[pb];if(n===qU){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===yb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===WU?this.onConnectionShutdown_(r):n===mb?this.onReset_(r):n===GU?mg("Server Error: "+r):n===gb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mg("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ju!==r&&dt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ia(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BU))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ia(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($U))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:_b,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ai.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var td=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var nd=class{constructor(e){this.allowedEvents_=e,this.listeners_={},b(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){b(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var rd=class t extends nd{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ks()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return b(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var Eb=32,wb=768,ae=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function ie(){return new ae("")}function Q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function gr(t){return t.pieces_.length-t.pieceNum_}function le(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ae(t.pieces_,e)}function cD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function YU(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function lD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function uD(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ae(e,0)}function Ae(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ae)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ae(n,0)}function Y(t){return t.pieceNum_>=t.pieces_.length}function wt(t,e){let n=Q(t),r=Q(e);if(n===null)return e;if(n===r)return wt(le(t),le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function dD(t,e){if(gr(t)!==gr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ut(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(gr(t)>gr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var bg=class{constructor(e,n){this.errorPrefix_=n,this.parts_=lD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Js(this.parts_[r]);hD(this)}};function KU(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Js(e),hD(t)}function ZU(t){let e=t.parts_.pop();t.byteLength_-=Js(e),t.parts_.length>0&&(t.byteLength_-=1)}function hD(t){if(t.byteLength_>wb)throw new Error(t.errorPrefix_+"has a key path longer than "+wb+" bytes ("+t.byteLength_+").");if(t.parts_.length>Eb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Eb+") or object contains a cycle "+si(t))}function si(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Dg=class t extends nd{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return b(e==="visible","Unknown event type: "+e),[this.visible_]}};var _a=1e3,QU=60*5*1e3,Ib=30*1e3,JU=1.3,XU=3e4,ej="server_kill",Cb=3,ov=(()=>{class t extends td{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=Na("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_a,this.maxReconnectDelay_=QU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Jt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Dg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&rd.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Te(s)),b(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new zr,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),b(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Xt(n,"w")){let i=Gr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();dt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||h0(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ib)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=d0(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Te(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):mg("Unrecognized action received from server: "+Te(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){b(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_a,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=_a,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>XU&&(this.reconnectDelay_=_a),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*JU)}this.onConnectStatus_(!1)}establishConnection_(){return y(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(p){b(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(p)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[p,g]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ue("getToken() completed but was canceled"):(Ue("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,c=new Cg(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,_=>{dt(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(ej)},s))}catch(p){this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&dt(p),l())}}})}interrupt(n){Ue("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ue("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Zs(this.interruptReasons_)&&(this.reconnectDelay_=_a,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>rv(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ae(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ue("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Cb&&(this.reconnectDelay_=Ib,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ue("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Cb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Jt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+nv.replace(/\./g,"-")]=1,Ks()?n["framework.cordova"]=1:iu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=rd.getInstance().currentlyOnline();return Zs(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),J=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Oo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new J(xo,e),i=new J(xo,n);return this.compare(r,i)!==0}minPost(){return J.MIN}};var Qu,id=class extends Oo{static get __EMPTY_NODE(){return Qu}static set __EMPTY_NODE(e){Qu=e}compare(e,n){return Uo(e.name,n.name)}isDefinedOn(e){throw Wr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return J.MIN}maxPost(){return new J(li,Qu)}makePost(e,n){return b(typeof e=="string","KeyIndex indexValue must always be a string."),new J(e,Qu)}toString(){return".key"}},Ro=new id;var Ao=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Vt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??It.EMPTY_NODE,this.right=s??It.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return It.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return It.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Sg=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new Vt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},It=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Vt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Vt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ao(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ao(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ao(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ao(this.root_,null,this.comparator_,!0,e)}};It.EMPTY_NODE=new Sg;function tj(t,e){return Uo(t.name,e.name)}function sv(t,e){return Uo(t,e)}var Tg;function nj(t){Tg=t}var fD=function(t){return typeof t=="number"?"number:"+Gb(t):"string:"+t},pD=function(t){if(t.isLeafNode()){let e=t.val();b(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Xt(e,".sv"),"Priority must be a string or number.")}else b(t===Tg||t.isEmpty(),"priority of unexpected type.");b(t===Tg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var bb,Po=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,b(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),pD(this.priorityNode_)}static set __childrenNodeConstructor(n){bb=n}static get __childrenNodeConstructor(){return bb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Y(n)?this:Q(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=Q(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(b(i!==".priority"||gr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+fD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=Gb(this.value_):n+=this.value_,this.lazyHash_=Hb(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(b(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return b(o>=0,"Unknown leaf type: "+r),b(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),mD,gD;function rj(t){mD=t}function ij(t){gD=t}var Ag=class extends Oo{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Uo(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return J.MIN}maxPost(){return new J(li,new Po("[PRIORITY-POST]",gD))}makePost(e,n){let r=mD(e);return new J(n,new Po("[PRIORITY-POST]",r))}toString(){return".priority"}},Be=new Ag;var oj=Math.log(2),Mg=class{constructor(e){let n=o=>parseInt(Math.log(o)/oj,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},od=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,p;if(u===0)return null;if(u===1)return d=t[c],p=n?n(d):d,new Vt(p,d.node,Vt.BLACK,null,null);{let g=parseInt(u/2,10)+c,_=i(c,g),w=i(g+1,l);return d=t[g],p=n?n(d):d,new Vt(p,d.node,Vt.BLACK,_,w)}},o=function(c){let l=null,u=null,d=t.length,p=function(_,w){let I=d-_,S=d;d-=_;let U=i(I+1,S),N=t[I],B=n?n(N):N;g(new Vt(B,N.node,w,null,U))},g=function(_){l?(l.left=_,l=_):(u=_,l=_)};for(let _=0;_<c.count;++_){let w=c.nextBitIsOne(),I=Math.pow(2,c.count-(_+1));w?p(I,Vt.BLACK):(p(I,Vt.BLACK),p(I,Vt.RED))}return u},s=new Mg(t.length),a=o(s);return new It(r||e,a)};var cg,To={},ko=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return b(To&&Be,"ChildrenNode.ts has not been loaded"),cg=cg||new t({".priority":To},{".priority":Be}),cg}get(e){let n=Gr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof It?n:null}hasIndex(e){return Xt(this.indexSet_,e.toString())}addIndex(e,n){b(e!==Ro,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(J.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=od(r,e.getCompare()):a=To;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=Qs(this.indexes_,(i,o)=>{let s=Gr(this.indexSet_,o);if(b(s,"Missing index implementation for "+o),i===To)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(J.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),od(a,s.getCompare())}else return To;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new J(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Qs(this.indexes_,i=>{if(i===To)return i;{let o=n.get(e.name);return o?i.remove(new J(e.name,o)):i}});return new t(r,this.indexSet_)}};var Ea,fe=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&pD(this.priorityNode_),this.children_.isEmpty()&&b(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ea||(Ea=new t(new It(sv),null,ko.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ea}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Ea:r}}getChild(n){let r=Q(n);return r===null?this:this.getImmediateChild(r).getChild(le(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(b(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new J(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Ea:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=Q(n);if(i===null)return r;{b(Q(n)!==".priority"||gr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(le(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Be,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+fD(this.getPriority().val())+":"),this.forEachChild(Be,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":Hb(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new J(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new J(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new J(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,J.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,J.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===xa?-1:0}withIndex(n){if(n===Ro||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Ro||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Be),o=r.getIterator(Be),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Ro?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Ng=class extends fe{constructor(){super(new It(sv),fe.EMPTY_NODE,ko.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fe.EMPTY_NODE}isEmpty(){return!1}},xa=new Ng;Object.defineProperties(J,{MIN:{value:new J(xo,fe.EMPTY_NODE)},MAX:{value:new J(li,xa)}});id.__EMPTY_NODE=fe.EMPTY_NODE;Po.__childrenNodeConstructor=fe;nj(xa);ij(xa);var sj=!0;function je(t,e=null){if(t===null)return fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),b(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Po(n,je(e))}if(!(t instanceof Array)&&sj){let n=[],r=!1;if(Ct(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=je(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new J(s,c)))}}),n.length===0)return fe.EMPTY_NODE;let o=od(n,tj,s=>s.name,sv);if(r){let s=od(n,Be.getCompare());return new fe(o,je(e),new ko({".priority":s},{".priority":Be}))}else return new fe(o,je(e),ko.Default)}else{let n=fe.EMPTY_NODE;return Ct(t,(r,i)=>{if(Xt(t,r)&&r.substring(0,1)!=="."){let o=je(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(je(e))}}rj(je);var Rg=class extends Oo{constructor(e){super(),this.indexPath_=e,b(!Y(e)&&Q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Uo(e.name,n.name):o}makePost(e,n){let r=je(e),i=fe.EMPTY_NODE.updateChild(this.indexPath_,r);return new J(n,i)}maxPost(){let e=fe.EMPTY_NODE.updateChild(this.indexPath_,xa);return new J(li,e)}toString(){return lD(this.indexPath_,0).join("/")}};var xg=class extends Oo{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Uo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return J.MIN}maxPost(){return J.MAX}makePost(e,n){let r=je(e);return new J(n,r)}toString(){return".value"}},aj=new xg;function cj(t){return{type:"value",snapshotNode:t}}function lj(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function uj(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Db(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function dj(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Og=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Be}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return b(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return b(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xo}hasEnd(){return this.endSet_}getIndexEndValue(){return b(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return b(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:li}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return b(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Be}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function Sb(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Be?n="$priority":t.index_===aj?n="$value":t.index_===Ro?n="$key":(b(t.index_ instanceof Rg,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Te(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Te(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Te(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Te(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Te(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Tb(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Be&&(e.i=t.index_.toString()),e}var Pg=class t extends td{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Na("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(b(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=Sb(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Gr(this.listens_,s)===a){let p;l?l===401?p="permission_denied":p="rest_error:"+l:p="ok",i(p,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=Sb(e._queryParams),r=e._path.toString(),i=new zr;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+qr(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=so(a.responseText)}catch{dt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&dt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var kg=class{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function sd(){return{value:null,children:new Map}}function vD(t,e,n){if(Y(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=Q(e);t.children.has(r)||t.children.set(r,sd());let i=t.children.get(r);e=le(e),vD(i,e,n)}}function Fg(t,e,n){t.value!==null?n(e,t.value):hj(t,(r,i)=>{let o=new ae(e.toString()+"/"+r);Fg(i,o,n)})}function hj(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Lg=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ct(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var Ab=10*1e3,fj=30*1e3,pj=5*60*1e3,Vg=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Lg(e);let r=Ab+(fj-Ab)*Math.random();Ia(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Ct(e,(i,o)=>{o>0&&Xt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Ia(this.reportStats_.bind(this),Math.floor(Math.random()*2*pj))}};var Rn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Rn||{});function yD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _D(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ED(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Ug=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Rn.ACK_USER_WRITE,this.source=yD()}operationForChild(e){if(Y(this.path)){if(this.affectedTree.value!=null)return b(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ae(e));return new t(ie(),n,this.revert)}}else return b(Q(this.path)===e,"operationForChild called for unrelated child."),new t(le(this.path),this.affectedTree,this.revert)}};var Fo=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Rn.OVERWRITE}operationForChild(e){return Y(this.path)?new t(this.source,ie(),this.snap.getImmediateChild(e)):new t(this.source,le(this.path),this.snap)}};var ad=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Rn.MERGE}operationForChild(e){if(Y(this.path)){let n=this.children.subtree(new ae(e));return n.isEmpty()?null:n.value?new Fo(this.source,ie(),n.value):new t(this.source,ie(),n)}else return b(Q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Sa=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Y(e))return this.isFullyInitialized()&&!this.filtered_;let n=Q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function mj(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(dj(s.childName,s.snapshotNode))}),wa(t,i,"child_removed",e,r,n),wa(t,i,"child_added",e,r,n),wa(t,i,"child_moved",o,r,n),wa(t,i,"child_changed",e,r,n),wa(t,i,"value",e,r,n),i}function wa(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>vj(t,a,c)),s.forEach(a=>{let c=gj(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function gj(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function vj(t,e,n){if(e.childName==null||n.childName==null)throw Wr("Should only compare child_ events.");let r=new J(e.childName,e.snapshotNode),i=new J(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function wD(t,e){return{eventCache:t,serverCache:e}}function ba(t,e,n,r){return wD(new Sa(e,n,r),t.serverCache)}function ID(t,e,n,r){return wD(t.eventCache,new Sa(e,n,r))}function jg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ui(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var lg,yj=()=>(lg||(lg=new It(yU)),lg),Ze=class t{constructor(e,n=yj()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Ct(e,(r,i)=>{n=n.set(new ae(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ie(),value:this.value};if(Y(e))return null;{let r=Q(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(le(e),n);return o!=null?{path:Ae(new ae(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Y(e))return this;{let n=Q(e),r=this.children.get(n);return r!==null?r.subtree(le(e)):new t(null)}}set(e,n){if(Y(e))return new t(n,this.children);{let r=Q(e),o=(this.children.get(r)||new t(null)).set(le(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(Y(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=Q(e),r=this.children.get(n);if(r){let i=r.remove(le(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(Y(e))return this.value;{let n=Q(e),r=this.children.get(n);return r?r.get(le(e)):null}}setTree(e,n){if(Y(e))return n;{let r=Q(e),o=(this.children.get(r)||new t(null)).setTree(le(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(ie(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Ae(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ie(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Y(e))return null;{let o=Q(e),s=this.children.get(o);return s?s.findOnPath_(le(e),Ae(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ie(),n)}foreachOnPath_(e,n,r){if(Y(e))return this;{this.value&&r(n,this.value);let i=Q(e),o=this.children.get(i);return o?o.foreachOnPath_(le(e),Ae(n,i),r):new t(null)}}foreach(e){this.foreach_(ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ae(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var jt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Ze(null))}};function Da(t,e,n){if(Y(e))return new jt(new Ze(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=wt(i,e);return o=o.updateChild(s,n),new jt(t.writeTree_.set(i,o))}else{let i=new Ze(n),o=t.writeTree_.setTree(e,i);return new jt(o)}}}function Mb(t,e,n){let r=t;return Ct(n,(i,o)=>{r=Da(r,Ae(e,i),o)}),r}function Nb(t,e){if(Y(e))return jt.empty();{let n=t.writeTree_.setTree(e,new Ze(null));return new jt(n)}}function Bg(t,e){return di(t,e)!=null}function di(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(wt(n.path,e)):null}function Rb(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Be,(r,i)=>{e.push(new J(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new J(r,i.value))}),e}function mr(t,e){if(Y(e))return t;{let n=di(t,e);return n!=null?new jt(new Ze(n)):new jt(t.writeTree_.subtree(e))}}function $g(t){return t.writeTree_.isEmpty()}function Lo(t,e){return CD(ie(),t.writeTree_,e)}function CD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(b(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=CD(Ae(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ae(t,".priority"),r)),n}}function bD(t,e){return MD(e,t)}function _j(t,e,n,r,i){b(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Da(t.visibleWrites,e,n)),t.lastWriteId=r}function Ej(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function wj(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);b(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&Ij(a,r.path)?i=!1:Ut(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return Cj(t),!0;if(r.snap)t.visibleWrites=Nb(t.visibleWrites,r.path);else{let a=r.children;Ct(a,c=>{t.visibleWrites=Nb(t.visibleWrites,Ae(r.path,c))})}return!0}else return!1}function Ij(t,e){if(t.snap)return Ut(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Ut(Ae(t.path,n),e))return!0;return!1}function Cj(t){t.visibleWrites=DD(t.allWrites,bj,ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function bj(t){return t.visible}function DD(t,e,n){let r=jt.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)Ut(n,s)?(a=wt(n,s),r=Da(r,a,o.snap)):Ut(s,n)&&(a=wt(s,n),r=Da(r,ie(),o.snap.getChild(a)));else if(o.children){if(Ut(n,s))a=wt(n,s),r=Mb(r,a,o.children);else if(Ut(s,n))if(a=wt(s,n),Y(a))r=Mb(r,ie(),o.children);else{let c=Gr(o.children,Q(a));if(c){let l=c.getChild(le(a));r=Da(r,ie(),l)}}}else throw Wr("WriteRecord should have .snap or .children")}}return r}function SD(t,e,n,r,i){if(!r&&!i){let o=di(t.visibleWrites,e);if(o!=null)return o;{let s=mr(t.visibleWrites,e);if($g(s))return n;if(n==null&&!Bg(s,ie()))return null;{let a=n||fe.EMPTY_NODE;return Lo(s,a)}}}else{let o=mr(t.visibleWrites,e);if(!i&&$g(o))return n;if(!i&&n==null&&!Bg(o,ie()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Ut(l.path,e)||Ut(e,l.path))},a=DD(t.allWrites,s,e),c=n||fe.EMPTY_NODE;return Lo(a,c)}}}function Dj(t,e,n){let r=fe.EMPTY_NODE,i=di(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Be,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=mr(t.visibleWrites,e);return n.forEachChild(Be,(s,a)=>{let c=Lo(mr(o,new ae(s)),a);r=r.updateImmediateChild(s,c)}),Rb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=mr(t.visibleWrites,e);return Rb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Sj(t,e,n,r,i){b(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Ae(e,n);if(Bg(t.visibleWrites,o))return null;{let s=mr(t.visibleWrites,o);return $g(s)?i.getChild(n):Lo(s,i.getChild(n))}}function Tj(t,e,n,r){let i=Ae(e,n),o=di(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=mr(t.visibleWrites,i);return Lo(s,r.getNode().getImmediateChild(n))}else return null}function Aj(t,e){return di(t.visibleWrites,e)}function Mj(t,e,n,r,i,o,s){let a,c=mr(t.visibleWrites,e),l=di(c,ie());if(l!=null)a=l;else if(n!=null)a=Lo(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),p=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),g=p.getNext();for(;g&&u.length<i;)d(g,r)!==0&&u.push(g),g=p.getNext();return u}else return[]}function Nj(){return{visibleWrites:jt.empty(),allWrites:[],lastWriteId:-1}}function Hg(t,e,n,r){return SD(t.writeTree,t.treePath,e,n,r)}function TD(t,e){return Dj(t.writeTree,t.treePath,e)}function xb(t,e,n,r){return Sj(t.writeTree,t.treePath,e,n,r)}function cd(t,e){return Aj(t.writeTree,Ae(t.treePath,e))}function Rj(t,e,n,r,i,o){return Mj(t.writeTree,t.treePath,e,n,r,i,o)}function av(t,e,n){return Tj(t.writeTree,t.treePath,e,n)}function AD(t,e){return MD(Ae(t.treePath,e),t.writeTree)}function MD(t,e){return{treePath:t,writeTree:e}}var zg=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;b(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),b(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Db(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,uj(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,lj(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Db(r,e.snapshotNode,i.oldSnap));else throw Wr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Wg=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},ND=new Wg,Ta=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Sa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return av(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ui(this.viewCache_),o=Rj(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function xj(t,e){b(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),b(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Oj(t,e,n,r,i){let o=new zg,s,a;if(n.type===Rn.OVERWRITE){let l=n;l.source.fromUser?s=Gg(t,e,l.path,l.snap,r,i,o):(b(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!Y(l.path),s=ld(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===Rn.MERGE){let l=n;l.source.fromUser?s=kj(t,e,l.path,l.children,r,i,o):(b(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=qg(t,e,l.path,l.children,r,i,a,o))}else if(n.type===Rn.ACK_USER_WRITE){let l=n;l.revert?s=Vj(t,e,l.path,r,i,o):s=Fj(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===Rn.LISTEN_COMPLETE)s=Lj(t,e,n.path,r,o);else throw Wr("Unknown operation type: "+n.type);let c=o.getChanges();return Pj(e,s,c),{viewCache:s,changes:c}}function Pj(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=jg(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(cj(jg(e)))}}function RD(t,e,n,r,i,o){let s=e.eventCache;if(cd(r,n)!=null)return e;{let a,c;if(Y(n))if(b(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=ui(e),u=l instanceof fe?l:fe.EMPTY_NODE,d=TD(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=Hg(r,ui(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=Q(n);if(l===".priority"){b(gr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=xb(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=le(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let p=xb(r,n,s.getNode(),c);p!=null?d=s.getNode().getImmediateChild(l).updateChild(u,p):d=s.getNode().getImmediateChild(l)}else d=av(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return ba(e,a,s.isFullyInitialized()||Y(n),t.filter.filtersNodes())}}function ld(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(Y(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let g=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),g,null)}else{let g=Q(n);if(!c.isCompleteForPath(n)&&gr(n)>1)return e;let _=le(n),I=c.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?l=u.updatePriority(c.getNode(),I):l=u.updateChild(c.getNode(),g,I,_,ND,null)}let d=ID(e,l,c.isFullyInitialized()||Y(n),u.filtersNodes()),p=new Ta(i,d,o);return RD(t,d,n,i,p,a)}function Gg(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new Ta(i,e,o);if(Y(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=ba(e,l,!0,t.filter.filtersNodes());else{let d=Q(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=ba(e,l,a.isFullyInitialized(),a.isFiltered());else{let p=le(n),g=a.getNode().getImmediateChild(d),_;if(Y(p))_=r;else{let w=u.getCompleteChild(d);w!=null?cD(p)===".priority"&&w.getChild(uD(p)).isEmpty()?_=w:_=w.updateChild(p,r):_=fe.EMPTY_NODE}if(g.equals(_))c=e;else{let w=t.filter.updateChild(a.getNode(),d,_,p,u,s);c=ba(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function Ob(t,e){return t.eventCache.isCompleteForChild(e)}function kj(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=Ae(n,c);Ob(e,Q(u))&&(a=Gg(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Ae(n,c);Ob(e,Q(u))||(a=Gg(t,a,u,l,i,o,s))}),a}function Pb(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function qg(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;Y(n)?l=r:l=new Ze(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,p)=>{if(u.hasChild(d)){let g=e.serverCache.getNode().getImmediateChild(d),_=Pb(t,g,p);c=ld(t,c,new ae(d),_,i,o,s,a)}}),l.children.inorderTraversal((d,p)=>{let g=!e.serverCache.isCompleteForChild(d)&&p.value===null;if(!u.hasChild(d)&&!g){let _=e.serverCache.getNode().getImmediateChild(d),w=Pb(t,_,p);c=ld(t,c,new ae(d),w,i,o,s,a)}}),c}function Fj(t,e,n,r,i,o,s){if(cd(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Y(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return ld(t,e,n,c.getNode().getChild(n),i,o,a,s);if(Y(n)){let l=new Ze(null);return c.getNode().forEachChild(Ro,(u,d)=>{l=l.set(new ae(u),d)}),qg(t,e,n,l,i,o,a,s)}else return e}else{let l=new Ze(null);return r.foreach((u,d)=>{let p=Ae(n,u);c.isCompleteForPath(p)&&(l=l.set(u,c.getNode().getChild(p)))}),qg(t,e,n,l,i,o,a,s)}}function Lj(t,e,n,r,i){let o=e.serverCache,s=ID(e,o.getNode(),o.isFullyInitialized()||Y(n),o.isFiltered());return RD(t,s,n,r,ND,i)}function Vj(t,e,n,r,i,o){let s;if(cd(r,n)!=null)return e;{let a=new Ta(r,e,i),c=e.eventCache.getNode(),l;if(Y(n)||Q(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Hg(r,ui(e));else{let d=e.serverCache.getNode();b(d instanceof fe,"serverChildren would be complete if leaf node"),u=TD(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=Q(n),d=av(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,le(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,fe.EMPTY_NODE,le(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Hg(r,ui(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||cd(r,ie())!=null,ba(e,l,s,t.filter.filtersNodes())}}function Uj(t,e){let n=ui(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Y(e)&&!n.getImmediateChild(Q(e)).isEmpty())?n.getChild(e):null}function kb(t,e,n,r){e.type===Rn.MERGE&&e.source.queryId!==null&&(b(ui(t.viewCache_),"We should always have a full cache before handling merges"),b(jg(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=Oj(t.processor_,i,e,n,r);return xj(t.processor_,o.viewCache),b(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,jj(t,o.changes,o.viewCache.eventCache.getNode(),null)}function jj(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return mj(t.eventGenerator_,e,n,i)}var Fb;function Bj(t){b(!Fb,"__referenceConstructor has already been defined"),Fb=t}function cv(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return b(o!=null,"SyncTree gave us an op for an invalid query."),kb(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(kb(s,e,n,r));return o}}function lv(t,e){let n=null;for(let r of t.views.values())n=n||Uj(r,e);return n}var Lb;function $j(t){b(!Lb,"__referenceConstructor has already been defined"),Lb=t}var ud=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=Nj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Hj(t,e,n,r,i){return _j(t.pendingWriteTree_,e,n,r,i),i?hd(t,new Fo(yD(),e,n)):[]}function Mo(t,e,n=!1){let r=Ej(t.pendingWriteTree_,e);if(wj(t.pendingWriteTree_,e)){let o=new Ze(null);return r.snap!=null?o=o.set(ie(),!0):Ct(r.children,s=>{o=o.set(new ae(s),!0)}),hd(t,new Ug(r.path,o,n))}else return[]}function dd(t,e,n){return hd(t,new Fo(_D(),e,n))}function zj(t,e,n){let r=Ze.fromObject(n);return hd(t,new ad(_D(),e,r))}function Wj(t,e,n,r){let i=kD(t,r);if(i!=null){let o=FD(i),s=o.path,a=o.queryId,c=wt(s,e),l=new Fo(ED(a),c,n);return LD(t,s,l)}else return[]}function Gj(t,e,n,r){let i=kD(t,r);if(i){let o=FD(i),s=o.path,a=o.queryId,c=wt(s,e),l=Ze.fromObject(n),u=new ad(ED(a),c,l);return LD(t,s,u)}else return[]}function xD(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=wt(s,e),l=lv(a,c);if(l)return l});return SD(i,e,o,n,!0)}function hd(t,e){return OD(e,t.syncPointTree_,null,bD(t.pendingWriteTree_,ie()))}function OD(t,e,n,r){if(Y(t.path))return PD(t,e,n,r);{let i=e.get(ie());n==null&&i!=null&&(n=lv(i,ie()));let o=[],s=Q(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=AD(r,s);o=o.concat(OD(a,c,l,u))}return i&&(o=o.concat(cv(i,t,r,n))),o}}function PD(t,e,n,r){let i=e.get(ie());n==null&&i!=null&&(n=lv(i,ie()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=AD(r,s),u=t.operationForChild(s);u&&(o=o.concat(PD(u,a,c,l)))}),i&&(o=o.concat(cv(i,t,r,n))),o}function kD(t,e){return t.tagToQueryMap.get(e)}function FD(t){let e=t.indexOf("$");return b(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ae(t.substr(0,e))}}function LD(t,e,n){let r=t.syncPointTree_.get(e);b(r,"Missing sync point for query tag that we're tracking");let i=bD(t.pendingWriteTree_,e);return cv(r,n,i,null)}var Yg=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Kg=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Ae(this.path_,e);return new t(this.syncTree_,n)}node(){return xD(this.syncTree_,this.path_)}},qj=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Vb=function(t,e,n){if(!t||typeof t!="object")return t;if(b(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Yj(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Kj(t[".sv"],e);b(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Yj=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:b(!1,"Unexpected server value: "+t)}},Kj=function(t,e,n){t.hasOwnProperty("increment")||b(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&b(!1,"Unexpected increment value: "+r);let i=e.node();if(b(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},Zj=function(t,e,n,r){return uv(e,new Kg(n,t),r)},Qj=function(t,e,n){return uv(t,new Yg(e),n)};function uv(t,e,n){let r=t.getPriority().val(),i=Vb(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=Vb(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Po(a,je(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Po(i))),s.forEachChild(Be,(a,c)=>{let l=uv(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Aa=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function dv(t,e){let n=e instanceof ae?e:new ae(e),r=t,i=Q(n);for(;i!==null;){let o=Gr(r.node.children,i)||{children:{},childCount:0};r=new Aa(i,r,o),n=le(n),i=Q(n)}return r}function jo(t){return t.node.value}function VD(t,e){t.node.value=e,Zg(t)}function UD(t){return t.node.childCount>0}function Jj(t){return jo(t)===void 0&&!UD(t)}function fd(t,e){Ct(t.node.children,(n,r)=>{e(new Aa(n,t,r))})}function jD(t,e,n,r){n&&!r&&e(t),fd(t,i=>{jD(i,e,!0,r)}),n&&r&&e(t)}function Xj(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Oa(t){return new ae(t.parent===null?t.name:Oa(t.parent)+"/"+t.name)}function Zg(t){t.parent!==null&&e2(t.parent,t.name,t)}function e2(t,e,n){let r=Jj(n),i=Xt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Zg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Zg(t))}var t2=/[\[\].#$\/\u0000-\u001F\u007F]/,n2=/[\[\].#$\u0000-\u001F\u007F]/,ug=10*1024*1024,BD=function(t){return typeof t=="string"&&t.length!==0&&!t2.test(t)},r2=function(t){return typeof t=="string"&&t.length!==0&&!n2.test(t)},i2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),r2(t)};var $D=function(t,e,n){let r=n instanceof ae?new bg(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+si(r));if(typeof e=="function")throw new Error(t+"contains a function "+si(r)+" with contents = "+e.toString());if(zb(e))throw new Error(t+"contains "+e.toString()+" "+si(r));if(typeof e=="string"&&e.length>ug/3&&Js(e)>ug)throw new Error(t+"contains a string greater than "+ug+" utf8 bytes "+si(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ct(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!BD(s)))throw new Error(t+" contains an invalid key ("+s+") "+si(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);KU(r,s),$D(t,a,r),ZU(r)}),i&&o)throw new Error(t+' contains ".value" child '+si(r)+" in addition to actual children.")}};var o2=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!BD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!i2(n))throw new Error(p0(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Qg=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function s2(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!dD(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function hi(t,e,n){s2(t,n),a2(t,r=>Ut(r,e)||Ut(e,r))}function a2(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(c2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function c2(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();ci&&Ue("event: "+n.toString()),Ra(r)}}}var l2="repo_interrupt",u2=25,Jg=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Qg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sd(),this.transactionQueueTree_=new Aa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function d2(t,e,n){if(t.stats_=iv(t.repoInfo_),t.forceRestClient_||bU())t.server_=new Pg(t.repoInfo_,(r,i,o,s)=>{Ub(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>jb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Te(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ov(t.repoInfo_,e,(r,i,o,s)=>{Ub(t,r,i,o,s)},r=>{jb(t,r)},r=>{f2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=SU(t.repoInfo_,()=>new Vg(t.stats_,t.server_)),t.infoData_=new kg,t.infoSyncTree_=new ud({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=dd(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),hv(t,"connected",!1),t.serverSyncTree_=new ud({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);hi(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function h2(t){let n=t.infoData_.getNode(new ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function HD(t){return qj({timestamp:h2(t)})}function Ub(t,e,n,r,i){t.dataUpdateCount++;let o=new ae(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=Qs(n,l=>je(l));s=Gj(t.serverSyncTree_,o,c,i)}else{let c=je(n);s=Wj(t.serverSyncTree_,o,c,i)}else if(r){let c=Qs(n,l=>je(l));s=zj(t.serverSyncTree_,o,c)}else{let c=je(n);s=dd(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=pv(t,o)),hi(t.eventQueue_,a,s)}function jb(t,e){hv(t,"connected",e),e===!1&&m2(t)}function f2(t,e){Ct(e,(n,r)=>{hv(t,n,r)})}function hv(t,e,n){let r=new ae("/.info/"+e),i=je(n);t.infoData_.updateSnapshot(r,i);let o=dd(t.infoSyncTree_,r,i);hi(t.eventQueue_,r,o)}function p2(t){return t.nextWriteId_++}function m2(t){zD(t,"onDisconnectEvents");let e=HD(t),n=sd();Fg(t.onDisconnect_,ie(),(i,o)=>{let s=Zj(i,o,t.serverSyncTree_,e);vD(n,i,s)});let r=[];Fg(n,ie(),(i,o)=>{r=r.concat(dd(t.serverSyncTree_,i,o));let s=_2(t,i);pv(t,s)}),t.onDisconnect_=sd(),hi(t.eventQueue_,ie(),r)}function g2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(l2)}function zD(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ue(n,...e)}function WD(t,e,n){return xD(t.serverSyncTree_,e,n)||fe.EMPTY_NODE}function fv(t,e=t.transactionQueueTree_){if(e||pd(t,e),jo(e)){let n=qD(t,e);b(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&v2(t,Oa(e),n)}else UD(e)&&fd(e,n=>{fv(t,n)})}function v2(t,e,n){let r=n.map(l=>l.currentWriteId),i=WD(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];b(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=wt(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{zD(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let p=0;p<n.length;p++)n[p].status=2,u=u.concat(Mo(t.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&d.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();pd(t,dv(t.transactionQueueTree_,e)),fv(t,t.transactionQueueTree_),hi(t.eventQueue_,e,u);for(let p=0;p<d.length;p++)Ra(d[p])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{dt("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}pv(t,e)}},s)}function pv(t,e){let n=GD(t,e),r=Oa(n),i=qD(t,n);return y2(t,i,r),r}function y2(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=wt(n,c.path),u=!1,d;if(b(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Mo(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=u2)u=!0,d="maxretry",i=i.concat(Mo(t.serverSyncTree_,c.currentWriteId,!0));else{let p=WD(t,c.path,s);c.currentInputSnapshot=p;let g=e[a].update(p.val());if(g!==void 0){$D("transaction failed: Data returned ",g,c.path);let _=je(g);typeof g=="object"&&g!=null&&Xt(g,".priority")||(_=_.updatePriority(p.getPriority()));let I=c.currentWriteId,S=HD(t),U=Qj(_,p,S);c.currentOutputSnapshotRaw=_,c.currentOutputSnapshotResolved=U,c.currentWriteId=p2(t),s.splice(s.indexOf(I),1),i=i.concat(Hj(t.serverSyncTree_,c.path,U,c.currentWriteId,c.applyLocally)),i=i.concat(Mo(t.serverSyncTree_,I,!0))}else u=!0,d="nodata",i=i.concat(Mo(t.serverSyncTree_,c.currentWriteId,!0))}hi(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(p){setTimeout(p,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}pd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ra(r[a]);fv(t,t.transactionQueueTree_)}function GD(t,e){let n,r=t.transactionQueueTree_;for(n=Q(e);n!==null&&jo(r)===void 0;)r=dv(r,n),e=le(e),n=Q(e);return r}function qD(t,e){let n=[];return YD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function YD(t,e,n){let r=jo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);fd(e,i=>{YD(t,i,n)})}function pd(t,e){let n=jo(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,VD(e,n.length>0?n:void 0)}fd(e,r=>{pd(t,r)})}function _2(t,e){let n=Oa(GD(t,e)),r=dv(t.transactionQueueTree_,e);return Xj(r,i=>{dg(t,i)}),dg(t,r),jD(r,i=>{dg(t,i)}),n}function dg(t,e){let n=jo(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(b(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(b(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Mo(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?VD(e,void 0):n.length=o+1,hi(t.eventQueue_,Oa(e),i);for(let s=0;s<r.length;s++)Ra(r[s])}}function E2(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function w2(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):dt(`Invalid query segment '${n}' in query '${t}'`)}return e}var Bb=function(t,e){let n=I2(t),r=n.namespace;n.domain==="firebase.com"&&xn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||gU();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Xu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ae(n.pathString)}},I2=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=E2(t.substring(u,d)));let p=w2(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let g=e.slice(0,l);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{let _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),o=r}"ns"in p&&(o=p.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Xg=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Y(this._path)?null:cD(this._path)}get ref(){return new Vo(this._repo,this._path)}get _queryIdentifier(){let e=Tb(this._queryParams),n=rv(e);return n==="{}"?"default":n}get _queryObject(){return Tb(this._queryParams)}isEqual(e){if(e=Ye(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=dD(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+YU(this._path)}};var Vo=class t extends Xg{constructor(e,n){super(e,n,new Og,!1)}get parent(){let e=uD(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};Bj(Vo);$j(Vo);var C2="FIREBASE_DATABASE_EMULATOR_HOST",ev={},b2=!1;function D2(t,e,n,r){t.repoInfo_=new Xu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function S2(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ue("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Bb(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[C2]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=Bb(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new Ca(Ca.OWNER):new vg(t.name,t.options,e);o2("Invalid Firebase Database URL",s),Y(s.path)||xn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=A2(a,t,u,new gg(t.name,n));return new tv(d,t)}function T2(t,e){let n=ev[e];(!n||n[t.key]!==t)&&xn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),g2(t),delete n[t.key]}function A2(t,e,n,r){let i=ev[e.name];i||(i={},ev[e.name]=i);let o=i[t.toURLString()];return o&&xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Jg(t,b2,n,r),i[t.toURLString()]=o,o}var tv=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(d2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vo(this._repo,ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(T2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&xn("Cannot call "+e+" on a deleted database.")}};function KD(t=sr(),e){let n=Kr(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=nu("database");r&&ZD(n,...r)}return n}function ZD(t,e,n,r={}){t=Ye(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&xn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ca(Ca.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:ru(r.mockUserToken,t.app.options.projectId);o=new Ca(s)}D2(i,e,n,o)}function M2(t){fU(nn),tn(new Ke("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return S2(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),de(lb,ub,t),de(lb,ub,"esm2017")}ov.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ov.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};M2();var Pa=class{constructor(e){return e}},QD="database",mv=class{constructor(){return Qr(QD)}};var gv=new D("angularfire2.database-instances");function N2(t,e){let n=ho(QD,t,e);return n&&new Pa(n)}function R2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Pa(r)}}var x2={provide:mv,deps:[[new Ce,gv]]},O2={provide:Pa,useFactory:N2,deps:[[new Ce,gv],Lt]};function JD(t,...e){return de("angularfire",Sn.full,"rtdb"),ke([O2,x2,{provide:gv,useFactory:R2(t),multi:!0,deps:[X,Se,cr,Tn,[new Ce,ri],[new Ce,ar],...e]}])}var XD=Ft(KD,!0);var oS="firebasestorage.googleapis.com",P2="storageBucket",k2=2*60*1e3,F2=10*60*1e3;var an=class t extends ut{constructor(e,n,r=0){super(vv(e),`Firebase Storage: ${n} (${vv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Pn=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Pn||{});function vv(t){return"storage/"+t}function L2(){let t="An unknown error occurred, please check the error payload for server response.";return new an(Pn.UNKNOWN,t)}function V2(){return new an(Pn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function U2(){return new an(Pn.CANCELED,"User canceled the upload/download.")}function j2(t){return new an(Pn.INVALID_URL,"Invalid URL '"+t+"'.")}function B2(t){return new an(Pn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function eS(t){return new an(Pn.INVALID_ARGUMENT,t)}function sS(){return new an(Pn.APP_DELETED,"The Firebase app was deleted.")}function $2(t){return new an(Pn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var On=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw B2(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function l(B){B.path_=decodeURIComponent(B.path)}let u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${u}/b/${i}/o${p}`,"i"),_={bucket:1,path:3},w=n===oS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",S=new RegExp(`^https?://${w}/${i}/${I}`,"i"),N=[{regex:a,indices:c,postModify:o},{regex:g,indices:_,postModify:l},{regex:S,indices:{bucket:1,path:2},postModify:l}];for(let B=0;B<N.length;B++){let ue=N[B],oe=ue.regex.exec(e);if(oe){let He=oe[ue.indices.bucket],cn=oe[ue.indices.path];cn||(cn=""),r=new t(He,cn),ue.postModify(r);break}}if(r==null)throw j2(e);return r}},yv=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function H2(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let l=!1;function u(...I){l||(l=!0,e.apply(null,I))}function d(I){i=setTimeout(()=>{i=null,t(g,c())},I)}function p(){o&&clearTimeout(o)}function g(I,...S){if(l){p();return}if(I){p(),u.call(null,I,...S);return}if(c()||s){p(),u.call(null,I,...S);return}r<64&&(r*=2);let N;a===1?(a=2,N=0):N=(r+Math.random())*1e3,d(N)}let _=!1;function w(I){_||(_=!0,p(),!l&&(i!==null?(I||(a=2),clearTimeout(i),d(0)):I||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,w(!0)},n),w}function z2(t){t(!1)}function W2(t){return t!==void 0}function tS(t,e,n,r){if(r<e)throw eS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw eS(`Invalid value for '${t}'. Expected ${n} or less.`)}function G2(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var _v=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(_v||{});function q2(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var Ev=class{constructor(e,n,r,i,o,s,a,c,l,u,d,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=d,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,_)=>{this.resolve_=g,this.reject_=_,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Bo(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===_v.NO_ERROR,c=o.getStatus();if(!a||q2(c,this.additionalRetryCodes_)&&this.retry){let u=o.getErrorCode()===_v.ABORT;r(!1,new Bo(!1,null,u));return}let l=this.successCodes_.indexOf(c)!==-1;r(!0,new Bo(l,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());W2(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=L2();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?sS():U2();s(c)}else{let c=V2();s(c)}};this.canceled_?n(!1,new Bo(!1,null,!0)):this.backoffId_=H2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&z2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Bo=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function Y2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function K2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Z2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Q2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function J2(t,e,n,r,i,o,s=!0){let a=G2(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return Z2(l,e),Y2(l,n),K2(l,o),Q2(l,r),new Ev(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}function X2(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function eB(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var p9=256*1024;var wv=class t{constructor(e,n){this._service=e,n instanceof On?this._location=n:this._location=On.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new On(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eB(this._location.path)}get storage(){return this._service}get parent(){let e=X2(this._location.path);if(e===null)return null;let n=new On(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $2(e)}};function nS(t,e){let n=e?.[P2];return n==null?null:On.makeFromBucketSpec(n,t)}function tB(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ru(i,t.app.options.projectId))}var Iv=class{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=oS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=k2,this._maxUploadRetryTime=F2,this._requests=new Set,i!=null?this._bucket=On.makeFromBucketSpec(i,this._host):this._bucket=nS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=On.makeFromBucketSpec(this._url,e):this._bucket=nS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return y(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return y(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wv(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new yv(sS());{let s=J2(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return y(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},rS="@firebase/storage",iS="0.13.2";var aS="storage";function cS(t=sr(),e){t=Ye(t);let r=Kr(t,aS).getImmediate({identifier:e}),i=nu("storage");return i&&lS(r,...i),r}function lS(t,e,n,r={}){tB(t,e,n,r)}function nB(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Iv(n,r,i,e,nn)}function rB(){tn(new Ke(aS,nB,"PUBLIC").setMultipleInstances(!0)),de(rS,iS,""),de(rS,iS,"esm2017")}rB();var ka=class{constructor(e){return e}},uS="storage",Cv=class{constructor(){return Qr(uS)}};var bv=new D("angularfire2.storage-instances");function iB(t,e){let n=ho(uS,t,e);return n&&new ka(n)}function oB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ka(r)}}var sB={provide:Cv,deps:[[new Ce,bv]]},aB={provide:ka,useFactory:iB,deps:[[new Ce,bv],Lt]};function dS(t,...e){return de("angularfire",Sn.full,"gcs"),ke([aB,sB,{provide:bv,useFactory:oB(t),multi:!0,deps:[X,Se,cr,Tn,[new Ce,ri],[new Ce,ar],...e]}])}var hS=Ft(cS,!0);var fS={firebase:{projectId:"alien-trainer-384312",appId:"1:136787582474:web:da57f94d521038a5cf49f3",databaseURL:"https://alien-trainer-384312-default-rtdb.firebaseio.com",storageBucket:"alien-trainer-384312.appspot.com",locationId:"us-central",apiKey:"AIzaSyCGuwJgEallw-z_UjEbG3rhObSdznXzhNw",authDomain:"alien-trainer-384312.firebaseapp.com",messagingSenderId:"136787582474",measurementId:"G-SHPLFLND84"}};var pS={providers:[Aw({eventCoalescing:!0}),XI(cb),vI(),N0(()=>R0(fS.firebase)),TC(()=>MC()),JD(()=>XD()),dS(()=>hS()),oI()]};var md=class t{title="dgrk-app";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ne({type:t,selectors:[["app-root"]],standalone:!0,features:[re],decls:1,vars:0,template:function(n,r){n&1&&v(0,"router-outlet")},dependencies:[Np]})};mI(md,pS).catch(t=>console.error(t));
